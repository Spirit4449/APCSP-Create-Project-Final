(()=>{"use strict";var e,t,n,a,o={915:(e,t,n)=>{n.d(t,{$E:()=>a}),e=n.hmd(e);var a={ninja:{baseHealth:8e3,attackDescription:"Unleashes a shuriken that boomerangs back.",baseDamage:1e3,ammoCooldownMs:200,ammoReloadMs:1400,ammoCapacity:1,specialDescription:"Dashes forward, releasing a flurry of shurikens.",specialBaseDamage:2e3,specialChargeHits:3,spriteScale:1,body:{widthShrink:35,heightShrink:10,offsetXFromHalf:0,offsetY:10},description:"A swift and agile fighter.",free:!0},thorg:{baseHealth:13e3,attackDescription:"Swings a heavy axe in a short arc, pushing back nearby enemies.",baseDamage:1800,ammoCooldownMs:350,ammoReloadMs:1e3,ammoCapacity:3,specialDescription:"Slams the ground to send a shockwave forward.",specialBaseDamage:2800,specialChargeHits:4,spriteScale:.7,body:{widthShrink:30,heightShrink:8,offsetXFromHalf:-43,offsetY:8},description:"A sturdy frontline bruiser with crushing blows.",free:!0},draven:{baseHealth:6e3,attackDescription:"Puffs out a magical smoke that deals splash baseDamage to everyone in the path.",baseDamage:1800,ammoCooldownMs:250,ammoReloadMs:1700,ammoCapacity:3,specialDescription:"Unleashes a staff nova that expands outward.",specialBaseDamage:2400,specialChargeHits:3,spriteScale:1.2,body:{widthShrink:220,heightShrink:195,offsetXFromHalf:90,offsetY:113,flipOffset:5},description:"A dark sorcerer who manipulates shadows.",unlockPrice:280}};e.exports&&(e.exports={DEFAULT_CHARACTER:"ninja",LEVEL_CAP:5,characterStats:a,defaultCharacterList:function(){return Object.fromEntries(Object.keys(a).map(function(e){return[e,a[e].free?1:0]}))},upgradePrice:function(e){return 200*Math.pow(2,e-1)},unlockPrice:function(e){return a[e].unlockPrice||void 0}})}},r={};function i(e){var t=r[e];if(void 0!==t)return t.exports;var n=r[e]={id:e,loaded:!1,exports:{}};return o[e](n,n.exports,i),n.loaded=!0,n.exports}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}i.d=(e,t)=>{for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.hmd=e=>((e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e),i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var l,c,u,h,p,f,d,m,y,v,g=[],b=[];const w=window.io({withCredentials:!0,autoConnect:!0});var x=i(915);function S(e){return S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},S(e)}function P(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,k(a.key),a)}}function k(e){var t=function(e){if("object"!=S(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=S(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==S(t)?t:t+""}function M(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(M=function(){return!!e})()}function j(e){return j=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},j(e)}function O(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function T(e,t){return T=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},T(e,t)}var C=function(){function e(t,n,a,o){var r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),(r=function(e,t,n){return t=j(t),function(e,t){if(t&&("object"==S(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return O(e)}(e,M()?Reflect.construct(t,n||[],j(e).constructor):t.apply(e,n))}(this,e,[t,n.x,n.y,"shuriken"])).ownerSprite=a,r.cfg=Object.assign({direction:1,forwardDistance:520,outwardDuration:600,returnSpeed:580,rotationSpeed:950,scale:.1,damage:1e3,username:"",gameId:"",isOwner:!1,maxLifetime:7e3,hitCooldown:300},o||{}),r.phase="outward",r.elapsed=0,r.totalElapsed=0,r.hoverDuration=100,r.returnAcceleration=800,r.currentReturnSpeed=.08*r.cfg.returnSpeed,r.hitTimestamps={},r.trailInterval=30,r.trailAccum=0,r.trails=[],r.maxTrails=40,t.add.existing(O(r)),t.physics.add.existing(O(r)),r.setScale(r.cfg.scale),r.body.allowGravity=!1,r.setDepth(5),r.setAngularVelocity(r.cfg.rotationSpeed*r.cfg.direction),r.startX=n.x,r.startY=n.y,r.endX=r.startX+r.cfg.direction*r.cfg.forwardDistance,r.endY=r.startY,r.ctrl1X=r.startX+r.cfg.direction*r.cfg.forwardDistance*.25,r.ctrl1Y=r.startY+20,r.ctrl2X=r.startX+r.cfg.direction*r.cfg.forwardDistance*.6,r.ctrl2Y=r.startY-40;var i=r.cfg.isOwner?3054591:16726574;return r.glow=t.add.graphics(),r.glow.setDepth(r.depth-1),r.glow.setBlendMode(Phaser.BlendModes.ADD),r._drawGlow(i),t.tweens.add({targets:r.glow,scale:{from:.95,to:1.15},alpha:{from:.9,to:.55},duration:600,repeat:-1,yoyo:!0,ease:"Sine.easeInOut"}),r.scene.events.on("update",r.updateShuriken,O(r)),r}var t,n;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&T(e,t)}(e,Phaser.Physics.Arcade.Image),t=e,n=[{key:"_drawGlow",value:function(e){var t=85*this.cfg.scale,n=.42*t,a=.9*t,o=1.2*t,r=Phaser.Display.Color.IntegerToColor(e);this.glow.clear(),this.glow.x=this.x,this.glow.y=this.y,this.glow.fillStyle(r.color,.42),this.glow.fillCircle(0,0,o),this.glow.fillStyle(r.color,.72),this.glow.fillCircle(0,0,a),this.glow.fillStyle(r.color,.95),this.glow.fillCircle(0,0,n)}},{key:"cubic",value:function(e,t,n,a,o){var r=1-e;return r*r*r*t+3*r*r*e*n+3*r*e*e*a+e*e*e*o}},{key:"tryDamage",value:function(e){if(!this.cfg.isOwner)return!1;if(!e)return!1;var t=e.username||e._username||e.name||"unknown",n=this.scene.time.now;if(n-(this.hitTimestamps[t]||0)<this.cfg.hitCooldown)return!1;this.hitTimestamps[t]=n,w.emit("hit",{attacker:this.cfg.username,target:t,damage:this.cfg.damage,gameId:this.cfg.gameId});try{this.scene.sound.play("shurikenHit",{volume:.1,rate:1})}catch(e){}return!0}},{key:"attachEnemyOverlap",value:function(e){var t=this;e.forEach(function(e){if(e){var n=e.opponent||e;t.scene.physics.add.overlap(t,n,function(){e.opponent&&t.tryDamage(e)})}})}},{key:"attachMapOverlap",value:function(){}},{key:"spawnTrail",value:function(){var e=this.scene.add.image(this.x,this.y,"shuriken");if(e.setScale(.4*this.cfg.scale),e.setDepth(4),e.alpha=.35,this.scene.tweens.add({targets:e,alpha:0,scale:{from:e.scale,to:.15*e.scale},duration:300,ease:"Cubic.easeOut",onComplete:function(){return e.destroy()}}),this.trails.push(e),this.trails.length>this.maxTrails){var t=this.trails.shift();t&&t.destroy&&t.destroy()}}},{key:"destroyShuriken",value:function(){this.scene&&(this.scene.events.off("update",this.updateShuriken,this),this.trails.forEach(function(e){return e&&e.destroy&&e.destroy()}),this.trails.length=0,this.glow&&this.glow.destroy&&this.glow.destroy(),this.destroy())}},{key:"updateShuriken",value:function(e,t){if(this.active)if(this.elapsed+=t,this.totalElapsed+=t,this.trailAccum+=t,this.trailAccum>=this.trailInterval&&(this.spawnTrail(),this.trailAccum=0),this.totalElapsed>this.cfg.maxLifetime)this.destroyShuriken();else{if("outward"===this.phase){var n=Phaser.Math.Clamp(this.elapsed/this.cfg.outwardDuration,0,1),a=(1-Math.cos(Math.PI*n))/2,o=this.cubic(a,this.startX,this.ctrl1X,this.ctrl2X,this.endX),r=this.cubic(a,this.startY,this.ctrl1Y,this.ctrl2Y,this.endY);this.setPosition(o,r),n>=1&&(this.phase="hover",this.elapsed=0,this.setAngularVelocity(.55*this.cfg.rotationSpeed*this.cfg.direction))}else if("hover"===this.phase)this.elapsed>=this.hoverDuration&&(this.phase="return",this.elapsed=0,this.setAngularVelocity(1.15*this.cfg.rotationSpeed*this.cfg.direction));else if("return"===this.phase)if(this.ownerSprite&&this.ownerSprite.active){var i=this.ownerSprite.x-this.x,s=this.ownerSprite.y-this.y,l=Math.sqrt(i*i+s*s)||1;this.currentReturnSpeed=Math.min(this.cfg.returnSpeed,this.currentReturnSpeed+this.returnAcceleration*(t/1e3));var c=this.currentReturnSpeed*(t/1e3);if(this.setPosition(this.x+i/l*c,this.y+s/l*c),l<30){if(this.cfg.isOwner&&this.onReturn&&"function"==typeof this.onReturn)try{this.onReturn()}catch(e){}return void this.destroyShuriken()}}else this.x+=this.cfg.direction*(this.currentReturnSpeed*(t/1e3));this.glow&&(this.glow.x=this.x,this.glow.y=this.y)}}}],n&&P(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function D(e){return D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},D(e)}function I(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,A(a.key),a)}}function A(e){var t=function(e){if("object"!=D(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=D(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==D(t)?t:t+""}var B,R,E,H="ninja",_=function(){function e(t){var n=t.scene,a=t.player,o=t.username,r=t.gameId,i=t.opponentPlayersRef,s=t.mapObjects,l=t.ammoHooks;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scene=n,this.player=a,this.username=o,this.gameId=r,this.opponentPlayersRef=i,this.mapObjects=s,this.ammo=l}var t,n,a;return t=e,n=[{key:"attachInput",value:function(){var e=this;this.scene.input.on("pointerdown",function(){return e.handlePointerDown()})}},{key:"performDefaultAttack",value:function(e,t){var n=this.ammo,a=n.getAmmoCooldownMs,o=n.tryConsume,r=n.setCanAttack,i=n.setIsAttacking,s=n.drawAmmoBar;if(!o())return!1;r(!1),i(!0);var l=a();this.scene.time.delayedCall(l,function(){return r(!0)}),setTimeout(function(){return i(!1)},300);var c="function"==typeof e?e():null;return c&&w.emit("attack",c),s(),"function"==typeof t&&t(),!0}},{key:"handlePointerDown",value:function(){var e=this,t=this.player,n=t.flipX?-1:1,a=(this.constructor.getStats&&this.constructor.getStats()||{}).damage,o=this.performDefaultAttack(function(){var o=e.scene.sound.add("shurikenThrow");o.setVolume(.1),o.setRate(1.3),o.play(),e.scene.anims&&(e.scene.anims.exists("".concat(H,"-throw"))||e.scene.anims.exists("throw"))&&t.anims.play(e.scene.anims.exists("".concat(H,"-throw"))?"".concat(H,"-throw"):"throw",!0);var r={direction:n,username:e.username,gameId:e.gameId,isOwner:!0,damage:a,rotationSpeed:2e3,forwardDistance:500,arcHeight:160,outwardDuration:380,returnSpeed:900},i=new C(e.scene,{x:t.x,y:t.y},t,r),s=Object.values(e.opponentPlayersRef||{});i.attachEnemyOverlap(s),i.attachMapOverlap(e.mapObjects);var l=e.ammo,c=l.grantCharge,u=l.setCanAttack,h=l.drawAmmoBar;return i.onReturn=function(){c(1),u(!0),h()},{x:t.x,y:t.y,scale:r.scale||.1,damage:r.damage,name:e.username,returning:!0,direction:n,forwardDistance:r.forwardDistance,outwardDuration:r.outwardDuration,returnSpeed:r.returnSpeed,rotationSpeed:r.rotationSpeed}});return o}}],a=[{key:"getTextureKey",value:function(){return e.textureKey}},{key:"preload",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/assets";e.load.atlas(H,"".concat(t,"/").concat(H,"/spritesheet.png"),"".concat(t,"/").concat(H,"/animations.json")),e.load.image("shuriken","".concat(t,"/").concat(H,"/shuriken.png")),e.load.audio("shurikenThrow","".concat(t,"/").concat(H,"/shurikenThrow.mp3")),e.load.audio("shurikenHit","".concat(t,"/").concat(H,"/hit.mp3")),e.load.audio("shurikenHitWood","".concat(t,"/").concat(H,"/woodhit.wav"))}},{key:"setupAnimations",value:function(e){!function(e){e.anims.exists("ninja-running")||e.anims.create({key:"ninja-running",frames:e.anims.generateFrameNames("ninja",{prefix:"running",end:5,zeroPad:2}),frameRate:20,repeat:0}),e.anims.exists("ninja-idle")||e.anims.create({key:"ninja-idle",frames:e.anims.generateFrameNames("ninja",{prefix:"idle",end:4,zeroPad:2}),frameRate:3,repeat:-1}),e.anims.exists("ninja-jumping")||e.anims.create({key:"ninja-jumping",frames:e.anims.generateFrameNames("ninja",{prefix:"jumping",end:7,zeroPad:2}),frameRate:20,repeat:0}),e.anims.exists("ninja-sliding")||e.anims.create({key:"ninja-sliding",frames:e.anims.generateFrameNames("ninja",{prefix:"wall",end:0,zeroPad:2}),frameRate:20,repeat:2}),e.anims.exists("ninja-falling")||e.anims.create({key:"ninja-falling",frames:e.anims.generateFrameNames("ninja",{prefix:"falling",end:2,zeroPad:2}),frameRate:20,repeat:0}),e.anims.exists("ninja-throw")||e.anims.create({key:"ninja-throw",frames:e.anims.generateFrameNames("ninja",{prefix:"throw",end:3,zeroPad:2}),frameRate:15,repeat:0}),e.anims.exists("ninja-dying")||e.anims.create({key:"ninja-dying",frames:e.anims.generateFrameNames("ninja",{prefix:"dying",end:3,zeroPad:2}),frameRate:10,repeat:0})}(e)}},{key:"getStats",value:function(){return x.$E.ninja}},{key:"handleRemoteAttack",value:function(e,t,n){if(t.returning){var a=n?n.opponent:null;return new C(e,{x:t.x,y:t.y},a,{direction:t.direction,forwardDistance:t.forwardDistance||500,outwardDuration:t.outwardDuration||380,returnSpeed:t.returnSpeed||900,rotationSpeed:t.rotationSpeed||2e3,scale:t.scale||.1,damage:t.damage,isOwner:!1}),!0}var o=e.physics.add.image(t.x,t.y,t.weapon||"shuriken");return o.setScale(t.scale||.1),o.setVelocity(400*(t.direction||1),0),o.setAngularVelocity(t.rotationSpeed||600),o.body.allowGravity=!1,!0}}],n&&I(t.prototype,n),a&&I(t,a),Object.defineProperty(t,"prototype",{writable:!1}),e}();B=_,E=H,(R=A(R="textureKey"))in B?Object.defineProperty(B,R,{value:E,enumerable:!0,configurable:!0,writable:!0}):B[R]=E;const F=_;function X(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}function N(e){var t="thorg",n=e.textures.get(t),a=n&&n.getFrameNames()||[],o=(new Map(a.map(function(e){return[e.toLowerCase(),e]})),function(n,o,r,i){if(!e.anims.exists(n)){var s=function(e){var t,n=[],o=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return X(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?X(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var a=0,o=function(){};return{s:o,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,i=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){s=!0,r=e},f:function(){try{i||null==n.return||n.return()}finally{if(s)throw r}}}}(a);try{var r=function(){var a=t.value,o=a.toLowerCase();e.some(function(e){return o.startsWith(e)})&&n.push(a)};for(o.s();!(t=o.n()).done;)r()}catch(e){o.e(e)}finally{o.f()}return n.sort(function(e,t){var n=/(\d+)(?=\D*$)/.exec(e),a=/(\d+)(?=\D*$)/.exec(t);return n&&a?parseInt(n[1],10)-parseInt(a[1],10):e.localeCompare(t)}),n}(o);s.length&&e.anims.create({key:n,frames:s.map(function(e){return{key:t,frame:e}}),frameRate:r,repeat:i})}});o("".concat(t,"-running"),["running","run"],20,0),o("".concat(t,"-idle"),["idle","stand","idle_"],5,-1),o("".concat(t,"-jumping"),["jumping","jump"],20,0),o("".concat(t,"-sliding"),["wall","slide","sliding"],20,2),o("".concat(t,"-falling"),["falling","fall"],20,0),o("".concat(t,"-throw"),["throw","attack","attack_throw"],15,0),o("".concat(t,"-dying"),["dying","death","dead"],10,0)}function L(e){return L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},L(e)}function G(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,U(a.key),a)}}function U(e){var t=function(e){if("object"!=L(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=L(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==L(t)?t:t+""}var Y="thorg",V=function(){function e(t){var n=t.scene,a=t.player,o=t.username,r=t.gameId,i=t.opponentPlayersRef,s=t.mapObjects,l=t.ammoHooks;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scene=n,this.player=a,this.username=o,this.gameId=r,this.opponentPlayersRef=i,this.mapObjects=s,this.ammo=l}return function(e,t,n){t&&G(e.prototype,t),n&&G(e,n),Object.defineProperty(e,"prototype",{writable:!1})}(e,[{key:"attachInput",value:function(){var e=this;this.scene.input.on("pointerdown",function(){return e.handlePointerDown()})}},{key:"performDefaultAttack",value:function(e,t){var n=this.ammo,a=n.getAmmoCooldownMs,o=n.tryConsume,r=n.setCanAttack,i=n.setIsAttacking,s=n.drawAmmoBar;if(!o())return!1;i(!0),r(!1);var l=a();this.scene.time.delayedCall(l,function(){return r(!0)}),setTimeout(function(){return i(!1)},250);var c="function"==typeof e?e():null;return c&&w.emit("attack",c),s(),"function"==typeof t&&t(),!0}},{key:"handlePointerDown",value:function(){var t=this,n=this.player,a=n.flipX?-1:1,o=(this.constructor.getStats&&this.constructor.getStats()||{}).damage;return this.performDefaultAttack(function(){t.scene.anims&&(t.scene.anims.exists("".concat(Y,"-throw"))||t.scene.anims.exists("throw"))&&n.anims.play(t.scene.anims.exists("".concat(Y,"-throw"))?"".concat(Y,"-throw"):"throw",!0),e._spawnSlashEffect(t.scene,n,a,90,220);var r=new Set,i=Object.values(t.opponentPlayersRef||{}),s=.2*n.height,l=function(){return n.x+(a>=0?10:-10)},c=Phaser.Math.DegToRad(a>=0?-60:240),u=Phaser.Math.DegToRad(a>=0?60:120),h={t:0};return t.scene.tweens.add({targets:h,t:1,duration:220,ease:"Sine.easeOut",onUpdate:function(){for(var e=Phaser.Math.Linear(c,u,h.t),p=l()+a*Math.cos(e)*90,f=n.y-s+Math.sin(e)*Math.round(54),d=0,m=i;d<m.length;d++){var y=m[d],v=y&&y.opponent,g=y&&y.username;if(v&&g&&!r.has(g)){var b=v.x-l();Math.hypot(v.x-p,v.y-f)<=38&&Math.sign(b)===Math.sign(a)&&(r.add(g),w.emit("hit",{attacker:t.username,target:g,damage:o,gameId:t.gameId}))}}}}),{name:t.username,type:"".concat(Y,"-slash"),direction:a,range:90,duration:220}})}}],[{key:"getTextureKey",value:function(){return e.textureKey}},{key:"preload",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/assets";e.load.atlas(Y,"".concat(t,"/").concat(Y,"/spritesheet.png"),"".concat(t,"/").concat(Y,"/animations.json"))}},{key:"setupAnimations",value:function(e){N(e)}},{key:"handleRemoteAttack",value:function(t,n,a){if(n.type!=="".concat(Y,"-slash"))return!1;var o=a?a.opponent:null;return!o||(e._spawnSlashEffect(t,o,n.direction,n.range,n.duration),!0)}},{key:"_spawnSlashEffect",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:20,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:300,r=e.textures.exists("".concat(Y,"-weapon")),i=.1*t.height,s=function(){return t.x+(n>=0?10:-10)},l=function(){return t.y-i},c=a,u=Math.round(.6*a),h=Phaser.Math.DegToRad(-90),p=Phaser.Math.DegToRad(90);if(r){var f=e.add.image(s(),l(),"".concat(Y,"-weapon"));f.setDepth(6),f.setScale(.9),f.setOrigin(n>=0?.1:.9,.5),f.setFlipX(n<0);var d={t:0};return e.tweens.add({targets:d,t:1,duration:o,ease:"Sine.easeOut",onUpdate:function(){var e=Phaser.Math.Linear(h,p,d.t),t=Math.cos(e),a=Math.sin(e);f.x=s()+n*c*t,f.y=l()+u*a;var o=Math.atan2(u*Math.cos(e),-n*c*Math.sin(e));f.rotation=o},onComplete:function(){f.destroy()}})}var m=e.add.graphics();m.setDepth(5),m.setBlendMode(Phaser.BlendModes.ADD);var y=Math.max(14,Math.round(.22*a)),v=Math.max(6,c-y),g=Math.max(4,u-Math.round(.75*y)),b=function(e,t,a){return{x:s()+n*t*Math.cos(e),y:l()+a*Math.sin(e)}},w={t:0},x=18;return e.tweens.add({targets:w,t:1,duration:o,ease:"Sine.easeOut",onUpdate:function(){var e=Phaser.Math.Linear(h,p,w.t),t=Phaser.Math.Linear(h,e,Math.max(0,w.t-.25));m.clear(),m.fillStyle(10408447,.85),m.beginPath();for(var n=0;n<=x;n++){var a=Phaser.Math.Linear(t,e,n/x),o=b(a,c,u);0===n?m.moveTo(o.x,o.y):m.lineTo(o.x,o.y)}for(var r=x;r>=0;r--){var i=Phaser.Math.Linear(t,e,r/x),s=b(i,v,g);m.lineTo(s.x,s.y)}m.closePath(),m.fillPath(),m.lineStyle(Math.max(2,Math.floor(.3*y)),15005183,.9),m.beginPath();for(var l=0;l<=x;l++){var f=Phaser.Math.Linear(Math.max(t,e-.25),e,l/x),d=b(f,c+2,u+1);0===l?m.moveTo(d.x,d.y):m.lineTo(d.x,d.y)}m.strokePath()},onComplete:function(){return m.destroy()}})}},{key:"getStats",value:function(){return x.$E.thorg}}]),e}();!function(e,t,n){(t=U(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(V,"textureKey",Y);const K=V;function W(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}function $(e){var t="draven",n=e.textures.get(t),a=n&&n.getFrameNames()||[],o=(new Map(a.map(function(e){return[e.toLowerCase(),e]})),function(n,o,r,i){if(!e.anims.exists(n)){var s=function(e){var t,n=[],o=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return W(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?W(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var a=0,o=function(){};return{s:o,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,i=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){s=!0,r=e},f:function(){try{i||null==n.return||n.return()}finally{if(s)throw r}}}}(a);try{var r=function(){var a=t.value,o=a.toLowerCase();e.some(function(e){return o.startsWith(e)})&&n.push(a)};for(o.s();!(t=o.n()).done;)r()}catch(e){o.e(e)}finally{o.f()}return n.sort(function(e,t){var n=/(\d+)(?=\D*$)/.exec(e),a=/(\d+)(?=\D*$)/.exec(t);return n&&a?parseInt(n[1],10)-parseInt(a[1],10):e.localeCompare(t)}),n}(o);s.length&&e.anims.create({key:n,frames:s.map(function(e){return{key:t,frame:e}}),frameRate:r,repeat:i})}});o("".concat(t,"-running"),["running","run"],20,0),o("".concat(t,"-idle"),["idle","stand","idle_"],3,-1),o("".concat(t,"-jumping"),["jumping","jump"],20,0),o("".concat(t,"-sliding"),["wall","slide","sliding"],20,2),o("".concat(t,"-falling"),["falling","fall"],20,0),o("".concat(t,"-throw"),["throw","attack","attack_throw"],15,0),o("".concat(t,"-dying"),["dying","death","dead"],10,0)}function z(e){return z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},z(e)}function q(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,J(a.key),a)}}function J(e){var t=function(e){if("object"!=z(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=z(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==z(t)?t:t+""}var Q=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scene=t,this.sprite=n,this._timer=0,this._interval=45,this._pool=[],this._poolMax=60}return function(e,t){t&&q(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1})}(e,[{key:"_acquire",value:function(){var e=this._pool.find(function(e){return!e.active});return e||(e=this.scene.add.graphics(),this._pool.push(e)),e.active=!0,e.clear(),e.setDepth(0),e}},{key:"_release",value:function(e){if(e.active=!1,e.alpha=1,e.scale=1,e.clear(),this._pool.length>this._poolMax){var t=this._pool.find(function(e){return!e.active});if(t){t.destroy();var n=this._pool.indexOf(t);n>=0&&this._pool.splice(n,1)}}}},{key:"_spawnFlame",value:function(e,t){var n=this,a=this._acquire(),o=Phaser.Math.Between(5,9);a.fillStyle(3221569,.35),a.fillCircle(0,0,o),a.fillStyle(12213538,.55),a.fillCircle(0,0,.65*o),a.fillStyle(Phaser.Display.Color.GetColor(49,Phaser.Math.Between(30,60),60),.9),a.fillCircle(0,0,.35*o),a.x=e+Phaser.Math.Between(-3,3),a.y=t+Phaser.Math.Between(-3,3);var r=Phaser.Math.Between(-12,12),i=Phaser.Math.Between(-18,-4),s=Phaser.Math.FloatBetween(.15,.35),l=Phaser.Math.Between(260,420);a.scale=1,this.scene.tweens.add({targets:a,x:a.x+r,y:a.y+i,scale:s,alpha:0,duration:l,ease:"Cubic.easeOut",onComplete:function(){return n._release(a)}})}},{key:"update",value:function(e,t,n){if(this.sprite&&!n&&t&&(this._timer+=e,this._timer>=this._interval)){this._timer=0;for(var a=this.sprite.x-(this.sprite.flipX?-14:14),o=this.sprite.y+8,r=Phaser.Math.Between(1,2),i=0;i<r;i++)this._spawnFlame(a,o)}}}]),e}();function Z(e){return Z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Z(e)}function ee(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,ne(a.key),a)}}function te(e,t,n){return(t=ne(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ne(e){var t=function(e){if("object"!=Z(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Z(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Z(t)?t:t+""}var ae="draven",oe=function(){function e(t){var n=t.scene,a=t.player,o=t.username,r=t.gameId,i=t.opponentPlayersRef,s=t.mapObjects,l=t.ammoHooks;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scene=n,this.player=a,this.username=o,this.gameId=r,this.opponentPlayersRef=i,this.mapObjects=s,this.ammo=l}return function(e,t,n){t&&ee(e.prototype,t),n&&ee(e,n),Object.defineProperty(e,"prototype",{writable:!1})}(e,[{key:"attachInput",value:function(){var e=this;this.scene.input.on("pointerdown",function(){return e.handlePointerDown()})}},{key:"performDefaultAttack",value:function(e,t){var n=this.ammo,a=n.getAmmoCooldownMs,o=n.tryConsume,r=n.setCanAttack,i=n.setIsAttacking,s=n.drawAmmoBar;if(!o())return!1;i(!0),r(!1);var l=a();this.scene.time.delayedCall(l,function(){return r(!0)}),setTimeout(function(){return i(!1)},250);var c="function"==typeof e?e():null;return c&&w.emit("attack",c),s(),"function"==typeof t&&t(),!0}},{key:"handlePointerDown",value:function(){var e=this,t=this.player,n=t.flipX?-1:1,a=(this.constructor.getStats&&this.constructor.getStats()||{}).damage;return this.performDefaultAttack(function(){e.scene.anims&&(e.scene.anims.exists("".concat(ae,"-throw"))||e.scene.anims.exists("throw"))&&t.anims.play(e.scene.anims.exists("".concat(ae,"-throw"))?"".concat(ae,"-throw"):"throw",!0);var o=e.scene.add.graphics();o.setDepth(5),o.setBlendMode(Phaser.BlendModes.ADD);var r=Math.max(12,Math.round(18.9)),i=Math.round(.55*105),s=Math.max(4,105-r),l=Math.max(3,i-Math.round(.7*r)),c=function(){return t.x+(n>=0?20:-20)},u=function(){return t.y-.15*t.height},h=function(e,t,a){return{x:c()+n*t*Math.cos(e),y:u()+a*Math.sin(e)}},p=Phaser.Math.DegToRad(-80),f=Phaser.Math.DegToRad(80),d={t:0},m=18;e.scene.tweens.add({targets:d,t:1,duration:260,ease:"Sine.easeOut",onUpdate:function(){var e=Phaser.Math.Linear(p,f,d.t),t=Phaser.Math.Linear(p,e,Math.max(0,d.t-.25));o.clear(),o.fillStyle(16769694,.85),o.beginPath();for(var n=0;n<=m;n++){var a=Phaser.Math.Linear(t,e,n/m),c=h(a,105,i);0===n?o.moveTo(c.x,c.y):o.lineTo(c.x,c.y)}for(var u=m;u>=0;u--){var y=Phaser.Math.Linear(t,e,u/m),v=h(y,s,l);o.lineTo(v.x,v.y)}o.closePath(),o.fillPath(),o.lineStyle(Math.max(2,Math.floor(.3*r)),16774865,.9),o.beginPath();for(var g=0;g<=m;g++){var b=Phaser.Math.Linear(Math.max(t,e-.25),e,g/m),w=h(b,107,i+1);0===g?o.moveTo(w.x,w.y):o.lineTo(w.x,w.y)}o.strokePath()},onComplete:function(){return o.destroy()}});var y=new Set,v=Object.values(e.opponentPlayersRef||{}),g=function(){return c()+105*n},b=function(){return u()};return e.scene.time.delayedCall(Math.floor(130),function(){for(var t=0,o=v;t<o.length;t++){var r=o[t],i=r&&r.opponent,s=r&&r.username;if(i&&s&&!y.has(s)){var l=Phaser.Math.Distance.Between(i.x,i.y,g(),b()),u=i.x-c();l<=50&&Math.sign(u)===Math.sign(n)&&(y.add(s),w.emit("hit",{attacker:e.username,target:s,damage:a,gameId:e.gameId}))}}}),{name:e.username,type:"".concat(ae,"-slash"),direction:n,range:105,duration:260}})}}],[{key:"getTextureKey",value:function(){return e.textureKey}},{key:"preload",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/assets";e.load.atlas(ae,"".concat(t,"/").concat(ae,"/spritesheet.png"),"".concat(t,"/").concat(ae,"/animations.json")),e.load.on(Phaser.Loader.Events.COMPLETE,function(){var t=e.textures.get(ae);t&&t.source&&t.source[0]&&t.source[0].glTexture&&t.setFilter(Phaser.Textures.FilterMode.NEAREST),e.game&&e.game.config&&(e.game.config.pixelArt=!0,e.game.config.antialias=!1)})}},{key:"setupAnimations",value:function(e){$(e)}},{key:"handleRemoteAttack",value:function(e,t,n){}},{key:"getStats",value:function(){return x.$E.draven}}]),e}();te(oe,"textureKey",ae),te(oe,"Effects",Q);var re={ninja:F,thorg:K,draven:oe};function ie(e){var t=re[e];return t&&(t.textureKey||"function"==typeof t.getTextureKey&&t.getTextureKey())||"sprite"}function se(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"idle",o=(t||"").toLowerCase(),r=e&&e.anims;if(!r)return n;if(n&&n.includes("-")){if(n.toLowerCase().startsWith("".concat(o,"-"))&&r.exists(n))return n;var i=n.split("-").slice(1).join("-"),s="".concat(o,"-").concat(i);if(r.exists(s))return s;if(r.exists(n))return n}var l="".concat(o,"-").concat(n);if(r.exists(l))return l;if(r.exists(n))return n;var c="".concat(o,"-").concat(a);return r.exists(c)?c:r.exists(a)?a:n}function le(e){return x.$E[e]||x.$E.ninja}function ce(e){var t=re[e];return t&&(t.Effects||"function"==typeof t.getEffects&&t.getEffects())||null}var ue,he,pe=[];function fe(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:12303291,o=pe.find(function(e){return!e.active});o||(o=e.add.graphics(),pe.push(o)),o.active=!0,o.clear(),o.setDepth(1);var r=Phaser.Math.Between(6,10),i=Phaser.Math.FloatBetween(.45,.65),s=Phaser.Display.Color.IntegerToColor(a);o.fillStyle(s.color,.6*i),o.fillCircle(0,0,r),o.fillStyle(s.color,i),o.fillCircle(0,0,.55*r),o.x=t+Phaser.Math.Between(-4,4),o.y=n+Phaser.Math.Between(-2,2);var l=Phaser.Math.Between(10,22),c=Phaser.Math.Between(-12,12),u=Phaser.Math.FloatBetween(1.2,1.6),h=Phaser.Math.Between(380,520);if(o.scale=1,o.alpha=i,e.tweens.add({targets:o,x:o.x+c,y:o.y-l,alpha:0,scale:u,duration:h,ease:"Cubic.easeOut",onComplete:function(){o.active=!1,o.alpha=1,o.scale=1,o.clear()}}),pe.length>120){var p=pe.find(function(e){return!e.active});if(p){p.destroy();var f=pe.indexOf(p);f>=0&&pe.splice(f,1)}}}var de,me,ye,ve,ge,be,we,xe,Se,Pe,ke,Me,je,Oe,Te,Ce,De=!0,Ie=!1,Ae=!1,Be=!1,Re=!0,Ee=0,He=!1,_e=8e3,Fe=8e3,Xe=!1,Ne=1200,Le=1200,Ge=1,Ue=1,Ye=0,Ve=0,Ke=window.location.pathname.split("/").filter(Boolean).pop(),We=0,$e=null,ze=null,qe=null;function Je(){Fe<=0&&(Fe=0);var e=Fe/_e*60;me.clear();var t=ue.x-30,n=(ue.body?ue.body.y:ue.y-ue.height/2)-20;Xe?(ye.setText("0"),be.setPosition(ue.x,be.y+30)):ye.setText("".concat(Fe)),me.fillStyle(5855577),me.fillRect(t,n,60,9),me.lineStyle(3,0),me.strokeRoundedRect(t,n,60,9,3),me.fillStyle(10070828),me.fillRoundedRect(t,n,e,9,3),ye.setPosition(ue.x-ye.width/2,n-8),ye.setDepth(2),Qe(t,n+11)}function Qe(e,t){if(ve&&ge){var n=void 0!==e?e:ue.x-30,a=ue.body?ue.body.y:ue.y-ue.height/2,o=void 0!==t?t:a-9;ge.clear(),ve.clear(),ge.fillStyle(2236962,.65),ge.fillRoundedRect(n,o,60,6,3),ge.lineStyle(2,0,.9),ge.strokeRoundedRect(n,o,60,6,3);for(var r=(60-2*(Ge-1))/Ge,i=0;i<Ge;i++){var s,l=n+i*(r+2),c=(s=i<Ue?1:i===Ue?Phaser.Math.Clamp(Ve/Le,0,1):0)>=1?16728128:11739425;ve.fillStyle(3355443,.5),ve.fillRoundedRect(l,o,r,6,2),s>0&&(ve.fillStyle(c,.95),ve.fillRoundedRect(l,o,r*s,6,2))}ve.setDepth(2),ge.setDepth(1)}}function Ze(e,t,n){var a=e.width/Me,o=e.getBounds().left,r=e.getTopCenter().y-n.height/2,i=o+t*a/2-1.333*n.width;n.x=i,n.y=r}function et(e,t,n){var a,o=String(t);"top"===e?"1"===o?a=p:"2"===o?a=f:"3"===o&&(a=d):"bottom"===e&&("1"===o?a=m:"2"===o?a=y:"3"===o&&(a=v));var r=a.width,i=a.getBounds().left,s=a.getTopCenter().y-n.height/2,l=i+r/2-n.width;n.x=l,n.y=s}function tt(e){return tt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tt(e)}function nt(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,at(a.key),a)}}function at(e){var t=function(e){if("object"!=tt(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=tt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==tt(t)?t:t+""}w.on("health-update",function(e){if(e.gameId===Ke&&e.username===xe){var t=Fe;if(Fe=e.health,Se&&Se.sound&&!Xe){var n=Fe-t;n<0?Se.sound.play("sfx-damage",{volume:.1}):n>0&&Se.sound.add("sfx-heal",{volume:.1})}Fe<=0&&(Xe||(Xe=!0,ue.anims.play(se(Se,Pe,"dying"),!0),Se.input.enabled=!1,ue.alpha=.5),Fe=0),Je()}});var ot=function(){function n(e,t,a,o,r,i,s,l){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),this.scene=e,this.character=t,this.username=a,this.team=o,this.spawnPlatform=r,this.spawn=i,this.map=l,this.mapObjects,this.playersInTeam=s,this.opMaxHealth=8e3,this.opCurrentHealth=8e3,this.opHealthBarWidth=60,this.movementTween=null,this.effects=null,this.createOpPlayer()}return function(e,t){t&&nt(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1})}(n,[{key:"createOpPlayer",value:function(){var n,a,o=this,r=ie(this.character);this.opponent=this.scene.physics.add.sprite(-100,-100,r),this.opponent.setVisible(!1);var i=le(this.character);this.bodyConfig=i&&i.body||{},i&&"number"==typeof i.maxHealth&&(this.opMaxHealth=i.maxHealth,this.opCurrentHealth=this.opMaxHealth),i.spriteScale&&1!==i.spriteScale&&this.opponent.setScale(i.spriteScale),this.opponent.body.allowGravity=!1,this.opponent.anims.play(se(this.scene,this.character,"idle"),!0),this.opFrame=this.opponent.frame;var s=this.bodyConfig,l=null!==(n=s.widthShrink)&&void 0!==n?n:35,c=null!==(a=s.heightShrink)&&void 0!==a?a:10;this.opponent.body.setSize(this.opFrame.width-l,this.opFrame.height-c),this.applyFlipOffset();var u=ce(this.character);u&&(this.effects=new u(this.scene,this.opponent),this.scene.events.on("update",this._onSceneUpdate,this)),"bottom"===this.spawnPlatform?"1"===this.map?Ze(e,this.spawn,this.opponent):"2"===this.map&&et("bottom",this.spawn,this.opponent):"top"===this.spawnPlatform&&("1"===this.map?Ze(t,this.spawn,this.opponent):"2"===this.map&&et("top",this.spawn,this.opponent)),this.opponent.setVisible(!0);var h=this.opponent.body?this.opponent.body.y:this.opponent.y-this.opponent.height/2;this.opPlayerName=this.scene.add.text(this.opponent.x,h-36,this.username),this.opPlayerName.setStyle({font:"bold 8pt Arial",fill:"#000000"}),this.opPlayerName.setOrigin(.5,0),this.opPlayerName.setDepth(3),this.opHealthText=this.scene.add.text(0,0,"",{fontFamily:"Arial",fontSize:"10px",color:"#FFFFFF",stroke:"#000000",strokeThickness:4}),this.opHealthBar=this.scene.add.graphics(),this.updateHealthBar(),this.updateUIPosition(),w.on("health-update",function(e){e.username===o.username&&(o.opCurrentHealth=e.health,o.opCurrentHealth<=0?(o.opCurrentHealth=0,o.updateHealthBar(!0),o.effects&&(o.scene.events.off("update",o._onSceneUpdate,o),o.effects=null)):o.updateHealthBar())})}},{key:"_onSceneUpdate",value:function(){if(this.effects&&this.opponent){var e=this.opponent.body&&Math.abs(this.opponent.body.velocity.x)>5||!!this.movementTween,t=this.opCurrentHealth<=0;this.effects.update(this.scene.game.loop.delta,e,t)}}},{key:"applyFlipOffset",value:function(){var e,t;if(this.opponent&&this.opponent.body){var n=this.bodyConfig||{},a=null!==(e=n.offsetXFromHalf)&&void 0!==e?e:0,o=null!==(t=n.offsetY)&&void 0!==t?t:10,r=n.flipOffset||0,i=this.opponent.flipX?r:0;this.opponent.body.setOffset(this.opponent.body.width/2+a+i,o)}}},{key:"updateUIPosition",value:function(){if(this.opponent){var e=this.opponent.body?this.opponent.body.y:this.opponent.y-this.opponent.height/2;this.opPlayerName&&this.opPlayerName.setPosition(this.opponent.x,e-36),this.updateHealthBar(!1)}}},{key:"updateHealthBar",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;this.opCurrentHealth<0&&(this.opCurrentHealth=0);var n=Math.max(0,Math.min(1,this.opCurrentHealth/this.opMaxHealth)),a=this.opHealthBarWidth*n;this.opHealthBar.clear();var o=this.opponent.x-this.opHealthBarWidth/2,r=this.opponent.body?this.opponent.body.y:this.opponent.y-this.opponent.height/2,i="number"!=typeof t||Number.isNaN(t)?r-15:t;!1===e?this.opHealthText.setText("".concat(this.opCurrentHealth)):this.opHealthText.setText("0"),this.opHealthBar.fillStyle(5855577),this.opHealthBar.fillRect(o,i,this.opHealthBarWidth,9),this.opHealthBar.lineStyle(3,0),this.opHealthBar.strokeRoundedRect(o,i,this.opHealthBarWidth,9,3),"user"===this.team?this.opHealthBar.fillStyle(3049674):this.opHealthBar.fillStyle(12278841),this.opHealthBar.fillRoundedRect(o,i,a,9,3),this.opHealthText.setPosition(this.opponent.x-this.opHealthText.width/2,i-8),this.opHealthText.setDepth(2)}},{key:"destroy",value:function(){this.movementTween&&(this.movementTween.remove(),this.movementTween=null),this.effects&&(this.scene.events.off("update",this._onSceneUpdate,this),this.effects=null),this.opponent&&this.opponent.destroy(),this.opPlayerName&&this.opPlayerName.destroy(),this.opHealthText&&this.opHealthText.destroy(),this.opHealthBar&&this.opHealthBar.destroy()}}]),n}();function rt(e){return rt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rt(e)}function it(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function st(e,t,n){return(t=ct(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lt(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,ct(a.key),a)}}function ct(e){var t=function(e){if("object"!=rt(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=rt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==rt(t)?t:t+""}function ut(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(ut=function(){return!!e})()}function ht(e){return ht=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ht(e)}function pt(e,t){return pt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},pt(e,t)}function ft(){}var dt,mt="/assets",yt=window.location.pathname.split("/").filter(Boolean).pop(),vt=(sessionStorage.getItem("party"),function(e){var t="".concat(encodeURIComponent(e),"="),n=document.cookie||"";if(!n)return"";var a,o=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return s(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var a=0,o=function(){};return{s:o,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,i=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){l=!0,r=e},f:function(){try{i||null==n.return||n.return()}finally{if(l)throw r}}}}(n.split("; "));try{for(o.s();!(a=o.n()).done;){var r=a.value;if(r.startsWith(t))return decodeURIComponent(r.slice(t.length))}}catch(e){o.e(e)}finally{o.f()}return""}("name")),gt=sessionStorage.getItem("character"),bt=sessionStorage.getItem("spawnPlatform"),wt=sessionStorage.getItem("spawn"),xt=sessionStorage.getItem("partyMembers"),St=Number(xt),Pt=sessionStorage.getItem("map"),kt=[],Mt=[],jt=!1,Ot=0,Tt={x:0,y:0,flip:!1,animation:null},Ct=!1,Dt=[],It=function(){function o(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),function(e,t,n){return t=ht(t),function(e,t){if(t&&("object"==rt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,ut()?Reflect.construct(t,n||[],ht(e).constructor):t.apply(e,n))}(this,o,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&pt(e,t)}(o,Phaser.Scene),function(e,t){t&&lt(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1})}(o,[{key:"preload",value:function(){this.load.image("lushy-bg","".concat(mt,"/Lushy/gameBg.png")),this.load.image("mangrove-bg","".concat(mt,"/Mangrove/gameBg.png")),function(e,t){for(var n=0,a=Object.keys(re);n<a.length;n++){var o=a[n],r=re[o];r.preload&&r.preload(e,t)}}(this,mt),this.load.atlas("troll","".concat(mt,"/troll_spritesheet.png"),"".concat(mt,"/troll.json")),this.load.image("tiles-image","".concat(mt,"/map.png")),this.load.tilemapTiledJSON("tiles","".concat(mt,"/tilesheet.json")),this.load.image("lushy-base","".concat(mt,"/Lushy/base.png")),this.load.image("lushy-platform","".concat(mt,"/Lushy/largePlatform.png")),this.load.image("lushy-side-platform","".concat(mt,"/Lushy/sidePlatform.png")),this.load.image("mangrove-tiny-platform","".concat(mt,"/Mangrove/tinyPlatform.png")),this.load.image("mangrove-base-left","".concat(mt,"/Mangrove/baseLeft.png")),this.load.image("mangrove-base-middle","".concat(mt,"/Mangrove/baseMiddle.png")),this.load.image("mangrove-base-right","".concat(mt,"/Mangrove/baseRight.png")),this.load.image("mangrove-base-top","".concat(mt,"/Mangrove/baseTop.png")),this.load.image("thorg-weapon","".concat(mt,"/thorg/weapon.png")),this.load.audio("sfx-step","".concat(mt,"/step.ogg")),this.load.audio("sfx-jump","".concat(mt,"/jump.mp3")),this.load.audio("sfx-land","".concat(mt,"/land.mp3")),this.load.audio("sfx-walljump","".concat(mt,"/walljump.mp3")),this.load.audio("sfx-damage","".concat(mt,"/damage.mp3")),this.load.audio("sfx-heal","".concat(mt,"/heal.mp3")),this.load.audio("main","".concat(mt,"/main.wav")),this.load.audio("win","".concat(mt,"/win.mp3")),this.load.audio("lose","".concat(mt,"/lose.wav"))}},{key:"create",value:function(){var o,r,i=this;(null===(o=this.cameras)||void 0===o?void 0:o.main)&&(this.cameras.main.roundPixels=!0),"1"===Pt?(dt=g,function(o){o.game.config.width,o.game.config.height;var r=o.cameras.main.width/2,i=o.add.sprite(0,-180,"lushy-bg");i.displayWidth=o.sys.canvas.width,i.displayHeight=o.sys.canvas.height+500,i.setOrigin(0,0),(e=o.physics.add.sprite(r,550,"lushy-base")).body.allowGravity=!1,e.setImmovable(!0),e.setScale(.7),g.push(e),(t=o.physics.add.sprite(r,250,"lushy-platform")).setScale(.7),t.body.allowGravity=!1,t.setImmovable(!0),g.push(t),(n=o.physics.add.sprite(r-500,260,"lushy-side-platform")).setScale(.7),n.body.allowGravity=!1,n.setImmovable(!0),g.push(n),(a=o.physics.add.sprite(r+500,260,"lushy-side-platform")).setScale(.7),a.body.allowGravity=!1,a.setImmovable(!0),g.push(a)}(this)):"2"===Pt&&(dt=b,function(e){e.game.config.width,e.game.config.height;var t=e.cameras.main.width/2,n=e.add.sprite(0,-180,"mangrove-bg");n.displayWidth=e.sys.canvas.width,n.displayHeight=e.sys.canvas.height+500,n.setOrigin(0,0),(l=e.physics.add.sprite(t,600,"mangrove-base-middle")).body.allowGravity=!1,l.setImmovable(!0),l.setScale(.6),b.push(l),(c=e.physics.add.sprite(t,408,"mangrove-base-top")).body.allowGravity=!1,c.setImmovable(!0),c.setScale(.6),b.push(c),(u=e.physics.add.sprite(t-422,638,"mangrove-base-left")).body.allowGravity=!1,u.setImmovable(!0),u.setScale(.6),b.push(u),(h=e.physics.add.sprite(t+422,638,"mangrove-base-right")).body.allowGravity=!1,h.setImmovable(!0),h.setScale(.6),b.push(h),(p=e.physics.add.sprite(t-280,325,"mangrove-tiny-platform")).setScale(.6),p.body.allowGravity=!1,p.setImmovable(!0),b.push(p),(f=e.physics.add.sprite(t+280,325,"mangrove-tiny-platform")).setScale(.6),f.body.allowGravity=!1,f.setImmovable(!0),b.push(f),(d=e.physics.add.sprite(t-430,200,"mangrove-tiny-platform")).setScale(.6),d.body.allowGravity=!1,d.setImmovable(!0),b.push(d),(m=e.physics.add.sprite(t+430,200,"mangrove-tiny-platform")).setScale(.6),m.body.allowGravity=!1,m.setImmovable(!0),b.push(m),(y=e.physics.add.sprite(t-130,150,"mangrove-tiny-platform")).setScale(.6),y.body.allowGravity=!1,y.setImmovable(!0),b.push(y),(v=e.physics.add.sprite(t+130,150,"mangrove-tiny-platform")).setScale(.6),v.body.allowGravity=!1,v.setImmovable(!0),b.push(v)}(this)),function(e){for(var t=0,n=Object.keys(re);t<n.length;t++){var a=n[t],o=re[a];o&&o.setupAnimations&&o.setupAnimations(e)}}(this),this._bgmStarted=!1;var s=function(){if(!i._bgmStarted){i._bgmStarted=!0;try{i.bgmMain||(i.bgmMain=i.sound.add("main",{volume:.02,loop:!1})),i.bgmMain.play()}catch(e){}}};this.sound.locked?this.sound.once("unlocked",s):s(),this.input.once("pointerdown",s),null===(r=this.input.keyboard)||void 0===r||r.once("keydown",s),function(n,a,o,r,i,s,l,c){var u,h,p,f,d,m;xe=a,ke=i,Me=s,je=r,Te=l,Ce=c,Pe=o,he=(Se=n).input.keyboard.createCursorKeys();var y=ie(o);(ue=Se.physics.add.sprite(-100,-100,y)).anims.play(se(Se,Pe,"idle"),!0),ue.setVisible(!1);var v=le(o);_e=null!==(u=v.maxHealth)&&void 0!==u?u:_e,Fe=_e,Ne=null!==(h=v.ammoCooldownMs)&&void 0!==h?h:Ne,Le=null!==(p=v.ammoReloadMs)&&void 0!==p?p:Le,Ge=Math.max(1,null!==(f=v.ammoCapacity)&&void 0!==f?f:Ge),Ue=Ge,Ye=0,Ve=0,v.spriteScale&&1!==v.spriteScale&&ue.setScale(v.spriteScale),de=ue.frame;var x=v&&v.body||{};$e=x;var S=null!==(d=x.widthShrink)&&void 0!==d?d:35,P=null!==(m=x.heightShrink)&&void 0!==m?m:10;ue.body.setSize(de.width-S,de.width-P),(ze=function(){var e,t;if(ue&&ue.body){var n=$e||{},a=n.flipOffset||0,o=ue.flipX?a:0;ue.body.setOffset(ue.body.width/2+(null!==(e=n.offsetXFromHalf)&&void 0!==e?e:0)+o,null!==(t=n.offsetY)&&void 0!==t?t:10)}})(),Se.events.on("update",function(){ue.y>Se.physics.world.bounds.bottom+50&&setTimeout(function(){Xe||w.emit("hit",{attacker:xe,target:xe,damage:99999,gameId:Ke})},500)}),"1"===Te?Oe=g:"2"===Te&&(Oe=b),"bottom"===je?"1"===Te?Ze(e,ke,ue):"2"===Te&&et("bottom",ke,ue):"top"===je&&("1"===Te?Ze(t,ke,ue):"2"===Te&&et("top",ke,ue)),ue.setVisible(!0);var k=ue.body?ue.body.y:ue.y-ue.height/2;(be=Se.add.text(ue.x,k-50,xe)).setStyle({font:"bold 8pt Arial",fill:"#000000"}),be.setOrigin(.5,0),ye=Se.add.text(0,0,"",{fontFamily:"Arial",fontSize:"10px",color:"#FFFFFF",stroke:"#000000",strokeThickness:4}),me=Se.add.graphics(),ge=Se.add.graphics(),ve=Se.add.graphics(),we=Se.add.graphics();var M=new Phaser.Geom.Triangle(ue.x,k-10,ue.x-13,k-20,ue.x+13,k-20);we.fillStyle(10070828),we.fillTriangleShape(M);var j={getAmmoCapacity:function(){return Ge},getAmmoCooldownMs:function(){return Ne},getAmmoReloadMs:function(){return Le},getCharges:function(){return Ue},getNextFireTime:function(){return Ye},tryConsume:function(){var e=Date.now();return!(!Re||e<Ye||Ue<=0||(Ye=e+Ne,(Ue-=1)<Ge&&Ve<=0&&(Ve=0),0))},grantCharge:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;(Ue=Math.min(Ge,Ue+e))>=Ge&&(Ve=0),Qe()},setCanAttack:function(e){return Re=e},setIsAttacking:function(e){return Be=e},drawAmmoBar:function(){return Qe()}},O=function(e,t){var n=re[e];return n?new n(t):null}(o,{scene:Se,player:ue,username:xe,gameId:Ke,opponentPlayersRef:Ce,mapObjects:Oe,ammoHooks:j});O&&O.attachInput&&O.attachInput();var T=ce(Pe);qe=T?new T(Se,ue):null}(this,vt,gt,bt,wt,xt,Pt,kt),this.input.keyboard.on("keydown-M",function(e){var t,n;if(e.ctrlKey){var a=null===(t=i.physics)||void 0===t?void 0:t.world;a&&(a.drawDebug=!a.drawDebug,a.debugGraphic&&(a.debugGraphic.clear(),a.debugGraphic.setVisible(a.drawDebug)),null!==(n=i.sys)&&void 0!==n&&null!==(n=n.game)&&void 0!==n&&null!==(n=n.config)&&void 0!==n&&null!==(n=n.physics)&&void 0!==n&&n.arcade&&(i.sys.game.config.physics.arcade.debug=a.drawDebug))}}),dt.forEach(function(e){i.physics.add.collider(ue,e)}),document.getElementById("fight").style.width="60%",document.getElementById("your-team").textContent="Your Team: ".concat(xt,"/").concat(xt," players"),document.getElementById("opposing-team").textContent="Opposing Team: ".concat(xt,"/").concat(xt," players"),w.emit("player-joined",{username:vt,character:gt}),fetch("/players",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({gameId:yt,username:vt})}).then(function(e){return e.json()}).then(function(e){for(var t in e.userTeam)if(t!==vt){var n=new ot(i,e.userTeam[t].character,t,"user",e.userTeam[t].spawnPlatform,e.userTeam[t].spawn,xt,Pt);Mt[t]=n,void 0!==e.userTeam[t].x&&void 0!==e.userTeam[t].y&&(n.opponent.x=e.userTeam[t].x,n.opponent.y=e.userTeam[t].y),ft()}for(var a in e.opTeam)if(a!==vt){var o=new ot(i,e.opTeam[a].character,a,"op",e.opTeam[a].spawnPlatform,e.opTeam[a].spawn,xt,Pt);kt[a]=o,void 0!==e.opTeam[a].x&&void 0!==e.opTeam[a].y&&(o.opponent.x=e.opTeam[a].x,o.opponent.y=e.opTeam[a].y),ft()}}).catch(function(e){console.error("Error:",e)}),setTimeout(function(){var e=document.getElementById("fight");e.style.opacity="0",e.addEventListener("transitionend",function(t){e.remove()})},1e3),function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,n=0;n<t;n++)fe(e,-9999,-9999);pe.forEach(function(e){e.active=!1,e.clear()})}(this,8),w.on("move",function(e){if(!Ct){var t=kt[e.username]||Mt[e.username];if(t){var n=t.opponent.x,a=t.opponent.y,o=Math.abs(e.x-n),r=Math.abs(e.y-a),s=Math.sqrt(o*o+r*r);if(s>300)t.opponent.x=e.x,t.opponent.y=e.y;else{t.movementTween&&t.movementTween.remove();var l=Math.min(150,.8*s);t.movementTween=i.tweens.add({targets:t.opponent,x:e.x,y:e.y,duration:l,ease:"Power2.easeOut",onUpdate:function(){var e=t.opponent,n=e.body?e.body.y:e.y-e.height/2;t.opPlayerName.setPosition(e.x,n-36)},onComplete:function(){t.movementTween=null}})}t.opponent.flipX=e.flip,"function"==typeof t.applyFlipOffset&&t.applyFlipOffset(),t.opponent.anims.play(se(i,t.character,e.animation,"idle"),!0);var c=t.opponent.body?t.opponent.body.y:t.opponent.y-t.opponent.height/2;if(t.opPlayerName.setPosition(t.opponent.x,c-36),o>3&&(t._dustTimer=(t._dustTimer||0)+16,t._dustTimer>=70)){t._dustTimer=0;var u=t.opponent,h=u.body?u.body.y+u.body.height:u.y+u.height/2;fe(i,u.x,h-2)}}}}),w.on("state",function(e){e.gameId===yt&&(Ct=!0,Dt.push(e),Dt.length>60&&Dt.shift())}),w.on("attack",function(e){var t=kt[e.name]||Mt[e.name],n=t?t.character:null,a=!!n&&function(e,t,n,a){var o=re[t];return!(!o||"function"!=typeof o.handleRemoteAttack||(o.handleRemoteAttack(e,n,a),0))}(i,n,e,t);if(!a){console.log("not handled");var o=i.physics.add.image(e.x,e.y,"fireball");o.setScale(.4),o.setVelocity(400*(e.direction||1),0),o.flipX=(null==e?void 0:e.direction)<0,o.body.allowGravity=!1}}),w.on("death",function(e){if(e.username!==vt){var t=kt[e.username]||Mt[e.username];t&&(t.movementTween&&(t.movementTween.remove(),t.movementTween=null),e.username in kt?document.getElementById("your-team").textContent="Your Team: ".concat(St-1,"/").concat(xt," players"):document.getElementById("opposing-team").textContent="Opposing Team: ".concat(St-1,"/").concat(xt," players"),t.opponent.anims.play(se(i,t.character,"dying"),!0),t.opponent.alpha=.5,t.opPlayerName.setPosition(t.opponent.x,t.opPlayerName.y+30),t.opCurrentHealth=0,t.updateHealthBar(!0),kt[e.username]?delete kt[e.username]:Mt[e.username]&&delete Mt[e.username])}}),w.on("game-over",function(e){if(yt===e.gameId){jt=!0;try{i.bgmMain&&i.bgmMain.isPlaying&&i.bgmMain.stop();var t=e.losers.includes(vt),n=t?"lose":"win",a=t?.5:.6;i.bgmResult=i.sound.add(n,{volume:a,loop:!1}),i.bgmResult.play()}catch(e){}var o=document.getElementById("game-over");e.losers.includes(vt)?(o.textContent="You Lose",o.style.color="#c81212"):(o.textContent="You Win",o.style.color="#18c321"),document.getElementById("username-text").textContent=vt,document.getElementById("character-text").textContent="".concat(gt[0].toUpperCase()+gt.slice(1)),document.getElementById("character-image").src="/assets/".concat(gt,"/body.png"),setTimeout(function(){i.input.enabled=!1,document.getElementById("container").style.display="flex",document.getElementById("dark-overlay").style.display="block",document.getElementById("dark-overlay").style.backgroundColor="rgba(0, 0, 0, 0.363)"},1e3)}})}},{key:"update",value:function(){var e=this;if(!jt){if(!Xe){var t;!function(e){var t=he.left.isDown||e.input.keyboard.addKey("A").isDown,n=he.right.isDown||e.input.keyboard.addKey("D").isDown,a=he.up.isDown||e.input.keyboard.addKey("W").isDown;if(t){we&&we.clear(),ue.setVelocityX(-250);var o=ue.flipX;ue.flipX=!0,ue.flipX!==o&&ze&&ze(),Ie=!0,!ue.body.touching.down||Be||Xe||(ue.anims.play(se(e,Pe,"running"),!0),(Ee+=e.game.loop.delta)>=280&&(Ee=0,e.sound.play("sfx-step",{volume:.18})))}else if(n){we&&we.clear();var r=ue.flipX;ue.flipX=!1,ue.flipX!==r&&ze&&ze(),ue.setVelocityX(250),Ie=!0,!ue.body.touching.down||Be||Xe||(ue.anims.play(se(e,Pe,"running"),!0),(Ee+=e.game.loop.delta)>=280&&(Ee=0,e.sound.play("sfx-step",{volume:.2})))}else ue.setVelocityX(0),Ie=!1;a&&ue.body.touching.down&&!Xe?(we&&we.clear(),ue.anims.play(se(e,Pe,"jumping"),!0),ue.setVelocityY(-400),Ie=!0,Ae=!0,e.sound.play("sfx-jump",{volume:.6})):(ue.body.touching.left||ue.body.touching.right&&!Xe)&&De&&a&&(De=!1,ue.anims.play(se(e,Pe,"sliding"),!0),ue.setVelocityY(-400),e.tweens.add({targets:ue,x:ue.x+(ue.body.touching.left?50:-50),duration:200,ease:"Linear",onComplete:function(){De=!0}}).play(),e.sound.play("sfx-walljump",{volume:.9})),(ue.body.touching.left||ue.body.touching.right&&!Xe)&&!Be&&ue.anims.play(se(e,Pe,"sliding"),!0),ue.anims.isPlaying||ue.body.touching.down||ue.body.touching.left||ue.body.touching.right||(ue.anims.play(se(e,Pe,"falling"),!0),Ae=!1),Ie||!ue.body.touching.down||Ae||Be||Xe||ue.anims.play(se(e,Pe,"idle"),!0),Je();var i=ue.body?ue.body.y:ue.y-ue.height/2;be.setPosition(ue.x,i-22);var s=ue.body.touching.down;if(He||!s||Xe||e.sound.play("sfx-land",{volume:.8}),He=s,Ue<Ge?(Ve+=e.game.loop.delta)>=Le&&(Ve=0,Ue=Math.min(Ge,Ue+1)):Ve=0,Xe||Qe(),qe&&qe.update(e.game.loop.delta,Ie,Xe),We+=e.game.loop.delta,!Xe&&Ie&&ue.body.touching.down&&We>=70){We=0;var l=(ue.body?ue.body.y+ue.body.height:ue.y+ue.height/2)-2,c=ue.x+.3*(ue.flipX?-18:18);fe(e,c,l),Math.random()<.3&&fe(e,c+Phaser.Math.Between(-6,6),l+Phaser.Math.Between(-2,2))}}(this);var n=Date.now(),a={x:Math.round(ue.x),y:Math.round(ue.y),flip:ue.flipX,animation:(null===(t=ue.anims.currentAnim)||void 0===t?void 0:t.key)||"idle"};(Math.abs(a.x-Tt.x)>1||Math.abs(a.y-Tt.y)>1||a.flip!==Tt.flip||a.animation!==Tt.animation)&&n-Ot>=25&&(w.emit("move",{x:a.x,y:a.y,flip:a.flip,animation:a.animation,username:vt}),Ot=n,Tt=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?it(Object(n),!0).forEach(function(t){st(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):it(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},a))}if(Ct&&Dt.length>=1){for(var o=Dt[Dt.length-1].t-100,r=null,i=null,s=Dt.length-1;s>=0;s--){var l=Dt[s];if(l.t<=o){r=l,i=Dt[s+1]||l;break}}r||(r=Dt[0],i=Dt[1]||r);var c=r.t,u=Math.max(i.t,c+1),h=Phaser.Math.Clamp((o-c)/(u-c),0,1),p=function(e,t,n){return e+(t-e)*n},f=function(t,n){var a,o,s,l;if(t){var c=t.opponent;t.movementTween&&(t.movementTween.remove(),t.movementTween=null);var u=r.players[n],f=i.players[n]||u;if(u||f){var d=u||f,m=f||u;if(d&&!Number.isNaN(d.x)&&!Number.isNaN(d.y)){var y,v,g=p(d.x,null!==(a=null==m?void 0:m.x)&&void 0!==a?a:d.x,h),b=p(d.y,null!==(o=null==m?void 0:m.y)&&void 0!==o?o:d.y,h);Math.hypot((null!==(s=null==m?void 0:m.x)&&void 0!==s?s:d.x)-d.x,(null!==(l=null==m?void 0:m.y)&&void 0!==l?l:d.y)-d.y)>260?(c.x=null!==(y=null==m?void 0:m.x)&&void 0!==y?y:d.x,c.y=null!==(v=null==m?void 0:m.y)&&void 0!==v?v:d.y):(c.x=g,c.y=b);var w=m&&m.animation?m:d,x=c.flipX;c.flipX=!!w.flip,c.flipX!==x&&"function"==typeof t.applyFlipOffset&&t.applyFlipOffset(),w.animation&&c.anims.play(se(e,t.character,w.animation,"idle"),!0);var S=c.body?c.body.y:c.y-c.height/2;t.opPlayerName.setPosition(c.x,S-36)}}}};for(var d in kt)f(kt[d],d);for(var m in Mt)f(Mt[m],m)}for(var y in kt)kt[y].updateHealthBar();for(var v in Mt)Mt[v].updateHealthBar()}}}]),o}(),At={type:Phaser.AUTO,pixelArt:!0,roundPixels:!0,antialias:!1,resolution:window.devicePixelRatio,scale:{mode:Phaser.Scale.FIT,autoCenter:Phaser.Scale.CENTER_BOTH,width:1300,height:600},scene:It,physics:{default:"arcade",arcade:{gravity:{y:750},debug:!0}}};new Phaser.Game(At)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Q2pCcUosRUFBWXJKLEdBQWdCbFksR0FBT0EsR0FDckMsSUFBSyxJQUFNQSxLQUFRbVksR0FBYW9KLEVBQVlwSixHQUFZblksR0FBT0EsRUFDakUsQ0FFQSxJQUFLLElBQU1tRCxLQUFVK1UsR0FDSUEsR0FBZ0IvVSxHQUN4QnFQLGtCQUVqQixJQUFLLElBQU1yUCxLQUFVZ1YsR0FDSUEsR0FBWWhWLEdBQ3BCcVAsaUJBbElJLENBc0l2QixLQUFDbUcsQ0FBQSxDQXRrQlksR0F5a0JUM2UsR0FBUyxDQUNidVEsS0FBTW5OLE9BQU9vbEIsS0FFYnhULFVBQVUsRUFDVnFLLGFBQWEsRUFDYnBLLFdBQVcsRUFDWHdULFdBQVlqcEIsT0FBT2twQixpQkFDbkI3bkIsTUFBTyxDQUVMOG5CLEtBQU12bEIsT0FBT3dsQixNQUFNQyxJQUNuQkMsV0FBWTFsQixPQUFPd2xCLE1BQU1HLFlBQ3pCL1AsTUFBTyxLQUNQOUosT0FBUSxLQUVWclAsTUFBTzhlLEdBQ1B6YyxRQUFTLENBQ1A4bUIsUUFBUyxTQUNUcEcsT0FBUSxDQUNOcUcsUUFBUyxDQUFFNW9CLEVBQUcsS0FDZHdpQixPQUFPLEtBS0EsSUFBSXpmLE9BQU84bEIsS0FBS2xwQixHIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYXBjc3AtY3JlYXRlLXByb2plY3QtLS1maW5hbC8uL3NyYy9tYXBzL2x1c2h5UGVha3MuanMiLCJ3ZWJwYWNrOi8vYXBjc3AtY3JlYXRlLXByb2plY3QtLS1maW5hbC8uL3NyYy9saWIvY2hhcmFjdGVyU3RhdHMuanMiLCJ3ZWJwYWNrOi8vYXBjc3AtY3JlYXRlLXByb2plY3QtLS1maW5hbC93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9hcGNzcC1jcmVhdGUtcHJvamVjdC0tLWZpbmFsL3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycyIsIndlYnBhY2s6Ly9hcGNzcC1jcmVhdGUtcHJvamVjdC0tLWZpbmFsL3dlYnBhY2svcnVudGltZS9oYXJtb255IG1vZHVsZSBkZWNvcmF0b3IiLCJ3ZWJwYWNrOi8vYXBjc3AtY3JlYXRlLXByb2plY3QtLS1maW5hbC93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIiwid2VicGFjazovL2FwY3NwLWNyZWF0ZS1wcm9qZWN0LS0tZmluYWwvLi9zcmMvbWFwcy9tYW5ncm92ZU1lYWRvdy5qcyIsIndlYnBhY2s6Ly9hcGNzcC1jcmVhdGUtcHJvamVjdC0tLWZpbmFsLy4vc3JjL3NvY2tldC5qcyIsIndlYnBhY2s6Ly9hcGNzcC1jcmVhdGUtcHJvamVjdC0tLWZpbmFsLy4vc3JjL2NoYXJhY3RlcnMvbmluamEvYXR0YWNrLmpzIiwid2VicGFjazovL2FwY3NwLWNyZWF0ZS1wcm9qZWN0LS0tZmluYWwvLi9zcmMvY2hhcmFjdGVycy9uaW5qYS9jb25zdHJ1Y3Rvci5qcyIsIndlYnBhY2s6Ly9hcGNzcC1jcmVhdGUtcHJvamVjdC0tLWZpbmFsLy4vc3JjL2NoYXJhY3RlcnMvbmluamEvYW5pbS5qcyIsIndlYnBhY2s6Ly9hcGNzcC1jcmVhdGUtcHJvamVjdC0tLWZpbmFsLy4vc3JjL2NoYXJhY3RlcnMvdGhvcmcvYW5pbS5qcyIsIndlYnBhY2s6Ly9hcGNzcC1jcmVhdGUtcHJvamVjdC0tLWZpbmFsLy4vc3JjL2NoYXJhY3RlcnMvdGhvcmcvY29uc3RydWN0b3IuanMiLCJ3ZWJwYWNrOi8vYXBjc3AtY3JlYXRlLXByb2plY3QtLS1maW5hbC8uL3NyYy9jaGFyYWN0ZXJzL2RyYXZlbi9hbmltLmpzIiwid2VicGFjazovL2FwY3NwLWNyZWF0ZS1wcm9qZWN0LS0tZmluYWwvLi9zcmMvY2hhcmFjdGVycy9kcmF2ZW4vZWZmZWN0cy5qcyIsIndlYnBhY2s6Ly9hcGNzcC1jcmVhdGUtcHJvamVjdC0tLWZpbmFsLy4vc3JjL2NoYXJhY3RlcnMvZHJhdmVuL2NvbnN0cnVjdG9yLmpzIiwid2VicGFjazovL2FwY3NwLWNyZWF0ZS1wcm9qZWN0LS0tZmluYWwvLi9zcmMvY2hhcmFjdGVycy9pbmRleC5qcyIsIndlYnBhY2s6Ly9hcGNzcC1jcmVhdGUtcHJvamVjdC0tLWZpbmFsLy4vc3JjL2VmZmVjdHMuanMiLCJ3ZWJwYWNrOi8vYXBjc3AtY3JlYXRlLXByb2plY3QtLS1maW5hbC8uL3NyYy9wbGF5ZXIuanMiLCJ3ZWJwYWNrOi8vYXBjc3AtY3JlYXRlLXByb2plY3QtLS1maW5hbC8uL3NyYy9vcFBsYXllci5qcyIsIndlYnBhY2s6Ly9hcGNzcC1jcmVhdGUtcHJvamVjdC0tLWZpbmFsLy4vc3JjL2dhbWUuanMiLCJ3ZWJwYWNrOi8vYXBjc3AtY3JlYXRlLXByb2plY3QtLS1maW5hbC8uL3NyYy9saWIvY29va2llcy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBtYXAuanNcclxuXHJcbi8vIEdsb2JhbHNcclxubGV0IGJhc2U7XHJcbmxldCBwbGF0Zm9ybTtcclxubGV0IGxlZnRQbGF0Zm9ybTtcclxubGV0IHJpZ2h0UGxhdGZvcm07XHJcblxyXG5jb25zdCBsdXNoeVBlYWtzT2JqZWN0cyA9IFtdXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gbHVzaHlQZWFrcyhzY2VuZSkge1xyXG4gIC8vIENhbnZhcyB2YXJpYWJsZXNcclxuICBjb25zdCBjYW52YXNXaWR0aCA9IHNjZW5lLmdhbWUuY29uZmlnLndpZHRoO1xyXG4gIGNvbnN0IGNhbnZhc0hlaWdodCA9IHNjZW5lLmdhbWUuY29uZmlnLmhlaWdodDtcclxuICBjb25zdCBjZW50ZXJYID0gc2NlbmUuY2FtZXJhcy5tYWluLndpZHRoIC8gMjtcclxuXHJcbiAgLy8gU2V0dXAgYmFja2dyb3VuZCBwb3NpdGlvblxyXG4gIGNvbnN0IGJhY2tncm91bmQgPSBzY2VuZS5hZGQuc3ByaXRlKDAsIC0xODAsIFwibHVzaHktYmdcIik7XHJcbiAgLy8gU2V0IGJhY2tncm91bmQgdG8gdGhlIHNpemUgb2YgdGhlIGNhbnZhc1xyXG4gIGJhY2tncm91bmQuZGlzcGxheVdpZHRoID0gc2NlbmUuc3lzLmNhbnZhcy53aWR0aDtcclxuICBiYWNrZ3JvdW5kLmRpc3BsYXlIZWlnaHQgPSBzY2VuZS5zeXMuY2FudmFzLmhlaWdodCArIDUwMDsgLy8gYWRkIDUwMCB0byBwcmV2ZW50IGRpc3RvcnRpb25cclxuICBiYWNrZ3JvdW5kLnNldE9yaWdpbigwLCAwKTtcclxuXHJcbiAgLy8gQmFzZVxyXG4gIGJhc2UgPSBzY2VuZS5waHlzaWNzLmFkZC5zcHJpdGUoY2VudGVyWCwgNTUwLCBcImx1c2h5LWJhc2VcIik7XHJcbiAgYmFzZS5ib2R5LmFsbG93R3Jhdml0eSA9IGZhbHNlOyAvLyBEb2Vzbid0IGFsbG93IGdyYXZpdHlcclxuICBiYXNlLnNldEltbW92YWJsZSh0cnVlKTsgLy8gTWFrZXMgc3VyZSBpdCBkb2Vzbid0IG1vdmVcclxuICBiYXNlLnNldFNjYWxlKDAuNyk7IC8vIE1ha2VzIGl0IHNtYWxsZXJcclxuICBsdXNoeVBlYWtzT2JqZWN0cy5wdXNoKGJhc2UpXHJcblxyXG4gIC8vIFBsYXRmb3JtXHJcbiAgcGxhdGZvcm0gPSBzY2VuZS5waHlzaWNzLmFkZC5zcHJpdGUoY2VudGVyWCwgMjUwLCBcImx1c2h5LXBsYXRmb3JtXCIpO1xyXG4gIHBsYXRmb3JtLnNldFNjYWxlKDAuNyk7XHJcbiAgcGxhdGZvcm0uYm9keS5hbGxvd0dyYXZpdHkgPSBmYWxzZTtcclxuICBwbGF0Zm9ybS5zZXRJbW1vdmFibGUodHJ1ZSk7XHJcbiAgbHVzaHlQZWFrc09iamVjdHMucHVzaChwbGF0Zm9ybSlcclxuXHJcbiAgLy8gTGVmdCBQbGF0Zm9ybVxyXG4gIGxlZnRQbGF0Zm9ybSA9IHNjZW5lLnBoeXNpY3MuYWRkLnNwcml0ZShjZW50ZXJYIC0gNTAwLCAyNjAsIFwibHVzaHktc2lkZS1wbGF0Zm9ybVwiKTtcclxuICBsZWZ0UGxhdGZvcm0uc2V0U2NhbGUoMC43KTtcclxuICBsZWZ0UGxhdGZvcm0uYm9keS5hbGxvd0dyYXZpdHkgPSBmYWxzZTtcclxuICBsZWZ0UGxhdGZvcm0uc2V0SW1tb3ZhYmxlKHRydWUpO1xyXG4gIGx1c2h5UGVha3NPYmplY3RzLnB1c2gobGVmdFBsYXRmb3JtKVxyXG5cclxuICAvLyBSaWdodCBQbGF0Zm9ybVxyXG4gIHJpZ2h0UGxhdGZvcm0gPSBzY2VuZS5waHlzaWNzLmFkZC5zcHJpdGUoY2VudGVyWCArIDUwMCwgMjYwLCBcImx1c2h5LXNpZGUtcGxhdGZvcm1cIik7XHJcbiAgcmlnaHRQbGF0Zm9ybS5zZXRTY2FsZSgwLjcpO1xyXG4gIHJpZ2h0UGxhdGZvcm0uYm9keS5hbGxvd0dyYXZpdHkgPSBmYWxzZTtcclxuICByaWdodFBsYXRmb3JtLnNldEltbW92YWJsZSh0cnVlKTtcclxuICBsdXNoeVBlYWtzT2JqZWN0cy5wdXNoKHJpZ2h0UGxhdGZvcm0pXHJcbn1cclxuXHJcblxyXG5leHBvcnQgeyBsdXNoeVBlYWtzT2JqZWN0cywgYmFzZSwgcGxhdGZvcm0gfTtcclxuIiwiLy8gQ2hhcmFjdGVyIHN0YXRzIHdpdGhvdXQgZGVwZW5kZW5jaWVzIG9uIFBoYXNlciBvciBjaGFyYWN0ZXIgY2xhc3Nlc1xyXG4vLyBTaW5nbGUgc291cmNlIG9mIHRydXRoIGZvciBhbGwgY2hhcmFjdGVyIHN0YXRzIGFuZCBjb25zdGFudHNcclxuXHJcbi8vIERlZmF1bHQgY2hhcmFjdGVyIGZvciBuZXcgdXNlcnNcclxuZXhwb3J0IGNvbnN0IERFRkFVTFRfQ0hBUkFDVEVSID0gXCJuaW5qYVwiO1xyXG5leHBvcnQgY29uc3QgTEVWRUxfQ0FQID0gNTtcclxuXHJcbmV4cG9ydCBjb25zdCBjaGFyYWN0ZXJTdGF0cyA9IHtcclxuICBuaW5qYToge1xyXG4gICAgYmFzZUhlYWx0aDogODAwMCxcclxuICAgIGF0dGFja0Rlc2NyaXB0aW9uOiBcIlVubGVhc2hlcyBhIHNodXJpa2VuIHRoYXQgYm9vbWVyYW5ncyBiYWNrLlwiLFxyXG4gICAgYmFzZURhbWFnZTogMTAwMCxcclxuICAgIGFtbW9Db29sZG93bk1zOiAyMDAsXHJcbiAgICBhbW1vUmVsb2FkTXM6IDE0MDAsXHJcbiAgICBhbW1vQ2FwYWNpdHk6IDEsXHJcbiAgICBzcGVjaWFsRGVzY3JpcHRpb246IFwiRGFzaGVzIGZvcndhcmQsIHJlbGVhc2luZyBhIGZsdXJyeSBvZiBzaHVyaWtlbnMuXCIsXHJcbiAgICBzcGVjaWFsQmFzZURhbWFnZTogMjAwMCxcclxuICAgIHNwZWNpYWxDaGFyZ2VIaXRzOiAzLFxyXG4gICAgc3ByaXRlU2NhbGU6IDEsXHJcbiAgICBib2R5OiB7XHJcbiAgICAgIHdpZHRoU2hyaW5rOiAzNSxcclxuICAgICAgaGVpZ2h0U2hyaW5rOiAxMCxcclxuICAgICAgb2Zmc2V0WEZyb21IYWxmOiAwLFxyXG4gICAgICBvZmZzZXRZOiAxMCxcclxuICAgIH0sXHJcbiAgICBkZXNjcmlwdGlvbjogXCJBIHN3aWZ0IGFuZCBhZ2lsZSBmaWdodGVyLlwiLFxyXG4gICAgZnJlZTogdHJ1ZSxcclxuICB9LFxyXG5cclxuICB0aG9yZzoge1xyXG4gICAgYmFzZUhlYWx0aDogMTMwMDAsXHJcbiAgICBhdHRhY2tEZXNjcmlwdGlvbjpcclxuICAgICAgXCJTd2luZ3MgYSBoZWF2eSBheGUgaW4gYSBzaG9ydCBhcmMsIHB1c2hpbmcgYmFjayBuZWFyYnkgZW5lbWllcy5cIixcclxuICAgIGJhc2VEYW1hZ2U6IDE4MDAsXHJcbiAgICBhbW1vQ29vbGRvd25NczogMzUwLFxyXG4gICAgYW1tb1JlbG9hZE1zOiAxMDAwLFxyXG4gICAgYW1tb0NhcGFjaXR5OiAzLFxyXG4gICAgc3BlY2lhbERlc2NyaXB0aW9uOiBcIlNsYW1zIHRoZSBncm91bmQgdG8gc2VuZCBhIHNob2Nrd2F2ZSBmb3J3YXJkLlwiLFxyXG4gICAgc3BlY2lhbEJhc2VEYW1hZ2U6IDI4MDAsXHJcbiAgICBzcGVjaWFsQ2hhcmdlSGl0czogNCxcclxuICAgIHNwcml0ZVNjYWxlOiAwLjcsXHJcbiAgICBib2R5OiB7XHJcbiAgICAgIHdpZHRoU2hyaW5rOiAzMCxcclxuICAgICAgaGVpZ2h0U2hyaW5rOiA4LFxyXG4gICAgICBvZmZzZXRYRnJvbUhhbGY6IC00MyxcclxuICAgICAgb2Zmc2V0WTogOCxcclxuICAgIH0sXHJcbiAgICBkZXNjcmlwdGlvbjogXCJBIHN0dXJkeSBmcm9udGxpbmUgYnJ1aXNlciB3aXRoIGNydXNoaW5nIGJsb3dzLlwiLFxyXG4gICAgZnJlZTogdHJ1ZSxcclxuICB9LFxyXG5cclxuICBkcmF2ZW46IHtcclxuICAgIGJhc2VIZWFsdGg6IDYwMDAsXHJcbiAgICBhdHRhY2tEZXNjcmlwdGlvbjpcclxuICAgICAgXCJQdWZmcyBvdXQgYSBtYWdpY2FsIHNtb2tlIHRoYXQgZGVhbHMgc3BsYXNoIGJhc2VEYW1hZ2UgdG8gZXZlcnlvbmUgaW4gdGhlIHBhdGguXCIsXHJcbiAgICBiYXNlRGFtYWdlOiAxODAwLFxyXG4gICAgYW1tb0Nvb2xkb3duTXM6IDI1MCxcclxuICAgIGFtbW9SZWxvYWRNczogMTcwMCxcclxuICAgIGFtbW9DYXBhY2l0eTogMyxcclxuICAgIHNwZWNpYWxEZXNjcmlwdGlvbjogXCJVbmxlYXNoZXMgYSBzdGFmZiBub3ZhIHRoYXQgZXhwYW5kcyBvdXR3YXJkLlwiLFxyXG4gICAgc3BlY2lhbEJhc2VEYW1hZ2U6IDI0MDAsXHJcbiAgICBzcGVjaWFsQ2hhcmdlSGl0czogMyxcclxuICAgIHNwcml0ZVNjYWxlOiAxLjIsXHJcbiAgICBib2R5OiB7XHJcbiAgICAgIHdpZHRoU2hyaW5rOiAyMjAsXHJcbiAgICAgIGhlaWdodFNocmluazogMTk1LFxyXG4gICAgICBvZmZzZXRYRnJvbUhhbGY6IDkwLFxyXG4gICAgICBvZmZzZXRZOiAxMTMsXHJcbiAgICAgIC8vIFNoaWZ0IGJvZHkgdG8gdGhlIHJpZ2h0IHdoZW4gZmFjaW5nIGxlZnQgdG8gY292ZXIgc3RhZmZcclxuICAgICAgZmxpcE9mZnNldDogNSxcclxuICAgIH0sXHJcbiAgICBkZXNjcmlwdGlvbjogXCJBIGRhcmsgc29yY2VyZXIgd2hvIG1hbmlwdWxhdGVzIHNoYWRvd3MuXCIsXHJcbiAgICB1bmxvY2tQcmljZTogMjgwXHJcbiAgfSxcclxufTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRDaGFyYWN0ZXJTdGF0cyhjaGFyYWN0ZXIpIHtcclxuICByZXR1cm4gY2hhcmFjdGVyU3RhdHNbY2hhcmFjdGVyXSB8fCB1bmRlZmluZWQ7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRBbGxDaGFyYWN0ZXJzKCkge1xyXG4gIHJldHVybiBPYmplY3Qua2V5cyhjaGFyYWN0ZXJTdGF0cyk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRGcmVlQ2hhcmFjdGVycygpIHtcclxuICByZXR1cm4gT2JqZWN0LmtleXMoY2hhcmFjdGVyU3RhdHMpLmZpbHRlcihcclxuICAgIChjaGFyKSA9PiBjaGFyYWN0ZXJTdGF0c1tjaGFyXS5mcmVlXHJcbiAgKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGRlZmF1bHRDaGFyYWN0ZXJMaXN0KCkge1xyXG4gIHJldHVybiBPYmplY3QuZnJvbUVudHJpZXMoXHJcbiAgICBPYmplY3Qua2V5cyhjaGFyYWN0ZXJTdGF0cykubWFwKChjaGFyKSA9PiBbXHJcbiAgICAgIGNoYXIsXHJcbiAgICAgIGNoYXJhY3RlclN0YXRzW2NoYXJdLmZyZWUgPyAxIDogMCxcclxuICAgIF0pXHJcbiAgKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldEhlYWx0aChjaGFyYWN0ZXIsIGxldmVsKSB7XHJcbiAgcmV0dXJuIGNoYXJhY3RlclN0YXRzW2NoYXJhY3Rlcl0uYmFzZUhlYWx0aCArIChsZXZlbCAtIDEpICogNTAwO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0RGFtYWdlKGNoYXJhY3RlciwgbGV2ZWwpIHtcclxuICByZXR1cm4gY2hhcmFjdGVyU3RhdHNbY2hhcmFjdGVyXS5iYXNlRGFtYWdlICsgKGxldmVsIC0gMSkgKiAxMDA7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRTcGVjaWFsRGFtYWdlKGNoYXJhY3RlciwgbGV2ZWwpIHtcclxuICByZXR1cm4gY2hhcmFjdGVyU3RhdHNbY2hhcmFjdGVyXS5zcGVjaWFsQmFzZURhbWFnZSArIChsZXZlbCAtIDEpICogMjAwO1xyXG59XHJcblxyXG4vLyBUaGUgbGV2ZWwgdXBncmFkZSBwcmljZSByZWZsZWN0cyB0aGUgY3VycmVudCBsZXZlbCB0aGUgY2hhcmFjdGVyIGlzIGF0XHJcbi8vIElmIHRoZSBjaGFyYWN0ZXIgd2FzIGF0IGxldmVsIDEgaXQgd291bGQgY29zdCAyMDAgdG8gZ28gdG8gbGV2ZWwgMlxyXG5leHBvcnQgZnVuY3Rpb24gdXBncmFkZVByaWNlKGxldmVsKSB7XHJcbiAgcmV0dXJuIDIwMCAqIDIgKiogKGxldmVsIC0gMSk7IC8vIERvdWJsZXMgZXZlcnkgbGV2ZWxcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHVubG9ja1ByaWNlKGNoYXJhY3Rlcikge1xyXG4gIHJldHVybiBjaGFyYWN0ZXJTdGF0c1tjaGFyYWN0ZXJdLnVubG9ja1ByaWNlIHx8IHVuZGVmaW5lZDtcclxufVxyXG5cclxuLy8gQ29tbW9uSlMgZXhwb3J0IGZvciBzZXJ2ZXItc2lkZSBjb21wYXRpYmlsaXR5XHJcbmlmICh0eXBlb2YgbW9kdWxlICE9PSBcInVuZGVmaW5lZFwiICYmIG1vZHVsZS5leHBvcnRzKSB7XHJcbiAgbW9kdWxlLmV4cG9ydHMgPSB7XHJcbiAgICBERUZBVUxUX0NIQVJBQ1RFUixcclxuICAgIExFVkVMX0NBUCxcclxuICAgIGNoYXJhY3RlclN0YXRzLFxyXG4gICAgZGVmYXVsdENoYXJhY3Rlckxpc3QsXHJcbiAgICB1cGdyYWRlUHJpY2UsXHJcbiAgICB1bmxvY2tQcmljZVxyXG4gIH07XHJcbn1cclxuIiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0dmFyIGNhY2hlZE1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF07XG5cdGlmIChjYWNoZWRNb2R1bGUgIT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiBjYWNoZWRNb2R1bGUuZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHRpZDogbW9kdWxlSWQsXG5cdFx0bG9hZGVkOiBmYWxzZSxcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXShtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG5cdG1vZHVsZS5sb2FkZWQgPSB0cnVlO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuIiwiLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gKGV4cG9ydHMsIGRlZmluaXRpb24pID0+IHtcblx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcblx0XHR9XG5cdH1cbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5obWQgPSAobW9kdWxlKSA9PiB7XG5cdG1vZHVsZSA9IE9iamVjdC5jcmVhdGUobW9kdWxlKTtcblx0aWYgKCFtb2R1bGUuY2hpbGRyZW4pIG1vZHVsZS5jaGlsZHJlbiA9IFtdO1xuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkobW9kdWxlLCAnZXhwb3J0cycsIHtcblx0XHRlbnVtZXJhYmxlOiB0cnVlLFxuXHRcdHNldDogKCkgPT4ge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKCdFUyBNb2R1bGVzIG1heSBub3QgYXNzaWduIG1vZHVsZS5leHBvcnRzIG9yIGV4cG9ydHMuKiwgVXNlIEVTTSBleHBvcnQgc3ludGF4LCBpbnN0ZWFkOiAnICsgbW9kdWxlLmlkKTtcblx0XHR9XG5cdH0pO1xuXHRyZXR1cm4gbW9kdWxlO1xufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSAob2JqLCBwcm9wKSA9PiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCkpIiwiLy8gbWFwLmpzXHJcblxyXG4vLyBHbG9iYWxzXHJcbmxldCBiYXNlTWlkZGxlO1xyXG5sZXQgYmFzZVRvcDtcclxubGV0IGJhc2VMZWZ0O1xyXG5sZXQgYmFzZVJpZ2h0O1xyXG5sZXQgdGlueVBsYXRmb3JtMTtcclxubGV0IHRpbnlQbGF0Zm9ybTI7XHJcbmxldCB0aW55UGxhdGZvcm0zO1xyXG5sZXQgdGlueVBsYXRmb3JtNDtcclxubGV0IHRpbnlQbGF0Zm9ybTU7XHJcbmxldCB0aW55UGxhdGZvcm02O1xyXG5cclxuY29uc3QgbWFuZ3JvdmVNZWFkb3dPYmplY3RzID0gW107XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gbWFuZ3JvdmVNZWFkb3coc2NlbmUpIHtcclxuICAvLyBDYW52YXMgdmFyaWFibGVzXHJcbiAgY29uc3QgY2FudmFzV2lkdGggPSBzY2VuZS5nYW1lLmNvbmZpZy53aWR0aDtcclxuICBjb25zdCBjYW52YXNIZWlnaHQgPSBzY2VuZS5nYW1lLmNvbmZpZy5oZWlnaHQ7XHJcbiAgY29uc3QgY2VudGVyWCA9IHNjZW5lLmNhbWVyYXMubWFpbi53aWR0aCAvIDI7XHJcblxyXG4gIC8vIFNldHVwIGJhY2tncm91bmQgcG9zaXRpb25cclxuICBjb25zdCBiYWNrZ3JvdW5kID0gc2NlbmUuYWRkLnNwcml0ZSgwLCAtMTgwLCBcIm1hbmdyb3ZlLWJnXCIpO1xyXG4gIC8vIFNldCBiYWNrZ3JvdW5kIHRvIHRoZSBzaXplIG9mIHRoZSBjYW52YXNcclxuICBiYWNrZ3JvdW5kLmRpc3BsYXlXaWR0aCA9IHNjZW5lLnN5cy5jYW52YXMud2lkdGg7XHJcbiAgYmFja2dyb3VuZC5kaXNwbGF5SGVpZ2h0ID0gc2NlbmUuc3lzLmNhbnZhcy5oZWlnaHQgKyA1MDA7IC8vIGFkZCA1MDAgdG8gcHJldmVudCBkaXN0b3J0aW9uXHJcbiAgYmFja2dyb3VuZC5zZXRPcmlnaW4oMCwgMCk7XHJcblxyXG4gIC8vIEJhc2UgTWlkZGxlXHJcbiAgYmFzZU1pZGRsZSA9IHNjZW5lLnBoeXNpY3MuYWRkLnNwcml0ZShjZW50ZXJYLCA2MDAsIFwibWFuZ3JvdmUtYmFzZS1taWRkbGVcIik7XHJcbiAgYmFzZU1pZGRsZS5ib2R5LmFsbG93R3Jhdml0eSA9IGZhbHNlOyAvLyBEb2Vzbid0IGFsbG93IGdyYXZpdHlcclxuICBiYXNlTWlkZGxlLnNldEltbW92YWJsZSh0cnVlKTsgLy8gTWFrZXMgc3VyZSBpdCBkb2Vzbid0IG1vdmVcclxuICBiYXNlTWlkZGxlLnNldFNjYWxlKDAuNik7IC8vIE1ha2VzIGl0IHNtYWxsZXJcclxuICBtYW5ncm92ZU1lYWRvd09iamVjdHMucHVzaChiYXNlTWlkZGxlKTtcclxuXHJcbiAgLy8gQmFzZSBUb3BcclxuICBiYXNlVG9wID0gc2NlbmUucGh5c2ljcy5hZGQuc3ByaXRlKGNlbnRlclgsIDQwOCwgXCJtYW5ncm92ZS1iYXNlLXRvcFwiKTtcclxuICBiYXNlVG9wLmJvZHkuYWxsb3dHcmF2aXR5ID0gZmFsc2U7IC8vIERvZXNuJ3QgYWxsb3cgZ3Jhdml0eVxyXG4gIGJhc2VUb3Auc2V0SW1tb3ZhYmxlKHRydWUpOyAvLyBNYWtlcyBzdXJlIGl0IGRvZXNuJ3QgbW92ZVxyXG4gIGJhc2VUb3Auc2V0U2NhbGUoMC42KTsgLy8gTWFrZXMgaXQgc21hbGxlclxyXG4gIG1hbmdyb3ZlTWVhZG93T2JqZWN0cy5wdXNoKGJhc2VUb3ApO1xyXG5cclxuICAvLyBCYXNlIExlZnRcclxuICBiYXNlTGVmdCA9IHNjZW5lLnBoeXNpY3MuYWRkLnNwcml0ZShjZW50ZXJYIC0gNDIyLCA2MzgsIFwibWFuZ3JvdmUtYmFzZS1sZWZ0XCIpO1xyXG4gIGJhc2VMZWZ0LmJvZHkuYWxsb3dHcmF2aXR5ID0gZmFsc2U7IC8vIERvZXNuJ3QgYWxsb3cgZ3Jhdml0eVxyXG4gIGJhc2VMZWZ0LnNldEltbW92YWJsZSh0cnVlKTsgLy8gTWFrZXMgc3VyZSBpdCBkb2Vzbid0IG1vdmVcclxuICBiYXNlTGVmdC5zZXRTY2FsZSgwLjYpOyAvLyBNYWtlcyBpdCBzbWFsbGVyXHJcbiAgbWFuZ3JvdmVNZWFkb3dPYmplY3RzLnB1c2goYmFzZUxlZnQpO1xyXG5cclxuICAvLyBCYXNlIFJpZ2h0XHJcbiAgYmFzZVJpZ2h0ID0gc2NlbmUucGh5c2ljcy5hZGQuc3ByaXRlKGNlbnRlclggKyA0MjIsIDYzOCwgXCJtYW5ncm92ZS1iYXNlLXJpZ2h0XCIpO1xyXG4gIGJhc2VSaWdodC5ib2R5LmFsbG93R3Jhdml0eSA9IGZhbHNlOyAvLyBEb2Vzbid0IGFsbG93IGdyYXZpdHlcclxuICBiYXNlUmlnaHQuc2V0SW1tb3ZhYmxlKHRydWUpOyAvLyBNYWtlcyBzdXJlIGl0IGRvZXNuJ3QgbW92ZVxyXG4gIGJhc2VSaWdodC5zZXRTY2FsZSgwLjYpOyAvLyBNYWtlcyBpdCBzbWFsbGVyXHJcbiAgbWFuZ3JvdmVNZWFkb3dPYmplY3RzLnB1c2goYmFzZVJpZ2h0KTtcclxuXHJcbiAgLy8gUGxhdGZvcm1cclxuICB0aW55UGxhdGZvcm0xID0gc2NlbmUucGh5c2ljcy5hZGQuc3ByaXRlKGNlbnRlclggLSAyODAsIDMyNSwgXCJtYW5ncm92ZS10aW55LXBsYXRmb3JtXCIpO1xyXG4gIHRpbnlQbGF0Zm9ybTEuc2V0U2NhbGUoMC42KTtcclxuICB0aW55UGxhdGZvcm0xLmJvZHkuYWxsb3dHcmF2aXR5ID0gZmFsc2U7XHJcbiAgdGlueVBsYXRmb3JtMS5zZXRJbW1vdmFibGUodHJ1ZSk7XHJcbiAgbWFuZ3JvdmVNZWFkb3dPYmplY3RzLnB1c2godGlueVBsYXRmb3JtMSk7XHJcblxyXG4gIC8vIFBsYXRmb3JtIDJcclxuICB0aW55UGxhdGZvcm0yID0gc2NlbmUucGh5c2ljcy5hZGQuc3ByaXRlKGNlbnRlclggKyAyODAsIDMyNSwgXCJtYW5ncm92ZS10aW55LXBsYXRmb3JtXCIpO1xyXG4gIHRpbnlQbGF0Zm9ybTIuc2V0U2NhbGUoMC42KTtcclxuICB0aW55UGxhdGZvcm0yLmJvZHkuYWxsb3dHcmF2aXR5ID0gZmFsc2U7XHJcbiAgdGlueVBsYXRmb3JtMi5zZXRJbW1vdmFibGUodHJ1ZSk7XHJcbiAgbWFuZ3JvdmVNZWFkb3dPYmplY3RzLnB1c2godGlueVBsYXRmb3JtMik7XHJcblxyXG4gIC8vIFBsYXRmb3JtIDNcclxuICB0aW55UGxhdGZvcm0zID0gc2NlbmUucGh5c2ljcy5hZGQuc3ByaXRlKGNlbnRlclggLSA0MzAsIDIwMCwgXCJtYW5ncm92ZS10aW55LXBsYXRmb3JtXCIpO1xyXG4gIHRpbnlQbGF0Zm9ybTMuc2V0U2NhbGUoMC42KTtcclxuICB0aW55UGxhdGZvcm0zLmJvZHkuYWxsb3dHcmF2aXR5ID0gZmFsc2U7XHJcbiAgdGlueVBsYXRmb3JtMy5zZXRJbW1vdmFibGUodHJ1ZSk7XHJcbiAgbWFuZ3JvdmVNZWFkb3dPYmplY3RzLnB1c2godGlueVBsYXRmb3JtMyk7XHJcblxyXG4gIC8vIFBsYXRmb3JtIDRcclxuICB0aW55UGxhdGZvcm00ID0gc2NlbmUucGh5c2ljcy5hZGQuc3ByaXRlKGNlbnRlclggKyA0MzAsIDIwMCwgXCJtYW5ncm92ZS10aW55LXBsYXRmb3JtXCIpO1xyXG4gIHRpbnlQbGF0Zm9ybTQuc2V0U2NhbGUoMC42KTtcclxuICB0aW55UGxhdGZvcm00LmJvZHkuYWxsb3dHcmF2aXR5ID0gZmFsc2U7XHJcbiAgdGlueVBsYXRmb3JtNC5zZXRJbW1vdmFibGUodHJ1ZSk7XHJcbiAgbWFuZ3JvdmVNZWFkb3dPYmplY3RzLnB1c2godGlueVBsYXRmb3JtNCk7XHJcblxyXG4gIC8vIFBsYXRmb3JtIDVcclxuICB0aW55UGxhdGZvcm01ID0gc2NlbmUucGh5c2ljcy5hZGQuc3ByaXRlKGNlbnRlclggLSAxMzAsIDE1MCwgXCJtYW5ncm92ZS10aW55LXBsYXRmb3JtXCIpO1xyXG4gIHRpbnlQbGF0Zm9ybTUuc2V0U2NhbGUoMC42KTtcclxuICB0aW55UGxhdGZvcm01LmJvZHkuYWxsb3dHcmF2aXR5ID0gZmFsc2U7XHJcbiAgdGlueVBsYXRmb3JtNS5zZXRJbW1vdmFibGUodHJ1ZSk7XHJcbiAgbWFuZ3JvdmVNZWFkb3dPYmplY3RzLnB1c2godGlueVBsYXRmb3JtNSk7XHJcblxyXG4gIC8vIFBsYXRmb3JtIDZcclxuICB0aW55UGxhdGZvcm02ID0gc2NlbmUucGh5c2ljcy5hZGQuc3ByaXRlKGNlbnRlclggKyAxMzAsIDE1MCwgXCJtYW5ncm92ZS10aW55LXBsYXRmb3JtXCIpO1xyXG4gIHRpbnlQbGF0Zm9ybTYuc2V0U2NhbGUoMC42KTtcclxuICB0aW55UGxhdGZvcm02LmJvZHkuYWxsb3dHcmF2aXR5ID0gZmFsc2U7XHJcbiAgdGlueVBsYXRmb3JtNi5zZXRJbW1vdmFibGUodHJ1ZSk7XHJcbiAgbWFuZ3JvdmVNZWFkb3dPYmplY3RzLnB1c2godGlueVBsYXRmb3JtNik7XHJcbn1cclxuXHJcbmV4cG9ydCB7IG1hbmdyb3ZlTWVhZG93T2JqZWN0cywgdGlueVBsYXRmb3JtMSwgdGlueVBsYXRmb3JtMiwgdGlueVBsYXRmb3JtMywgdGlueVBsYXRmb3JtNCwgdGlueVBsYXRmb3JtNSwgdGlueVBsYXRmb3JtNiB9O1xyXG4iLCIvLyBNaW5pbWFsIHNpbmdsZXRvbiBTb2NrZXQuSU8gY2xpZW50XHJcbi8vIDxzY3JpcHQgc3JjPVwiL3NvY2tldC5pby9zb2NrZXQuaW8uanNcIj48L3NjcmlwdD4gaXMgYWxyZWFkeSBpbmNsdWRlZCBpbiBpbmRleC5odG1sXHJcbmNvbnN0IHNvY2tldCA9IHdpbmRvdy5pbyh7XHJcbiAgLy8gc2FtZS1vcmlnaW47IHNlbmQgY29va2llcyBzbyB0aGUgc2VydmVyIGNhbiByZWFkIHNpZ25lZCBjb29raWVcclxuICB3aXRoQ3JlZGVudGlhbHM6IHRydWUsXHJcbiAgYXV0b0Nvbm5lY3Q6IHRydWUsXHJcbn0pO1xyXG5leHBvcnQgZGVmYXVsdCBzb2NrZXQ7XHJcbiIsIi8vIFJldHVybmluZ1NodXJpa2VuLmpzXHJcbi8vIEN1cnZlZCwgcmV0dXJuaW5nLCBwaWVyY2luZyBzaHVyaWtlbiB3aXRoIGRldGVybWluaXN0aWMgbG9jYWwgc2ltdWxhdGlvbi5cclxuXHJcbmltcG9ydCBzb2NrZXQgZnJvbSBcIi4uLy4uL3NvY2tldFwiOyAvLyBvd25lci1vbmx5IGhpdCBldmVudHNcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFJldHVybmluZ1NodXJpa2VuIGV4dGVuZHMgUGhhc2VyLlBoeXNpY3MuQXJjYWRlLkltYWdlIHtcclxuICAvKipcclxuICAgKiBAcGFyYW0ge1BoYXNlci5TY2VuZX0gc2NlbmVcclxuICAgKiBAcGFyYW0ge3t4Om51bWJlcix5Om51bWJlcn19IHN0YXJ0UG9zXHJcbiAgICogQHBhcmFtIHtQaGFzZXIuUGh5c2ljcy5BcmNhZGUuU3ByaXRlfSBvd25lclNwcml0ZVxyXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBjb25maWdcclxuICAgKi9cclxuICBjb25zdHJ1Y3RvcihzY2VuZSwgc3RhcnRQb3MsIG93bmVyU3ByaXRlLCBjb25maWcpIHtcclxuICAgIHN1cGVyKHNjZW5lLCBzdGFydFBvcy54LCBzdGFydFBvcy55LCBcInNodXJpa2VuXCIpO1xyXG4gICAgdGhpcy5vd25lclNwcml0ZSA9IG93bmVyU3ByaXRlO1xyXG4gICAgdGhpcy5jZmcgPSBPYmplY3QuYXNzaWduKFxyXG4gICAgICB7XHJcbiAgICAgICAgZGlyZWN0aW9uOiAxLFxyXG4gICAgICAgIGZvcndhcmREaXN0YW5jZTogNTIwLFxyXG4gICAgICAgIG91dHdhcmREdXJhdGlvbjogNjAwLCAvLyBtc1xyXG4gICAgICAgIHJldHVyblNwZWVkOiA1ODAsIC8vIHB4L3MgKGNhcClcclxuICAgICAgICByb3RhdGlvblNwZWVkOiA5NTAsIC8vIGRlZy9zXHJcbiAgICAgICAgc2NhbGU6IDAuMSxcclxuICAgICAgICBkYW1hZ2U6IDEwMDAsXHJcbiAgICAgICAgdXNlcm5hbWU6IFwiXCIsXHJcbiAgICAgICAgZ2FtZUlkOiBcIlwiLFxyXG4gICAgICAgIGlzT3duZXI6IGZhbHNlLFxyXG4gICAgICAgIG1heExpZmV0aW1lOiA3MDAwLFxyXG4gICAgICAgIGhpdENvb2xkb3duOiAzMDAsXHJcbiAgICAgIH0sXHJcbiAgICAgIGNvbmZpZyB8fCB7fVxyXG4gICAgKTtcclxuXHJcbiAgICAvLyBQaGFzZSBzdGF0ZVxyXG4gICAgdGhpcy5waGFzZSA9IFwib3V0d2FyZFwiOyAvLyBvdXR3YXJkIC0+IGhvdmVyIC0+IHJldHVyblxyXG4gICAgdGhpcy5lbGFwc2VkID0gMDsgLy8gbXMgaW4gY3VycmVudCBwaGFzZVxyXG4gICAgdGhpcy50b3RhbEVsYXBzZWQgPSAwOyAvLyBtcyB0b3RhbCBsaWZlXHJcbiAgICB0aGlzLmhvdmVyRHVyYXRpb24gPSAxMDA7IC8vIG1zIHRvIGhvdmVyIGJlZm9yZSByZXR1cm5pbmdcclxuICAgIHRoaXMucmV0dXJuQWNjZWxlcmF0aW9uID0gODAwOyAvLyBweC9zXjJcclxuICAgIHRoaXMuY3VycmVudFJldHVyblNwZWVkID0gdGhpcy5jZmcucmV0dXJuU3BlZWQgKiAwLjA4OyAvLyByYW1wIHVwXHJcbiAgICB0aGlzLmhpdFRpbWVzdGFtcHMgPSB7fTsgLy8gdXNlcm5hbWUgLT4gbGFzdCBoaXQgbXNcclxuXHJcbiAgICAvLyBUcmFpbCBzdGF0ZVxyXG4gICAgdGhpcy50cmFpbEludGVydmFsID0gMzA7IC8vIG1zXHJcbiAgICB0aGlzLnRyYWlsQWNjdW0gPSAwO1xyXG4gICAgdGhpcy50cmFpbHMgPSBbXTtcclxuICAgIHRoaXMubWF4VHJhaWxzID0gNDA7XHJcblxyXG4gICAgLy8gQWRkIHRvIHNjZW5lIC8gcGh5c2ljc1xyXG4gICAgc2NlbmUuYWRkLmV4aXN0aW5nKHRoaXMpO1xyXG4gICAgc2NlbmUucGh5c2ljcy5hZGQuZXhpc3RpbmcodGhpcyk7XHJcbiAgICB0aGlzLnNldFNjYWxlKHRoaXMuY2ZnLnNjYWxlKTtcclxuICAgIHRoaXMuYm9keS5hbGxvd0dyYXZpdHkgPSBmYWxzZTtcclxuICAgIHRoaXMuc2V0RGVwdGgoNSk7XHJcbiAgICB0aGlzLnNldEFuZ3VsYXJWZWxvY2l0eSh0aGlzLmNmZy5yb3RhdGlvblNwZWVkICogdGhpcy5jZmcuZGlyZWN0aW9uKTtcclxuXHJcbiAgICAvLyBQYXRoIGNvbnRyb2wgcG9pbnRzIChzbGlnaHQgZGlwIHRoZW4gYnVsZ2UpXHJcbiAgICB0aGlzLnN0YXJ0WCA9IHN0YXJ0UG9zLng7XHJcbiAgICB0aGlzLnN0YXJ0WSA9IHN0YXJ0UG9zLnk7XHJcbiAgICB0aGlzLmVuZFggPSB0aGlzLnN0YXJ0WCArIHRoaXMuY2ZnLmRpcmVjdGlvbiAqIHRoaXMuY2ZnLmZvcndhcmREaXN0YW5jZTtcclxuICAgIHRoaXMuZW5kWSA9IHRoaXMuc3RhcnRZO1xyXG4gICAgY29uc3QgZGlwRG93biA9IDIwO1xyXG4gICAgY29uc3QgYnVsZ2VVcCA9IDQwO1xyXG4gICAgdGhpcy5jdHJsMVggPVxyXG4gICAgICB0aGlzLnN0YXJ0WCArIHRoaXMuY2ZnLmRpcmVjdGlvbiAqIHRoaXMuY2ZnLmZvcndhcmREaXN0YW5jZSAqIDAuMjU7XHJcbiAgICB0aGlzLmN0cmwxWSA9IHRoaXMuc3RhcnRZICsgZGlwRG93bjtcclxuICAgIHRoaXMuY3RybDJYID1cclxuICAgICAgdGhpcy5zdGFydFggKyB0aGlzLmNmZy5kaXJlY3Rpb24gKiB0aGlzLmNmZy5mb3J3YXJkRGlzdGFuY2UgKiAwLjY7XHJcbiAgICB0aGlzLmN0cmwyWSA9IHRoaXMuc3RhcnRZIC0gYnVsZ2VVcDtcclxuXHJcbiAgICAvLyBVbmlmaWVkIHN1YnRsZSBnbG93IChibHVlIGlmIG93bmVyLCByZWQgb3RoZXJ3aXNlKVxyXG4gICAgY29uc3QgZ2xvd0NvbG9yID0gdGhpcy5jZmcuaXNPd25lciA/IDB4MmU5YmZmIDogMHhmZjNhMmU7XHJcbiAgICB0aGlzLmdsb3cgPSBzY2VuZS5hZGQuZ3JhcGhpY3MoKTtcclxuICAgIHRoaXMuZ2xvdy5zZXREZXB0aCh0aGlzLmRlcHRoIC0gMSk7XHJcbiAgICB0aGlzLmdsb3cuc2V0QmxlbmRNb2RlKFBoYXNlci5CbGVuZE1vZGVzLkFERCk7XHJcbiAgICB0aGlzLl9kcmF3R2xvdyhnbG93Q29sb3IpO1xyXG4gICAgc2NlbmUudHdlZW5zLmFkZCh7XHJcbiAgICAgIHRhcmdldHM6IHRoaXMuZ2xvdyxcclxuICAgICAgc2NhbGU6IHsgZnJvbTogMC45NSwgdG86IDEuMTUgfSxcclxuICAgICAgYWxwaGE6IHsgZnJvbTogMC45LCB0bzogMC41NSB9LFxyXG4gICAgICBkdXJhdGlvbjogNjAwLFxyXG4gICAgICByZXBlYXQ6IC0xLFxyXG4gICAgICB5b3lvOiB0cnVlLFxyXG4gICAgICBlYXNlOiBcIlNpbmUuZWFzZUluT3V0XCIsXHJcbiAgICB9KTtcclxuXHJcbiAgICB0aGlzLnNjZW5lLmV2ZW50cy5vbihcInVwZGF0ZVwiLCB0aGlzLnVwZGF0ZVNodXJpa2VuLCB0aGlzKTtcclxuICB9XHJcblxyXG4gIF9kcmF3R2xvdyhjb2xvckludCkge1xyXG4gICAgY29uc3QgYmFzZVJhZGl1cyA9IDg1ICogdGhpcy5jZmcuc2NhbGU7XHJcbiAgICBjb25zdCBpbm5lclJhZGl1cyA9IGJhc2VSYWRpdXMgKiAwLjQyO1xyXG4gICAgY29uc3QgbWlkUmFkaXVzID0gYmFzZVJhZGl1cyAqIDAuOTtcclxuICAgIGNvbnN0IG91dGVyUmFkaXVzID0gYmFzZVJhZGl1cyAqIDEuMjtcclxuICAgIGNvbnN0IGMgPSBQaGFzZXIuRGlzcGxheS5Db2xvci5JbnRlZ2VyVG9Db2xvcihjb2xvckludCk7XHJcbiAgICB0aGlzLmdsb3cuY2xlYXIoKTtcclxuICAgIHRoaXMuZ2xvdy54ID0gdGhpcy54O1xyXG4gICAgdGhpcy5nbG93LnkgPSB0aGlzLnk7XHJcbiAgICB0aGlzLmdsb3cuZmlsbFN0eWxlKGMuY29sb3IsIDAuNDIpO1xyXG4gICAgdGhpcy5nbG93LmZpbGxDaXJjbGUoMCwgMCwgb3V0ZXJSYWRpdXMpO1xyXG4gICAgdGhpcy5nbG93LmZpbGxTdHlsZShjLmNvbG9yLCAwLjcyKTtcclxuICAgIHRoaXMuZ2xvdy5maWxsQ2lyY2xlKDAsIDAsIG1pZFJhZGl1cyk7XHJcbiAgICB0aGlzLmdsb3cuZmlsbFN0eWxlKGMuY29sb3IsIDAuOTUpO1xyXG4gICAgdGhpcy5nbG93LmZpbGxDaXJjbGUoMCwgMCwgaW5uZXJSYWRpdXMpO1xyXG4gIH1cclxuXHJcbiAgLy8gQ3ViaWMgQmV6aWVyIGludGVycG9sYXRpb24gaGVscGVyXHJcbiAgY3ViaWModCwgcDAsIHAxLCBwMiwgcDMpIHtcclxuICAgIGNvbnN0IGl0ID0gMSAtIHQ7XHJcbiAgICByZXR1cm4gKFxyXG4gICAgICBpdCAqIGl0ICogaXQgKiBwMCArXHJcbiAgICAgIDMgKiBpdCAqIGl0ICogdCAqIHAxICtcclxuICAgICAgMyAqIGl0ICogdCAqIHQgKiBwMiArXHJcbiAgICAgIHQgKiB0ICogdCAqIHAzXHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgdHJ5RGFtYWdlKHRhcmdldFdyYXBwZXIpIHtcclxuICAgIGlmICghdGhpcy5jZmcuaXNPd25lcikgcmV0dXJuIGZhbHNlOyAvLyBvbmx5IG93bmVyIHJlcG9ydHMgaGl0c1xyXG4gICAgaWYgKCF0YXJnZXRXcmFwcGVyKSByZXR1cm4gZmFsc2U7XHJcbiAgICBjb25zdCB0YXJnZXRVc2VybmFtZSA9XHJcbiAgICAgIHRhcmdldFdyYXBwZXIudXNlcm5hbWUgfHxcclxuICAgICAgdGFyZ2V0V3JhcHBlci5fdXNlcm5hbWUgfHxcclxuICAgICAgdGFyZ2V0V3JhcHBlci5uYW1lIHx8XHJcbiAgICAgIFwidW5rbm93blwiO1xyXG4gICAgY29uc3Qgbm93ID0gdGhpcy5zY2VuZS50aW1lLm5vdztcclxuICAgIGNvbnN0IGxhc3QgPSB0aGlzLmhpdFRpbWVzdGFtcHNbdGFyZ2V0VXNlcm5hbWVdIHx8IDA7XHJcbiAgICBpZiAobm93IC0gbGFzdCA8IHRoaXMuY2ZnLmhpdENvb2xkb3duKSByZXR1cm4gZmFsc2U7XHJcbiAgICB0aGlzLmhpdFRpbWVzdGFtcHNbdGFyZ2V0VXNlcm5hbWVdID0gbm93O1xyXG4gICAgLy8gRW1pdCBzZXJ2ZXItYXV0aG9yaXRhdGl2ZSBkYW1hZ2UgZXZlbnRcclxuICAgIHNvY2tldC5lbWl0KFwiaGl0XCIsIHtcclxuICAgICAgYXR0YWNrZXI6IHRoaXMuY2ZnLnVzZXJuYW1lLFxyXG4gICAgICB0YXJnZXQ6IHRhcmdldFVzZXJuYW1lLFxyXG4gICAgICBkYW1hZ2U6IHRoaXMuY2ZnLmRhbWFnZSxcclxuICAgICAgZ2FtZUlkOiB0aGlzLmNmZy5nYW1lSWQsXHJcbiAgICB9KTtcclxuICAgIC8vIFBsYXkgaGl0IFNGWCBsb2NhbGx5IGZvciB0aGUgb3duZXJcclxuICAgIHRyeSB7XHJcbiAgICAgIHRoaXMuc2NlbmUuc291bmQucGxheShcInNodXJpa2VuSGl0XCIsIHsgdm9sdW1lOiAwLjEsIHJhdGU6IDEuMCB9KTtcclxuICAgIH0gY2F0Y2ggKGUpIHt9XHJcbiAgICByZXR1cm4gdHJ1ZTtcclxuICB9XHJcblxyXG4gIGF0dGFjaEVuZW15T3ZlcmxhcChvYmplY3RzKSB7XHJcbiAgICBvYmplY3RzLmZvckVhY2goKG9iaikgPT4ge1xyXG4gICAgICBpZiAoIW9iaikgcmV0dXJuO1xyXG4gICAgICBjb25zdCBzcHJpdGUgPSBvYmoub3Bwb25lbnQgfHwgb2JqO1xyXG4gICAgICB0aGlzLnNjZW5lLnBoeXNpY3MuYWRkLm92ZXJsYXAodGhpcywgc3ByaXRlLCAoKSA9PiB7XHJcbiAgICAgICAgaWYgKG9iai5vcHBvbmVudCkgdGhpcy50cnlEYW1hZ2Uob2JqKTtcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGF0dGFjaE1hcE92ZXJsYXAoKSB7XHJcbiAgICAvLyBJbnRlbnRpb25hbGx5IGJsYW5rIChwcm9qZWN0aWxlIGlnbm9yZXMgbWFwIG5vdylcclxuICB9XHJcblxyXG4gIHNwYXduVHJhaWwoKSB7XHJcbiAgICBjb25zdCBzID0gdGhpcy5zY2VuZS5hZGQuaW1hZ2UodGhpcy54LCB0aGlzLnksIFwic2h1cmlrZW5cIik7XHJcbiAgICBzLnNldFNjYWxlKHRoaXMuY2ZnLnNjYWxlICogMC40KTtcclxuICAgIHMuc2V0RGVwdGgoNCk7XHJcbiAgICBzLmFscGhhID0gMC4zNTtcclxuICAgIHRoaXMuc2NlbmUudHdlZW5zLmFkZCh7XHJcbiAgICAgIHRhcmdldHM6IHMsXHJcbiAgICAgIGFscGhhOiAwLFxyXG4gICAgICBzY2FsZTogeyBmcm9tOiBzLnNjYWxlLCB0bzogcy5zY2FsZSAqIDAuMTUgfSxcclxuICAgICAgZHVyYXRpb246IDMwMCxcclxuICAgICAgZWFzZTogXCJDdWJpYy5lYXNlT3V0XCIsXHJcbiAgICAgIG9uQ29tcGxldGU6ICgpID0+IHMuZGVzdHJveSgpLFxyXG4gICAgfSk7XHJcbiAgICB0aGlzLnRyYWlscy5wdXNoKHMpO1xyXG4gICAgaWYgKHRoaXMudHJhaWxzLmxlbmd0aCA+IHRoaXMubWF4VHJhaWxzKSB7XHJcbiAgICAgIGNvbnN0IG9sZCA9IHRoaXMudHJhaWxzLnNoaWZ0KCk7XHJcbiAgICAgIGlmIChvbGQgJiYgb2xkLmRlc3Ryb3kpIG9sZC5kZXN0cm95KCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBkZXN0cm95U2h1cmlrZW4oKSB7XHJcbiAgICBpZiAoIXRoaXMuc2NlbmUpIHJldHVybjtcclxuICAgIHRoaXMuc2NlbmUuZXZlbnRzLm9mZihcInVwZGF0ZVwiLCB0aGlzLnVwZGF0ZVNodXJpa2VuLCB0aGlzKTtcclxuICAgIHRoaXMudHJhaWxzLmZvckVhY2goKHQpID0+IHQgJiYgdC5kZXN0cm95ICYmIHQuZGVzdHJveSgpKTtcclxuICAgIHRoaXMudHJhaWxzLmxlbmd0aCA9IDA7XHJcbiAgICBpZiAodGhpcy5nbG93ICYmIHRoaXMuZ2xvdy5kZXN0cm95KSB0aGlzLmdsb3cuZGVzdHJveSgpO1xyXG4gICAgdGhpcy5kZXN0cm95KCk7XHJcbiAgfVxyXG5cclxuICB1cGRhdGVTaHVyaWtlbihfLCBkZWx0YSkge1xyXG4gICAgaWYgKCF0aGlzLmFjdGl2ZSkgcmV0dXJuO1xyXG4gICAgdGhpcy5lbGFwc2VkICs9IGRlbHRhO1xyXG4gICAgdGhpcy50b3RhbEVsYXBzZWQgKz0gZGVsdGE7XHJcbiAgICB0aGlzLnRyYWlsQWNjdW0gKz0gZGVsdGE7XHJcbiAgICBpZiAodGhpcy50cmFpbEFjY3VtID49IHRoaXMudHJhaWxJbnRlcnZhbCkge1xyXG4gICAgICB0aGlzLnNwYXduVHJhaWwoKTtcclxuICAgICAgdGhpcy50cmFpbEFjY3VtID0gMDtcclxuICAgIH1cclxuICAgIGlmICh0aGlzLnRvdGFsRWxhcHNlZCA+IHRoaXMuY2ZnLm1heExpZmV0aW1lKSB7XHJcbiAgICAgIHRoaXMuZGVzdHJveVNodXJpa2VuKCk7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBpZiAodGhpcy5waGFzZSA9PT0gXCJvdXR3YXJkXCIpIHtcclxuICAgICAgY29uc3QgcmF3VCA9IFBoYXNlci5NYXRoLkNsYW1wKFxyXG4gICAgICAgIHRoaXMuZWxhcHNlZCAvIHRoaXMuY2ZnLm91dHdhcmREdXJhdGlvbixcclxuICAgICAgICAwLFxyXG4gICAgICAgIDFcclxuICAgICAgKTtcclxuICAgICAgY29uc3QgdCA9ICgxIC0gTWF0aC5jb3MoTWF0aC5QSSAqIHJhd1QpKSAvIDI7IC8vIGVhc2UgaW4tb3V0XHJcbiAgICAgIGNvbnN0IG54ID0gdGhpcy5jdWJpYyhcclxuICAgICAgICB0LFxyXG4gICAgICAgIHRoaXMuc3RhcnRYLFxyXG4gICAgICAgIHRoaXMuY3RybDFYLFxyXG4gICAgICAgIHRoaXMuY3RybDJYLFxyXG4gICAgICAgIHRoaXMuZW5kWFxyXG4gICAgICApO1xyXG4gICAgICBjb25zdCBueSA9IHRoaXMuY3ViaWMoXHJcbiAgICAgICAgdCxcclxuICAgICAgICB0aGlzLnN0YXJ0WSxcclxuICAgICAgICB0aGlzLmN0cmwxWSxcclxuICAgICAgICB0aGlzLmN0cmwyWSxcclxuICAgICAgICB0aGlzLmVuZFlcclxuICAgICAgKTtcclxuICAgICAgdGhpcy5zZXRQb3NpdGlvbihueCwgbnkpO1xyXG4gICAgICBpZiAocmF3VCA+PSAxKSB7XHJcbiAgICAgICAgdGhpcy5waGFzZSA9IFwiaG92ZXJcIjtcclxuICAgICAgICB0aGlzLmVsYXBzZWQgPSAwO1xyXG4gICAgICAgIHRoaXMuc2V0QW5ndWxhclZlbG9jaXR5KFxyXG4gICAgICAgICAgdGhpcy5jZmcucm90YXRpb25TcGVlZCAqIDAuNTUgKiB0aGlzLmNmZy5kaXJlY3Rpb25cclxuICAgICAgICApO1xyXG4gICAgICB9XHJcbiAgICB9IGVsc2UgaWYgKHRoaXMucGhhc2UgPT09IFwiaG92ZXJcIikge1xyXG4gICAgICBpZiAodGhpcy5lbGFwc2VkID49IHRoaXMuaG92ZXJEdXJhdGlvbikge1xyXG4gICAgICAgIHRoaXMucGhhc2UgPSBcInJldHVyblwiO1xyXG4gICAgICAgIHRoaXMuZWxhcHNlZCA9IDA7XHJcbiAgICAgICAgdGhpcy5zZXRBbmd1bGFyVmVsb2NpdHkoXHJcbiAgICAgICAgICB0aGlzLmNmZy5yb3RhdGlvblNwZWVkICogMS4xNSAqIHRoaXMuY2ZnLmRpcmVjdGlvblxyXG4gICAgICAgICk7XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSBpZiAodGhpcy5waGFzZSA9PT0gXCJyZXR1cm5cIikge1xyXG4gICAgICBpZiAoIXRoaXMub3duZXJTcHJpdGUgfHwgIXRoaXMub3duZXJTcHJpdGUuYWN0aXZlKSB7XHJcbiAgICAgICAgdGhpcy54ICs9XHJcbiAgICAgICAgICB0aGlzLmNmZy5kaXJlY3Rpb24gKiAodGhpcy5jdXJyZW50UmV0dXJuU3BlZWQgKiAoZGVsdGEgLyAxMDAwKSk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgY29uc3QgZHggPSB0aGlzLm93bmVyU3ByaXRlLnggLSB0aGlzLng7XHJcbiAgICAgICAgY29uc3QgZHkgPSB0aGlzLm93bmVyU3ByaXRlLnkgLSB0aGlzLnk7XHJcbiAgICAgICAgY29uc3QgZGlzdCA9IE1hdGguc3FydChkeCAqIGR4ICsgZHkgKiBkeSkgfHwgMTtcclxuICAgICAgICB0aGlzLmN1cnJlbnRSZXR1cm5TcGVlZCA9IE1hdGgubWluKFxyXG4gICAgICAgICAgdGhpcy5jZmcucmV0dXJuU3BlZWQsXHJcbiAgICAgICAgICB0aGlzLmN1cnJlbnRSZXR1cm5TcGVlZCArIHRoaXMucmV0dXJuQWNjZWxlcmF0aW9uICogKGRlbHRhIC8gMTAwMClcclxuICAgICAgICApO1xyXG4gICAgICAgIGNvbnN0IHNwZCA9IHRoaXMuY3VycmVudFJldHVyblNwZWVkICogKGRlbHRhIC8gMTAwMCk7XHJcbiAgICAgICAgdGhpcy5zZXRQb3NpdGlvbihcclxuICAgICAgICAgIHRoaXMueCArIChkeCAvIGRpc3QpICogc3BkLFxyXG4gICAgICAgICAgdGhpcy55ICsgKGR5IC8gZGlzdCkgKiBzcGRcclxuICAgICAgICApO1xyXG4gICAgICAgIGlmIChkaXN0IDwgMzApIHtcclxuICAgICAgICAgIGlmIChcclxuICAgICAgICAgICAgdGhpcy5jZmcuaXNPd25lciAmJlxyXG4gICAgICAgICAgICB0aGlzLm9uUmV0dXJuICYmXHJcbiAgICAgICAgICAgIHR5cGVvZiB0aGlzLm9uUmV0dXJuID09PSBcImZ1bmN0aW9uXCJcclxuICAgICAgICAgICkge1xyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgIHRoaXMub25SZXR1cm4oKTtcclxuICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgIC8qIHNpbGVudCAqL1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICB0aGlzLmRlc3Ryb3lTaHVyaWtlbigpO1xyXG4gICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIFVwZGF0ZSBnbG93IHBvc2l0aW9uXHJcbiAgICBpZiAodGhpcy5nbG93KSB7XHJcbiAgICAgIHRoaXMuZ2xvdy54ID0gdGhpcy54O1xyXG4gICAgICB0aGlzLmdsb3cueSA9IHRoaXMueTtcclxuICAgIH1cclxuICB9XHJcbn1cclxuIiwiLy8gc3JjL2NoYXJhY3RlcnMvbmluamEvbmluamEuanNcclxuaW1wb3J0IHNvY2tldCBmcm9tIFwiLi4vLi4vc29ja2V0XCI7XHJcbmltcG9ydCB7IGNoYXJhY3RlclN0YXRzIH0gZnJvbSBcIi4uLy4uL2xpYi9jaGFyYWN0ZXJTdGF0cy5qc1wiO1xyXG5pbXBvcnQgUmV0dXJuaW5nU2h1cmlrZW4gZnJvbSBcIi4vYXR0YWNrXCI7XHJcbmltcG9ydCB7IGFuaW1hdGlvbnMgfSBmcm9tIFwiLi9hbmltXCI7XHJcblxyXG4vLyBTaW5nbGUgc291cmNlIG9mIHRydXRoIGZvciB0aGlzIGNoYXJhY3RlcidzIG5hbWUva2V5XHJcbmNvbnN0IE5BTUUgPSBcIm5pbmphXCI7XHJcblxyXG5jbGFzcyBOaW5qYSB7XHJcbiAgLy8gTWFpbiB0ZXh0dXJlIGtleSB1c2VkIGZvciB0aGlzIGNoYXJhY3RlcidzIHNwcml0ZVxyXG4gIHN0YXRpYyB0ZXh0dXJlS2V5ID0gTkFNRTtcclxuICBzdGF0aWMgZ2V0VGV4dHVyZUtleSgpIHtcclxuICAgIHJldHVybiBOaW5qYS50ZXh0dXJlS2V5O1xyXG4gIH1cclxuICBzdGF0aWMgcHJlbG9hZChzY2VuZSwgc3RhdGljUGF0aCA9IFwiL2Fzc2V0c1wiKSB7XHJcbiAgICAvLyBMb2FkIGF0bGFzIGFuZCBwcm9qZWN0aWxlL3NvdW5kc1xyXG4gICAgc2NlbmUubG9hZC5hdGxhcyhcclxuICAgICAgTkFNRSxcclxuICAgICAgYCR7c3RhdGljUGF0aH0vJHtOQU1FfS9zcHJpdGVzaGVldC5wbmdgLFxyXG4gICAgICBgJHtzdGF0aWNQYXRofS8ke05BTUV9L2FuaW1hdGlvbnMuanNvbmBcclxuICAgICk7XHJcbiAgICBzY2VuZS5sb2FkLmltYWdlKFwic2h1cmlrZW5cIiwgYCR7c3RhdGljUGF0aH0vJHtOQU1FfS9zaHVyaWtlbi5wbmdgKTtcclxuICAgIHNjZW5lLmxvYWQuYXVkaW8oXHJcbiAgICAgIFwic2h1cmlrZW5UaHJvd1wiLFxyXG4gICAgICBgJHtzdGF0aWNQYXRofS8ke05BTUV9L3NodXJpa2VuVGhyb3cubXAzYFxyXG4gICAgKTtcclxuICAgIHNjZW5lLmxvYWQuYXVkaW8oXCJzaHVyaWtlbkhpdFwiLCBgJHtzdGF0aWNQYXRofS8ke05BTUV9L2hpdC5tcDNgKTtcclxuICAgIHNjZW5lLmxvYWQuYXVkaW8oXCJzaHVyaWtlbkhpdFdvb2RcIiwgYCR7c3RhdGljUGF0aH0vJHtOQU1FfS93b29kaGl0LndhdmApO1xyXG4gIH1cclxuXHJcbiAgc3RhdGljIHNldHVwQW5pbWF0aW9ucyhzY2VuZSkge1xyXG4gICAgYW5pbWF0aW9ucyhzY2VuZSk7XHJcbiAgfVxyXG5cclxuICAvLyBQZXItY2hhcmFjdGVyIGdhbWVwbGF5IGFuZCBwcmVzZW50YXRpb24gc3RhdHNcclxuICBzdGF0aWMgZ2V0U3RhdHMoKSB7XHJcbiAgICByZXR1cm4gY2hhcmFjdGVyU3RhdHMubmluamE7XHJcbiAgfVxyXG5cclxuICAvLyBIYW5kbGUgcmVtb3RlIGF0dGFjayBldmVudHMgZm9yIG9wcG9uZW50cyB1c2luZyB0aGlzIGNoYXJhY3RlclxyXG4gIHN0YXRpYyBoYW5kbGVSZW1vdGVBdHRhY2soc2NlbmUsIGRhdGEsIG93bmVyV3JhcHBlcikge1xyXG4gICAgLy8gU3VwcG9ydCByZXR1cm5pbmcgc2h1cmlrZW4gYXMgZW1pdHRlZCBieSBsb2NhbCBOaW5qYS5hdHRhY2soKVxyXG4gICAgaWYgKGRhdGEucmV0dXJuaW5nKSB7XHJcbiAgICAgIGNvbnN0IG93bmVyU3ByaXRlID0gb3duZXJXcmFwcGVyID8gb3duZXJXcmFwcGVyLm9wcG9uZW50IDogbnVsbDtcclxuICAgICAgLy8gSW5zdGFudGlhdGUgYSBub24tb3duZXIgcmV0dXJuaW5nIHNodXJpa2VuIHNvIHZpc3VhbHMgbWF0Y2hcclxuICAgICAgY29uc3Qgc2h1cmlrZW4gPSBuZXcgUmV0dXJuaW5nU2h1cmlrZW4oXHJcbiAgICAgICAgc2NlbmUsXHJcbiAgICAgICAgeyB4OiBkYXRhLngsIHk6IGRhdGEueSB9LFxyXG4gICAgICAgIG93bmVyU3ByaXRlLFxyXG4gICAgICAgIHtcclxuICAgICAgICAgIGRpcmVjdGlvbjogZGF0YS5kaXJlY3Rpb24sXHJcbiAgICAgICAgICBmb3J3YXJkRGlzdGFuY2U6IGRhdGEuZm9yd2FyZERpc3RhbmNlIHx8IDUwMCxcclxuICAgICAgICAgIG91dHdhcmREdXJhdGlvbjogZGF0YS5vdXR3YXJkRHVyYXRpb24gfHwgMzgwLFxyXG4gICAgICAgICAgcmV0dXJuU3BlZWQ6IGRhdGEucmV0dXJuU3BlZWQgfHwgOTAwLFxyXG4gICAgICAgICAgcm90YXRpb25TcGVlZDogZGF0YS5yb3RhdGlvblNwZWVkIHx8IDIwMDAsXHJcbiAgICAgICAgICBzY2FsZTogZGF0YS5zY2FsZSB8fCAwLjEsXHJcbiAgICAgICAgICBkYW1hZ2U6IGRhdGEuZGFtYWdlLFxyXG4gICAgICAgICAgaXNPd25lcjogZmFsc2UsXHJcbiAgICAgICAgfVxyXG4gICAgICApO1xyXG4gICAgICAvLyBSZW1vdGUgY29sbGlzaW9uIGludGVudGlvbmFsbHkgb21pdHRlZCAob3duZXIgYXV0aG9yaXRhdGl2ZSlcclxuICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gRmFsbGJhY2sgZm9yIHNpbXBsZSBwcm9qZWN0aWxlcyBpZiBldmVyIHVzZWRcclxuICAgIGNvbnN0IHByb2ogPSBzY2VuZS5waHlzaWNzLmFkZC5pbWFnZShcclxuICAgICAgZGF0YS54LFxyXG4gICAgICBkYXRhLnksXHJcbiAgICAgIGRhdGEud2VhcG9uIHx8IFwic2h1cmlrZW5cIlxyXG4gICAgKTtcclxuICAgIHByb2ouc2V0U2NhbGUoZGF0YS5zY2FsZSB8fCAwLjEpO1xyXG4gICAgcHJvai5zZXRWZWxvY2l0eSgoZGF0YS5kaXJlY3Rpb24gfHwgMSkgKiA0MDAsIDApO1xyXG4gICAgcHJvai5zZXRBbmd1bGFyVmVsb2NpdHkoZGF0YS5yb3RhdGlvblNwZWVkIHx8IDYwMCk7XHJcbiAgICBwcm9qLmJvZHkuYWxsb3dHcmF2aXR5ID0gZmFsc2U7XHJcbiAgICByZXR1cm4gdHJ1ZTtcclxuICB9XHJcblxyXG4gIGNvbnN0cnVjdG9yKHtcclxuICAgIHNjZW5lLFxyXG4gICAgcGxheWVyLFxyXG4gICAgdXNlcm5hbWUsXHJcbiAgICBnYW1lSWQsXHJcbiAgICBvcHBvbmVudFBsYXllcnNSZWYsXHJcbiAgICBtYXBPYmplY3RzLFxyXG4gICAgYW1tb0hvb2tzLFxyXG4gIH0pIHtcclxuICAgIHRoaXMuc2NlbmUgPSBzY2VuZTtcclxuICAgIHRoaXMucGxheWVyID0gcGxheWVyO1xyXG4gICAgdGhpcy51c2VybmFtZSA9IHVzZXJuYW1lO1xyXG4gICAgdGhpcy5nYW1lSWQgPSBnYW1lSWQ7XHJcbiAgICB0aGlzLm9wcG9uZW50UGxheWVyc1JlZiA9IG9wcG9uZW50UGxheWVyc1JlZjtcclxuICAgIHRoaXMubWFwT2JqZWN0cyA9IG1hcE9iamVjdHM7XHJcbiAgICB0aGlzLmFtbW8gPSBhbW1vSG9va3M7XHJcbiAgfVxyXG5cclxuICBhdHRhY2hJbnB1dCgpIHtcclxuICAgIHRoaXMuc2NlbmUuaW5wdXQub24oXCJwb2ludGVyZG93blwiLCAoKSA9PiB0aGlzLmhhbmRsZVBvaW50ZXJEb3duKCkpO1xyXG4gIH1cclxuXHJcbiAgLy8gR2VuZXJpYy9kZWZhdWx0IGF0dGFjayBmbG93OiBhbW1vIGNoZWNrcywgZmxhZ3MsIFVJLCBzb2NrZXQgZW1pdFxyXG4gIHBlcmZvcm1EZWZhdWx0QXR0YWNrKHBheWxvYWRCdWlsZGVyLCBvbkFmdGVyRmlyZSkge1xyXG4gICAgY29uc3Qge1xyXG4gICAgICBnZXRBbW1vQ29vbGRvd25NcyxcclxuICAgICAgdHJ5Q29uc3VtZSxcclxuICAgICAgc2V0Q2FuQXR0YWNrLFxyXG4gICAgICBzZXRJc0F0dGFja2luZyxcclxuICAgICAgZHJhd0FtbW9CYXIsXHJcbiAgICB9ID0gdGhpcy5hbW1vO1xyXG5cclxuICAgIGlmICghdHJ5Q29uc3VtZSgpKSByZXR1cm4gZmFsc2U7XHJcbiAgICBzZXRDYW5BdHRhY2soZmFsc2UpO1xyXG4gICAgc2V0SXNBdHRhY2tpbmcodHJ1ZSk7XHJcblxyXG4gICAgY29uc3QgY29vbGRvd24gPSBnZXRBbW1vQ29vbGRvd25NcygpO1xyXG4gICAgdGhpcy5zY2VuZS50aW1lLmRlbGF5ZWRDYWxsKGNvb2xkb3duLCAoKSA9PiBzZXRDYW5BdHRhY2sodHJ1ZSkpO1xyXG4gICAgLy8gUmVzZXQgYXR0YWNraW5nIHN0YXRlIGEgYml0IGFmdGVyIHNob3RcclxuICAgIHNldFRpbWVvdXQoKCkgPT4gc2V0SXNBdHRhY2tpbmcoZmFsc2UpLCAzMDApO1xyXG5cclxuICAgIC8vIEJ1aWxkIGFuZCBicm9hZGNhc3QgYXR0YWNrIHBheWxvYWRcclxuICAgIGNvbnN0IHBheWxvYWQgPVxyXG4gICAgICB0eXBlb2YgcGF5bG9hZEJ1aWxkZXIgPT09IFwiZnVuY3Rpb25cIiA/IHBheWxvYWRCdWlsZGVyKCkgOiBudWxsO1xyXG4gICAgaWYgKHBheWxvYWQpIHNvY2tldC5lbWl0KFwiYXR0YWNrXCIsIHBheWxvYWQpO1xyXG5cclxuICAgIC8vIFVwZGF0ZSBVSVxyXG4gICAgZHJhd0FtbW9CYXIoKTtcclxuICAgIGlmICh0eXBlb2Ygb25BZnRlckZpcmUgPT09IFwiZnVuY3Rpb25cIikgb25BZnRlckZpcmUoKTtcclxuICAgIHJldHVybiB0cnVlO1xyXG4gIH1cclxuXHJcbiAgLy8gTmluamEtc3BlY2lmaWMgYXR0YWNrOiBzcGF3biBhIHJldHVybmluZyBzaHVyaWtlbiB3aXRoIG93bmVyLXNpZGUgY29sbGlzaW9uc1xyXG4gIGhhbmRsZVBvaW50ZXJEb3duKCkge1xyXG4gICAgY29uc3QgcCA9IHRoaXMucGxheWVyO1xyXG4gICAgY29uc3QgZGlyZWN0aW9uID0gcC5mbGlwWCA/IC0xIDogMTtcclxuXHJcbiAgICBjb25zdCBzdGF0cyA9XHJcbiAgICAgICh0aGlzLmNvbnN0cnVjdG9yLmdldFN0YXRzICYmIHRoaXMuY29uc3RydWN0b3IuZ2V0U3RhdHMoKSkgfHwge307XHJcbiAgICBjb25zdCBkYW1hZ2UgPSBzdGF0cy5kYW1hZ2U7XHJcblxyXG4gICAgY29uc3QgZmlyZWQgPSB0aGlzLnBlcmZvcm1EZWZhdWx0QXR0YWNrKCgpID0+IHtcclxuICAgICAgLy8gUGxheSB0aHJvdyBhbmltIGFuZCBzZnhcclxuICAgICAgY29uc3Qgc2Z4ID0gdGhpcy5zY2VuZS5zb3VuZC5hZGQoXCJzaHVyaWtlblRocm93XCIpO1xyXG4gICAgICBzZnguc2V0Vm9sdW1lKDAuMSk7XHJcbiAgICAgIHNmeC5zZXRSYXRlKDEuMyk7XHJcbiAgICAgIHNmeC5wbGF5KCk7XHJcbiAgICAgIGlmIChcclxuICAgICAgICB0aGlzLnNjZW5lLmFuaW1zICYmXHJcbiAgICAgICAgKHRoaXMuc2NlbmUuYW5pbXMuZXhpc3RzKGAke05BTUV9LXRocm93YCkgfHxcclxuICAgICAgICAgIHRoaXMuc2NlbmUuYW5pbXMuZXhpc3RzKFwidGhyb3dcIikpXHJcbiAgICAgICkge1xyXG4gICAgICAgIHAuYW5pbXMucGxheShcclxuICAgICAgICAgIHRoaXMuc2NlbmUuYW5pbXMuZXhpc3RzKGAke05BTUV9LXRocm93YCkgPyBgJHtOQU1FfS10aHJvd2AgOiBcInRocm93XCIsXHJcbiAgICAgICAgICB0cnVlXHJcbiAgICAgICAgKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgY29uc3QgY29uZmlnID0ge1xyXG4gICAgICAgIGRpcmVjdGlvbixcclxuICAgICAgICB1c2VybmFtZTogdGhpcy51c2VybmFtZSxcclxuICAgICAgICBnYW1lSWQ6IHRoaXMuZ2FtZUlkLFxyXG4gICAgICAgIGlzT3duZXI6IHRydWUsXHJcbiAgICAgICAgZGFtYWdlLFxyXG4gICAgICAgIHJvdGF0aW9uU3BlZWQ6IDIwMDAsXHJcbiAgICAgICAgZm9yd2FyZERpc3RhbmNlOiA1MDAsXHJcbiAgICAgICAgYXJjSGVpZ2h0OiAxNjAsXHJcbiAgICAgICAgb3V0d2FyZER1cmF0aW9uOiAzODAsXHJcbiAgICAgICAgcmV0dXJuU3BlZWQ6IDkwMCxcclxuICAgICAgfTtcclxuXHJcbiAgICAgIGNvbnN0IHJldHVybmluZyA9IG5ldyBSZXR1cm5pbmdTaHVyaWtlbihcclxuICAgICAgICB0aGlzLnNjZW5lLFxyXG4gICAgICAgIHsgeDogcC54LCB5OiBwLnkgfSxcclxuICAgICAgICBwLFxyXG4gICAgICAgIGNvbmZpZ1xyXG4gICAgICApO1xyXG5cclxuICAgICAgLy8gT3duZXItb25seSBjb2xsaXNpb25zXHJcbiAgICAgIGNvbnN0IGVuZW15TGlzdCA9IE9iamVjdC52YWx1ZXModGhpcy5vcHBvbmVudFBsYXllcnNSZWYgfHwge30pO1xyXG4gICAgICByZXR1cm5pbmcuYXR0YWNoRW5lbXlPdmVybGFwKGVuZW15TGlzdCk7XHJcbiAgICAgIHJldHVybmluZy5hdHRhY2hNYXBPdmVybGFwKHRoaXMubWFwT2JqZWN0cyk7XHJcblxyXG4gICAgICAvLyBQZXJrOiBncmFudCBhbW1vIG9uIHJldHVyblxyXG4gICAgICBjb25zdCB7IGdyYW50Q2hhcmdlLCBzZXRDYW5BdHRhY2ssIGRyYXdBbW1vQmFyIH0gPSB0aGlzLmFtbW87XHJcbiAgICAgIHJldHVybmluZy5vblJldHVybiA9ICgpID0+IHtcclxuICAgICAgICBncmFudENoYXJnZSgxKTtcclxuICAgICAgICBzZXRDYW5BdHRhY2sodHJ1ZSk7XHJcbiAgICAgICAgZHJhd0FtbW9CYXIoKTtcclxuICAgICAgfTtcclxuXHJcbiAgICAgIHJldHVybiB7XHJcbiAgICAgICAgeDogcC54LFxyXG4gICAgICAgIHk6IHAueSxcclxuICAgICAgICBzY2FsZTogY29uZmlnLnNjYWxlIHx8IDAuMSxcclxuICAgICAgICBkYW1hZ2U6IGNvbmZpZy5kYW1hZ2UsXHJcbiAgICAgICAgbmFtZTogdGhpcy51c2VybmFtZSxcclxuICAgICAgICByZXR1cm5pbmc6IHRydWUsXHJcbiAgICAgICAgZGlyZWN0aW9uLFxyXG4gICAgICAgIGZvcndhcmREaXN0YW5jZTogY29uZmlnLmZvcndhcmREaXN0YW5jZSxcclxuICAgICAgICBvdXR3YXJkRHVyYXRpb246IGNvbmZpZy5vdXR3YXJkRHVyYXRpb24sXHJcbiAgICAgICAgcmV0dXJuU3BlZWQ6IGNvbmZpZy5yZXR1cm5TcGVlZCxcclxuICAgICAgICByb3RhdGlvblNwZWVkOiBjb25maWcucm90YXRpb25TcGVlZCxcclxuICAgICAgfTtcclxuICAgIH0pO1xyXG5cclxuICAgIHJldHVybiBmaXJlZDtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IE5pbmphO1xyXG4iLCJleHBvcnQgZnVuY3Rpb24gYW5pbWF0aW9ucyhzY2VuZSkge1xyXG4gIGlmICghc2NlbmUuYW5pbXMuZXhpc3RzKFwibmluamEtcnVubmluZ1wiKSlcclxuICAgIHNjZW5lLmFuaW1zLmNyZWF0ZSh7XHJcbiAgICAgIGtleTogXCJuaW5qYS1ydW5uaW5nXCIsIC8vIE5hbWUgb2YgYW5pbWF0aW9uXHJcbiAgICAgIGZyYW1lczogc2NlbmUuYW5pbXMuZ2VuZXJhdGVGcmFtZU5hbWVzKFwibmluamFcIiwge1xyXG4gICAgICAgIHByZWZpeDogXCJydW5uaW5nXCIsIC8vIE5hbWUgaW5zaWRlIG9mIGpzb24gZmlsZVxyXG4gICAgICAgIGVuZDogNSwgLy8gTGVuZ3RoIG9mIGFuaW1hdGlvbiBpbiBmcmFtZXMgKFNpbmNlIHRoZSBudW1iZXJzIHN0YXJ0IGF0IDAsIHRoZSBlbmQgaXMgYWx3YXlzIDEgbW9yZS4gU28gNSArIDEgPSA2IGZyYW1lcylcclxuICAgICAgICB6ZXJvUGFkOiAyLCAvLyBOdW1iZXIgb2YgemVyb3MgaW4ganNvbiBmaWxlXHJcbiAgICAgIH0pLFxyXG4gICAgICBmcmFtZVJhdGU6IDIwLCAvLyBOdW1iZXIgb2YgZnJhbWVzIHBlciBzZWNvbmRcclxuICAgICAgcmVwZWF0OiAwLCAvLyBOdW1iZXIgb2YgdGltZXMgdG8gcmVwZWF0ICgwIG1lYW5zIG5vbmUpICgtMSBtZWFucyBpbmZpbml0ZSB0aW1lcylcclxuICAgIH0pO1xyXG4gIGlmICghc2NlbmUuYW5pbXMuZXhpc3RzKFwibmluamEtaWRsZVwiKSlcclxuICAgIHNjZW5lLmFuaW1zLmNyZWF0ZSh7XHJcbiAgICAgIGtleTogXCJuaW5qYS1pZGxlXCIsXHJcbiAgICAgIGZyYW1lczogc2NlbmUuYW5pbXMuZ2VuZXJhdGVGcmFtZU5hbWVzKFwibmluamFcIiwge1xyXG4gICAgICAgIHByZWZpeDogXCJpZGxlXCIsXHJcbiAgICAgICAgZW5kOiA0LFxyXG4gICAgICAgIHplcm9QYWQ6IDIsXHJcbiAgICAgIH0pLFxyXG4gICAgICBmcmFtZVJhdGU6IDMsXHJcbiAgICAgIHJlcGVhdDogLTEsXHJcbiAgICB9KTtcclxuICBpZiAoIXNjZW5lLmFuaW1zLmV4aXN0cyhcIm5pbmphLWp1bXBpbmdcIikpXHJcbiAgICBzY2VuZS5hbmltcy5jcmVhdGUoe1xyXG4gICAgICBrZXk6IFwibmluamEtanVtcGluZ1wiLFxyXG4gICAgICBmcmFtZXM6IHNjZW5lLmFuaW1zLmdlbmVyYXRlRnJhbWVOYW1lcyhcIm5pbmphXCIsIHtcclxuICAgICAgICBwcmVmaXg6IFwianVtcGluZ1wiLFxyXG4gICAgICAgIGVuZDogNyxcclxuICAgICAgICB6ZXJvUGFkOiAyLFxyXG4gICAgICB9KSxcclxuICAgICAgZnJhbWVSYXRlOiAyMCxcclxuICAgICAgcmVwZWF0OiAwLFxyXG4gICAgfSk7XHJcblxyXG4gIGlmICghc2NlbmUuYW5pbXMuZXhpc3RzKFwibmluamEtc2xpZGluZ1wiKSlcclxuICAgIHNjZW5lLmFuaW1zLmNyZWF0ZSh7XHJcbiAgICAgIGtleTogXCJuaW5qYS1zbGlkaW5nXCIsXHJcbiAgICAgIGZyYW1lczogc2NlbmUuYW5pbXMuZ2VuZXJhdGVGcmFtZU5hbWVzKFwibmluamFcIiwge1xyXG4gICAgICAgIHByZWZpeDogXCJ3YWxsXCIsXHJcbiAgICAgICAgZW5kOiAwLFxyXG4gICAgICAgIHplcm9QYWQ6IDIsXHJcbiAgICAgIH0pLFxyXG4gICAgICBmcmFtZVJhdGU6IDIwLFxyXG4gICAgICByZXBlYXQ6IDIsXHJcbiAgICB9KTtcclxuXHJcbiAgaWYgKCFzY2VuZS5hbmltcy5leGlzdHMoXCJuaW5qYS1mYWxsaW5nXCIpKVxyXG4gICAgc2NlbmUuYW5pbXMuY3JlYXRlKHtcclxuICAgICAga2V5OiBcIm5pbmphLWZhbGxpbmdcIixcclxuICAgICAgZnJhbWVzOiBzY2VuZS5hbmltcy5nZW5lcmF0ZUZyYW1lTmFtZXMoXCJuaW5qYVwiLCB7XHJcbiAgICAgICAgcHJlZml4OiBcImZhbGxpbmdcIixcclxuICAgICAgICBlbmQ6IDIsXHJcbiAgICAgICAgemVyb1BhZDogMixcclxuICAgICAgfSksXHJcbiAgICAgIGZyYW1lUmF0ZTogMjAsXHJcbiAgICAgIHJlcGVhdDogMCxcclxuICAgIH0pO1xyXG5cclxuICBpZiAoIXNjZW5lLmFuaW1zLmV4aXN0cyhcIm5pbmphLXRocm93XCIpKVxyXG4gICAgc2NlbmUuYW5pbXMuY3JlYXRlKHtcclxuICAgICAga2V5OiBcIm5pbmphLXRocm93XCIsXHJcbiAgICAgIGZyYW1lczogc2NlbmUuYW5pbXMuZ2VuZXJhdGVGcmFtZU5hbWVzKFwibmluamFcIiwge1xyXG4gICAgICAgIHByZWZpeDogXCJ0aHJvd1wiLFxyXG4gICAgICAgIGVuZDogMyxcclxuICAgICAgICB6ZXJvUGFkOiAyLFxyXG4gICAgICB9KSxcclxuICAgICAgZnJhbWVSYXRlOiAxNSxcclxuICAgICAgcmVwZWF0OiAwLFxyXG4gICAgfSk7XHJcblxyXG4gIGlmICghc2NlbmUuYW5pbXMuZXhpc3RzKFwibmluamEtZHlpbmdcIikpXHJcbiAgICBzY2VuZS5hbmltcy5jcmVhdGUoe1xyXG4gICAgICBrZXk6IFwibmluamEtZHlpbmdcIixcclxuICAgICAgZnJhbWVzOiBzY2VuZS5hbmltcy5nZW5lcmF0ZUZyYW1lTmFtZXMoXCJuaW5qYVwiLCB7XHJcbiAgICAgICAgcHJlZml4OiBcImR5aW5nXCIsXHJcbiAgICAgICAgZW5kOiAzLFxyXG4gICAgICAgIHplcm9QYWQ6IDIsXHJcbiAgICAgIH0pLFxyXG4gICAgICBmcmFtZVJhdGU6IDEwLFxyXG4gICAgICByZXBlYXQ6IDAsXHJcbiAgICB9KTtcclxufVxyXG4iLCJleHBvcnQgZnVuY3Rpb24gYW5pbWF0aW9ucyhzY2VuZSkge1xyXG4gIGNvbnN0IE5BTUUgPSBcInRob3JnXCI7XHJcbiAgY29uc3QgdGV4ID0gc2NlbmUudGV4dHVyZXMuZ2V0KE5BTUUpO1xyXG4gIGNvbnN0IGFsbE5hbWVzID0gKHRleCAmJiB0ZXguZ2V0RnJhbWVOYW1lcygpKSB8fCBbXTtcclxuICBjb25zdCBsb3dlciA9IG5ldyBNYXAoYWxsTmFtZXMubWFwKChuKSA9PiBbbi50b0xvd2VyQ2FzZSgpLCBuXSkpO1xyXG5cclxuICBjb25zdCBmaW5kRnJhbWVzID0gKGNhbmRpZGF0ZXMpID0+IHtcclxuICAgIC8vIGNhbmRpZGF0ZXM6IGFycmF5IG9mIGxvd2VyY2FzZSBwcmVmaXhlcyB0byB0cnkgKGUuZy4sIFtcInJ1bm5pbmdcIiwgXCJydW5cIl0pXHJcbiAgICAvLyBSZXR1cm4gc29ydGVkIGZyYW1lIG5hbWVzIGJ5IG51bWVyaWMgc3VmZml4IHdoZW4gcHJlc2VudC5cclxuICAgIGNvbnN0IG1hdGNoZWQgPSBbXTtcclxuICAgIGZvciAoY29uc3QgbmFtZSBvZiBhbGxOYW1lcykge1xyXG4gICAgICBjb25zdCBsbiA9IG5hbWUudG9Mb3dlckNhc2UoKTtcclxuICAgICAgaWYgKGNhbmRpZGF0ZXMuc29tZSgocCkgPT4gbG4uc3RhcnRzV2l0aChwKSkpIHtcclxuICAgICAgICBtYXRjaGVkLnB1c2gobmFtZSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIC8vIFNvcnQgYnkgdHJhaWxpbmcgbnVtYmVyIGlmIGFueSwgZWxzZSBsZXhpY29ncmFwaGljYWxseVxyXG4gICAgbWF0Y2hlZC5zb3J0KChhLCBiKSA9PiB7XHJcbiAgICAgIGNvbnN0IHJhID0gLyhcXGQrKSg/PVxcRCokKS8uZXhlYyhhKTtcclxuICAgICAgY29uc3QgcmIgPSAvKFxcZCspKD89XFxEKiQpLy5leGVjKGIpO1xyXG4gICAgICBpZiAocmEgJiYgcmIpIHJldHVybiBwYXJzZUludChyYVsxXSwgMTApIC0gcGFyc2VJbnQocmJbMV0sIDEwKTtcclxuICAgICAgcmV0dXJuIGEubG9jYWxlQ29tcGFyZShiKTtcclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIG1hdGNoZWQ7XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgbWFrZSA9IChrZXksIHByZWZpeGVzLCBmcmFtZVJhdGUsIHJlcGVhdCkgPT4ge1xyXG4gICAgaWYgKHNjZW5lLmFuaW1zLmV4aXN0cyhrZXkpKSByZXR1cm47IC8vIGRvbid0IGR1cGxpY2F0ZVxyXG4gICAgY29uc3QgZnJhbWVzID0gZmluZEZyYW1lcyhwcmVmaXhlcyk7XHJcbiAgICBpZiAoIWZyYW1lcy5sZW5ndGgpIHJldHVybjsgLy8gc2tpcCBpZiBub3QgcHJlc2VudFxyXG4gICAgc2NlbmUuYW5pbXMuY3JlYXRlKHtcclxuICAgICAga2V5LFxyXG4gICAgICBmcmFtZXM6IGZyYW1lcy5tYXAoKGYpID0+ICh7IGtleTogTkFNRSwgZnJhbWU6IGYgfSkpLFxyXG4gICAgICBmcmFtZVJhdGUsXHJcbiAgICAgIHJlcGVhdCxcclxuICAgIH0pO1xyXG4gIH07XHJcblxyXG4gIC8vIFRyeSByZWFzb25hYmxlIHByZWZpeCB2YXJpYW50cyBmb3Igcm9idXN0bmVzcyBhY3Jvc3MgYXRsYXNlc1xyXG4gIG1ha2UoYCR7TkFNRX0tcnVubmluZ2AsIFtcInJ1bm5pbmdcIiwgXCJydW5cIl0sIDIwLCAwKTtcclxuICBtYWtlKGAke05BTUV9LWlkbGVgLCBbXCJpZGxlXCIsIFwic3RhbmRcIiwgXCJpZGxlX1wiXSwgNSwgLTEpO1xyXG4gIG1ha2UoYCR7TkFNRX0tanVtcGluZ2AsIFtcImp1bXBpbmdcIiwgXCJqdW1wXCJdLCAyMCwgMCk7XHJcbiAgbWFrZShgJHtOQU1FfS1zbGlkaW5nYCwgW1wid2FsbFwiLCBcInNsaWRlXCIsIFwic2xpZGluZ1wiXSwgMjAsIDIpO1xyXG4gIG1ha2UoYCR7TkFNRX0tZmFsbGluZ2AsIFtcImZhbGxpbmdcIiwgXCJmYWxsXCJdLCAyMCwgMCk7XHJcbiAgbWFrZShgJHtOQU1FfS10aHJvd2AsIFtcInRocm93XCIsIFwiYXR0YWNrXCIsIFwiYXR0YWNrX3Rocm93XCJdLCAxNSwgMCk7XHJcbiAgbWFrZShgJHtOQU1FfS1keWluZ2AsIFtcImR5aW5nXCIsIFwiZGVhdGhcIiwgXCJkZWFkXCJdLCAxMCwgMCk7XHJcbn1cclxuIiwiLy8gc3JjL2NoYXJhY3RlcnMvdGhvcmcvdGhvcmcuanNcclxuaW1wb3J0IHNvY2tldCBmcm9tIFwiLi4vLi4vc29ja2V0XCI7XHJcbmltcG9ydCB7IGNoYXJhY3RlclN0YXRzIH0gZnJvbSBcIi4uLy4uL2xpYi9jaGFyYWN0ZXJTdGF0cy5qc1wiO1xyXG5pbXBvcnQgeyBhbmltYXRpb25zIH0gZnJvbSBcIi4vYW5pbVwiO1xyXG5cclxuLy8gU2luZ2xlIHNvdXJjZSBvZiB0cnV0aCBmb3IgdGhpcyBjaGFyYWN0ZXIncyBuYW1lL2tleVxyXG5jb25zdCBOQU1FID0gXCJ0aG9yZ1wiO1xyXG5cclxuY2xhc3MgVGhvcmcge1xyXG4gIC8vIE1haW4gdGV4dHVyZSBrZXkgdXNlZCBmb3IgdGhpcyBjaGFyYWN0ZXIncyBzcHJpdGVcclxuICBzdGF0aWMgdGV4dHVyZUtleSA9IE5BTUU7XHJcbiAgc3RhdGljIGdldFRleHR1cmVLZXkoKSB7XHJcbiAgICByZXR1cm4gVGhvcmcudGV4dHVyZUtleTtcclxuICB9XHJcbiAgc3RhdGljIHByZWxvYWQoc2NlbmUsIHN0YXRpY1BhdGggPSBcIi9hc3NldHNcIikge1xyXG4gICAgLy8gTG9hZCBhdGxhcyBhbmQgcHJvamVjdGlsZS9zb3VuZHNcclxuICAgIHNjZW5lLmxvYWQuYXRsYXMoXHJcbiAgICAgIE5BTUUsXHJcbiAgICAgIGAke3N0YXRpY1BhdGh9LyR7TkFNRX0vc3ByaXRlc2hlZXQucG5nYCxcclxuICAgICAgYCR7c3RhdGljUGF0aH0vJHtOQU1FfS9hbmltYXRpb25zLmpzb25gXHJcbiAgICApO1xyXG4gICAgLy8gT3B0aW9uYWwgVkZYIHNwcml0ZSAocGxhY2UgYXQgL2Fzc2V0cy90aG9yZy9zbGFzaC5wbmcpLiBGYWxscyBiYWNrIHRvIHZlY3RvciBpZiBtaXNzaW5nLlxyXG4gICAgLy8gc2NlbmUubG9hZC5pbWFnZShcInNodXJpa2VuXCIsIGAke3N0YXRpY1BhdGh9L3Rob3JnL3NodXJpa2VuLnBuZ2ApO1xyXG4gICAgLy8gc2NlbmUubG9hZC5hdWRpbyhcInNodXJpa2VuVGhyb3dcIiwgYCR7c3RhdGljUGF0aH0vdGhvcmcvc2h1cmlrZW5UaHJvdy5tcDNgKTtcclxuICAgIC8vIHNjZW5lLmxvYWQuYXVkaW8oXCJzaHVyaWtlbkhpdFwiLCBgJHtzdGF0aWNQYXRofS90aG9yZy9oaXQubXAzYCk7XHJcbiAgfVxyXG5cclxuICBzdGF0aWMgc2V0dXBBbmltYXRpb25zKHNjZW5lKSB7XHJcbiAgICBhbmltYXRpb25zKHNjZW5lKTtcclxuICB9XHJcblxyXG4gIC8vIFJlbW90ZSBhdHRhY2sgdmlzdWFsaXphdGlvbiBmb3IgVGhvcmcgKHNsYXNoIGVmZmVjdCBvbmx5KVxyXG4gIHN0YXRpYyBoYW5kbGVSZW1vdGVBdHRhY2soc2NlbmUsIGRhdGEsIG93bmVyV3JhcHBlcikge1xyXG4gICAgaWYgKGRhdGEudHlwZSAhPT0gYCR7TkFNRX0tc2xhc2hgKSByZXR1cm4gZmFsc2U7XHJcbiAgICBjb25zdCBvd25lclNwcml0ZSA9IG93bmVyV3JhcHBlciA/IG93bmVyV3JhcHBlci5vcHBvbmVudCA6IG51bGw7XHJcbiAgICBpZiAoIW93bmVyU3ByaXRlKSByZXR1cm4gdHJ1ZTsgLy8gbm90aGluZyB0byBzaG93XHJcbiAgICAvLyBTcGF3biBhIHZpc3VhbC1vbmx5IHNsYXNoIGVmZmVjdCBhdHRhY2hlZCB0byB0aGUgb3duZXIgc3ByaXRlXHJcbiAgICBUaG9yZy5fc3Bhd25TbGFzaEVmZmVjdChcclxuICAgICAgc2NlbmUsXHJcbiAgICAgIG93bmVyU3ByaXRlLFxyXG4gICAgICBkYXRhLmRpcmVjdGlvbixcclxuICAgICAgZGF0YS5yYW5nZSxcclxuICAgICAgZGF0YS5kdXJhdGlvblxyXG4gICAgKTtcclxuICAgIHJldHVybiB0cnVlO1xyXG4gIH1cclxuXHJcbiAgLy8gU2hhcmVkIGhlbHBlciB0byByZW5kZXIgdGhlIHNsYXNoIGVmZmVjdCAoZ3JhcGhpY3Mgc3Ryb2tlIGFyYylcclxuICBzdGF0aWMgX3NwYXduU2xhc2hFZmZlY3QoXHJcbiAgICBzY2VuZSxcclxuICAgIHNwcml0ZSxcclxuICAgIGRpcmVjdGlvbiA9IDEsXHJcbiAgICByYW5nZSA9IDIwLFxyXG4gICAgZHVyYXRpb24gPSAzMDBcclxuICApIHtcclxuICAgIC8vIElmIHdlIGhhdmUgYW4gaW1hZ2UsIGFuaW1hdGUgaXQgYWxvbmcgYW4gb3ZlcmhlYWQgb3ZhbCBwYXRoLiBPdGhlcndpc2UsIGZhbGxiYWNrIHRvIHZlY3RvciBiYW5kLlxyXG4gICAgY29uc3QgaGFzVGV4ID0gc2NlbmUudGV4dHVyZXMuZXhpc3RzKGAke05BTUV9LXdlYXBvbmApO1xyXG4gICAgY29uc3Qgb3JpZ2luT2Zmc2V0WSA9IHNwcml0ZS5oZWlnaHQgKiAwLjE7XHJcbiAgICBjb25zdCBjeCA9ICgpID0+IHNwcml0ZS54ICsgKGRpcmVjdGlvbiA+PSAwID8gMTAgOiAtMTApO1xyXG4gICAgY29uc3QgY3kgPSAoKSA9PiBzcHJpdGUueSAtIG9yaWdpbk9mZnNldFk7XHJcbiAgICBjb25zdCByeCA9IHJhbmdlO1xyXG4gICAgY29uc3QgcnkgPSBNYXRoLnJvdW5kKHJhbmdlICogMC42KTtcclxuICAgIGNvbnN0IHN0YXJ0UmFkID0gUGhhc2VyLk1hdGguRGVnVG9SYWQoLTkwKTtcclxuICAgIGNvbnN0IGVuZFJhZCA9IFBoYXNlci5NYXRoLkRlZ1RvUmFkKDkwKTtcclxuXHJcbiAgICBpZiAoaGFzVGV4KSB7XHJcbiAgICAgIGNvbnN0IGVmZiA9IHNjZW5lLmFkZC5pbWFnZShjeCgpLCBjeSgpLCBgJHtOQU1FfS13ZWFwb25gKTtcclxuICAgICAgZWZmLnNldERlcHRoKDYpO1xyXG4gICAgICBlZmYuc2V0U2NhbGUoMC45KTtcclxuICAgICAgZWZmLnNldE9yaWdpbihkaXJlY3Rpb24gPj0gMCA/IDAuMSA6IDAuOSwgMC41KTsgLy8gcGl2b3QgbmVhciB0aGUgc3dvcmRcclxuICAgICAgZWZmLnNldEZsaXBYKGRpcmVjdGlvbiA8IDApO1xyXG5cclxuICAgICAgY29uc3QgcHJveHkgPSB7IHQ6IDAgfTtcclxuICAgICAgY29uc3QgdHdlZW4gPSBzY2VuZS50d2VlbnMuYWRkKHtcclxuICAgICAgICB0YXJnZXRzOiBwcm94eSxcclxuICAgICAgICB0OiAxLFxyXG4gICAgICAgIGR1cmF0aW9uLFxyXG4gICAgICAgIGVhc2U6IFwiU2luZS5lYXNlT3V0XCIsXHJcbiAgICAgICAgb25VcGRhdGU6ICgpID0+IHtcclxuICAgICAgICAgIGNvbnN0IGEgPSBQaGFzZXIuTWF0aC5MaW5lYXIoc3RhcnRSYWQsIGVuZFJhZCwgcHJveHkudCk7XHJcbiAgICAgICAgICBjb25zdCBjb3MgPSBNYXRoLmNvcyhhKTtcclxuICAgICAgICAgIGNvbnN0IHNpbiA9IE1hdGguc2luKGEpO1xyXG4gICAgICAgICAgZWZmLnggPSBjeCgpICsgZGlyZWN0aW9uICogcnggKiBjb3M7XHJcbiAgICAgICAgICBlZmYueSA9IGN5KCkgKyByeSAqIHNpbjtcclxuICAgICAgICAgIC8vIEZhY2UgYWxvbmcgdGFuZ2VudCBvZiB0aGUgcGF0aFxyXG4gICAgICAgICAgY29uc3QgdGFuZ2VudCA9IE1hdGguYXRhbjIoXHJcbiAgICAgICAgICAgIHJ5ICogTWF0aC5jb3MoYSksXHJcbiAgICAgICAgICAgIC1kaXJlY3Rpb24gKiByeCAqIE1hdGguc2luKGEpXHJcbiAgICAgICAgICApO1xyXG4gICAgICAgICAgZWZmLnJvdGF0aW9uID0gdGFuZ2VudDtcclxuICAgICAgICB9LFxyXG4gICAgICAgIG9uQ29tcGxldGU6ICgpID0+IHtcclxuICAgICAgICAgIGVmZi5kZXN0cm95KCk7XHJcbiAgICAgICAgfSxcclxuICAgICAgfSk7XHJcbiAgICAgIHJldHVybiB0d2VlbjtcclxuICAgIH1cclxuXHJcbiAgICAvLyBGYWxsYmFjazogZHJhdyBhbiBhZGRpdGl2ZSBvdmFsIGJhbmQgKHByZXZpb3VzIGltcGxlbWVudGF0aW9uKVxyXG4gICAgY29uc3QgZyA9IHNjZW5lLmFkZC5ncmFwaGljcygpO1xyXG4gICAgZy5zZXREZXB0aCg1KTtcclxuICAgIGcuc2V0QmxlbmRNb2RlKFBoYXNlci5CbGVuZE1vZGVzLkFERCk7XHJcbiAgICBjb25zdCBtYWluQ29sb3IgPSAweDllZDFmZjtcclxuICAgIGNvbnN0IG91dGxpbmVDb2xvciA9IDB4ZTRmNWZmO1xyXG4gICAgY29uc3QgdGhpY2tuZXNzID0gTWF0aC5tYXgoMTQsIE1hdGgucm91bmQocmFuZ2UgKiAwLjIyKSk7XHJcbiAgICBjb25zdCByeElubmVyID0gTWF0aC5tYXgoNiwgcnggLSB0aGlja25lc3MpO1xyXG4gICAgY29uc3QgcnlJbm5lciA9IE1hdGgubWF4KDQsIHJ5IC0gTWF0aC5yb3VuZCh0aGlja25lc3MgKiAwLjc1KSk7XHJcblxyXG4gICAgY29uc3QgZXB0ID0gKHRoZXRhLCByeDAsIHJ5MCkgPT4gKHtcclxuICAgICAgeDogY3goKSArIGRpcmVjdGlvbiAqIHJ4MCAqIE1hdGguY29zKHRoZXRhKSxcclxuICAgICAgeTogY3koKSArIHJ5MCAqIE1hdGguc2luKHRoZXRhKSxcclxuICAgIH0pO1xyXG5cclxuICAgIGNvbnN0IHByb3h5ID0geyB0OiAwIH07XHJcbiAgICBjb25zdCBzdGVwcyA9IDE4O1xyXG4gICAgcmV0dXJuIHNjZW5lLnR3ZWVucy5hZGQoe1xyXG4gICAgICB0YXJnZXRzOiBwcm94eSxcclxuICAgICAgdDogMSxcclxuICAgICAgZHVyYXRpb24sXHJcbiAgICAgIGVhc2U6IFwiU2luZS5lYXNlT3V0XCIsXHJcbiAgICAgIG9uVXBkYXRlOiAoKSA9PiB7XHJcbiAgICAgICAgY29uc3Qgbm93ID0gUGhhc2VyLk1hdGguTGluZWFyKHN0YXJ0UmFkLCBlbmRSYWQsIHByb3h5LnQpO1xyXG4gICAgICAgIGNvbnN0IHQwID0gUGhhc2VyLk1hdGguTGluZWFyKFxyXG4gICAgICAgICAgc3RhcnRSYWQsXHJcbiAgICAgICAgICBub3csXHJcbiAgICAgICAgICBNYXRoLm1heCgwLCBwcm94eS50IC0gMC4yNSlcclxuICAgICAgICApO1xyXG4gICAgICAgIGcuY2xlYXIoKTtcclxuICAgICAgICBnLmZpbGxTdHlsZShtYWluQ29sb3IsIDAuODUpO1xyXG4gICAgICAgIGcuYmVnaW5QYXRoKCk7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPD0gc3RlcHM7IGkrKykge1xyXG4gICAgICAgICAgY29uc3QgYSA9IFBoYXNlci5NYXRoLkxpbmVhcih0MCwgbm93LCBpIC8gc3RlcHMpO1xyXG4gICAgICAgICAgY29uc3QgcCA9IGVwdChhLCByeCwgcnkpO1xyXG4gICAgICAgICAgaWYgKGkgPT09IDApIGcubW92ZVRvKHAueCwgcC55KTtcclxuICAgICAgICAgIGVsc2UgZy5saW5lVG8ocC54LCBwLnkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmb3IgKGxldCBpID0gc3RlcHM7IGkgPj0gMDsgaS0tKSB7XHJcbiAgICAgICAgICBjb25zdCBhID0gUGhhc2VyLk1hdGguTGluZWFyKHQwLCBub3csIGkgLyBzdGVwcyk7XHJcbiAgICAgICAgICBjb25zdCBwID0gZXB0KGEsIHJ4SW5uZXIsIHJ5SW5uZXIpO1xyXG4gICAgICAgICAgZy5saW5lVG8ocC54LCBwLnkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBnLmNsb3NlUGF0aCgpO1xyXG4gICAgICAgIGcuZmlsbFBhdGgoKTtcclxuICAgICAgICBnLmxpbmVTdHlsZShcclxuICAgICAgICAgIE1hdGgubWF4KDIsIE1hdGguZmxvb3IodGhpY2tuZXNzICogMC4zKSksXHJcbiAgICAgICAgICBvdXRsaW5lQ29sb3IsXHJcbiAgICAgICAgICAwLjlcclxuICAgICAgICApO1xyXG4gICAgICAgIGcuYmVnaW5QYXRoKCk7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPD0gc3RlcHM7IGkrKykge1xyXG4gICAgICAgICAgY29uc3QgYSA9IFBoYXNlci5NYXRoLkxpbmVhcihcclxuICAgICAgICAgICAgTWF0aC5tYXgodDAsIG5vdyAtIDAuMjUpLFxyXG4gICAgICAgICAgICBub3csXHJcbiAgICAgICAgICAgIGkgLyBzdGVwc1xyXG4gICAgICAgICAgKTtcclxuICAgICAgICAgIGNvbnN0IHAgPSBlcHQoYSwgcnggKyAyLCByeSArIDEpO1xyXG4gICAgICAgICAgaWYgKGkgPT09IDApIGcubW92ZVRvKHAueCwgcC55KTtcclxuICAgICAgICAgIGVsc2UgZy5saW5lVG8ocC54LCBwLnkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBnLnN0cm9rZVBhdGgoKTtcclxuICAgICAgfSxcclxuICAgICAgb25Db21wbGV0ZTogKCkgPT4gZy5kZXN0cm95KCksXHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8vIFBlci1jaGFyYWN0ZXIgZ2FtZXBsYXkgYW5kIHByZXNlbnRhdGlvbiBzdGF0c1xyXG4gIHN0YXRpYyBnZXRTdGF0cygpIHtcclxuICAgIHJldHVybiBjaGFyYWN0ZXJTdGF0cy50aG9yZztcclxuICB9XHJcblxyXG4gIGNvbnN0cnVjdG9yKHtcclxuICAgIHNjZW5lLFxyXG4gICAgcGxheWVyLFxyXG4gICAgdXNlcm5hbWUsXHJcbiAgICBnYW1lSWQsXHJcbiAgICBvcHBvbmVudFBsYXllcnNSZWYsXHJcbiAgICBtYXBPYmplY3RzLFxyXG4gICAgYW1tb0hvb2tzLFxyXG4gIH0pIHtcclxuICAgIHRoaXMuc2NlbmUgPSBzY2VuZTtcclxuICAgIHRoaXMucGxheWVyID0gcGxheWVyO1xyXG4gICAgdGhpcy51c2VybmFtZSA9IHVzZXJuYW1lO1xyXG4gICAgdGhpcy5nYW1lSWQgPSBnYW1lSWQ7XHJcbiAgICB0aGlzLm9wcG9uZW50UGxheWVyc1JlZiA9IG9wcG9uZW50UGxheWVyc1JlZjtcclxuICAgIHRoaXMubWFwT2JqZWN0cyA9IG1hcE9iamVjdHM7XHJcbiAgICB0aGlzLmFtbW8gPSBhbW1vSG9va3M7XHJcbiAgfVxyXG5cclxuICBhdHRhY2hJbnB1dCgpIHtcclxuICAgIHRoaXMuc2NlbmUuaW5wdXQub24oXCJwb2ludGVyZG93blwiLCAoKSA9PiB0aGlzLmhhbmRsZVBvaW50ZXJEb3duKCkpO1xyXG4gIH1cclxuXHJcbiAgLy8gQ29tbW9uIGRlZmF1bHQgYmVoYXZpb3IgZm9yIGZpcmluZyBhdHRhY2tzXHJcbiAgcGVyZm9ybURlZmF1bHRBdHRhY2socGF5bG9hZEJ1aWxkZXIsIG9uQWZ0ZXJGaXJlKSB7XHJcbiAgICBjb25zdCB7XHJcbiAgICAgIGdldEFtbW9Db29sZG93bk1zLFxyXG4gICAgICB0cnlDb25zdW1lLFxyXG4gICAgICBzZXRDYW5BdHRhY2ssXHJcbiAgICAgIHNldElzQXR0YWNraW5nLFxyXG4gICAgICBkcmF3QW1tb0JhcixcclxuICAgIH0gPSB0aGlzLmFtbW87XHJcblxyXG4gICAgaWYgKCF0cnlDb25zdW1lKCkpIHJldHVybiBmYWxzZTtcclxuICAgIHNldElzQXR0YWNraW5nKHRydWUpO1xyXG4gICAgc2V0Q2FuQXR0YWNrKGZhbHNlKTtcclxuXHJcbiAgICBjb25zdCBjb29sZG93biA9IGdldEFtbW9Db29sZG93bk1zKCk7XHJcbiAgICB0aGlzLnNjZW5lLnRpbWUuZGVsYXllZENhbGwoY29vbGRvd24sICgpID0+IHNldENhbkF0dGFjayh0cnVlKSk7XHJcbiAgICBzZXRUaW1lb3V0KCgpID0+IHNldElzQXR0YWNraW5nKGZhbHNlKSwgMjUwKTtcclxuXHJcbiAgICBjb25zdCBwYXlsb2FkID1cclxuICAgICAgdHlwZW9mIHBheWxvYWRCdWlsZGVyID09PSBcImZ1bmN0aW9uXCIgPyBwYXlsb2FkQnVpbGRlcigpIDogbnVsbDtcclxuICAgIGlmIChwYXlsb2FkKSBzb2NrZXQuZW1pdChcImF0dGFja1wiLCBwYXlsb2FkKTtcclxuICAgIGRyYXdBbW1vQmFyKCk7XHJcbiAgICBpZiAodHlwZW9mIG9uQWZ0ZXJGaXJlID09PSBcImZ1bmN0aW9uXCIpIG9uQWZ0ZXJGaXJlKCk7XHJcbiAgICByZXR1cm4gdHJ1ZTtcclxuICB9XHJcblxyXG4gIGhhbmRsZVBvaW50ZXJEb3duKCkge1xyXG4gICAgY29uc3QgcCA9IHRoaXMucGxheWVyO1xyXG4gICAgY29uc3QgZGlyZWN0aW9uID0gcC5mbGlwWCA/IC0xIDogMTtcclxuICAgIGNvbnN0IHJhbmdlID0gOTA7XHJcbiAgICBjb25zdCBkdXJhdGlvbiA9IDIyMDsgLy8gbXNcclxuICAgIGNvbnN0IHN0YXRzID1cclxuICAgICAgKHRoaXMuY29uc3RydWN0b3IuZ2V0U3RhdHMgJiYgdGhpcy5jb25zdHJ1Y3Rvci5nZXRTdGF0cygpKSB8fCB7fTtcclxuICAgIGNvbnN0IGRhbWFnZSA9IHN0YXRzLmRhbWFnZTtcclxuXHJcbiAgICAvLyBDaGFyYWN0ZXItc3BlY2lmaWMgZXhlY3V0aW9uIHdyYXBwZWQgYnkgZGVmYXVsdCBhdHRhY2sgZmxvd1xyXG4gICAgcmV0dXJuIHRoaXMucGVyZm9ybURlZmF1bHRBdHRhY2soKCkgPT4ge1xyXG4gICAgICAvLyBQbGF5IGEgc3VpdGFibGUgYW5pbWF0aW9uXHJcbiAgICAgIGlmIChcclxuICAgICAgICB0aGlzLnNjZW5lLmFuaW1zICYmXHJcbiAgICAgICAgKHRoaXMuc2NlbmUuYW5pbXMuZXhpc3RzKGAke05BTUV9LXRocm93YCkgfHxcclxuICAgICAgICAgIHRoaXMuc2NlbmUuYW5pbXMuZXhpc3RzKFwidGhyb3dcIikpXHJcbiAgICAgICkge1xyXG4gICAgICAgIHAuYW5pbXMucGxheShcclxuICAgICAgICAgIHRoaXMuc2NlbmUuYW5pbXMuZXhpc3RzKGAke05BTUV9LXRocm93YCkgPyBgJHtOQU1FfS10aHJvd2AgOiBcInRocm93XCIsXHJcbiAgICAgICAgICB0cnVlXHJcbiAgICAgICAgKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gTG9jYWwgdmlzdWFsIGVmZmVjdFxyXG4gICAgICBUaG9yZy5fc3Bhd25TbGFzaEVmZmVjdCh0aGlzLnNjZW5lLCBwLCBkaXJlY3Rpb24sIHJhbmdlLCBkdXJhdGlvbik7XHJcblxyXG4gICAgICAvLyBPd25lci1zaWRlIGhpdCBkZXRlY3Rpb25cclxuICAgICAgY29uc3QgYWxyZWFkeUhpdCA9IG5ldyBTZXQoKTtcclxuICAgICAgY29uc3QgZW5lbWllcyA9IE9iamVjdC52YWx1ZXModGhpcy5vcHBvbmVudFBsYXllcnNSZWYgfHwge30pO1xyXG4gICAgICBjb25zdCBjZW50ZXJPZmZzZXRZID0gcC5oZWlnaHQgKiAwLjI7XHJcbiAgICAgIGNvbnN0IGN4ID0gKCkgPT4gcC54ICsgKGRpcmVjdGlvbiA+PSAwID8gMTAgOiAtMTApO1xyXG4gICAgICBjb25zdCBjeSA9ICgpID0+IHAueSAtIGNlbnRlck9mZnNldFk7XHJcbiAgICAgIGNvbnN0IHN0YXJ0UmFkID0gUGhhc2VyLk1hdGguRGVnVG9SYWQoZGlyZWN0aW9uID49IDAgPyAtNjAgOiAyNDApO1xyXG4gICAgICBjb25zdCBlbmRSYWQgPSBQaGFzZXIuTWF0aC5EZWdUb1JhZChkaXJlY3Rpb24gPj0gMCA/IDYwIDogMTIwKTtcclxuICAgICAgY29uc3QgcHJveHkgPSB7IHQ6IDAgfTtcclxuICAgICAgdGhpcy5zY2VuZS50d2VlbnMuYWRkKHtcclxuICAgICAgICB0YXJnZXRzOiBwcm94eSxcclxuICAgICAgICB0OiAxLFxyXG4gICAgICAgIGR1cmF0aW9uLFxyXG4gICAgICAgIGVhc2U6IFwiU2luZS5lYXNlT3V0XCIsXHJcbiAgICAgICAgb25VcGRhdGU6ICgpID0+IHtcclxuICAgICAgICAgIGNvbnN0IGN1ciA9IFBoYXNlci5NYXRoLkxpbmVhcihzdGFydFJhZCwgZW5kUmFkLCBwcm94eS50KTtcclxuICAgICAgICAgIGNvbnN0IHRpcFggPSBjeCgpICsgZGlyZWN0aW9uICogTWF0aC5jb3MoY3VyKSAqIHJhbmdlO1xyXG4gICAgICAgICAgY29uc3QgdGlwWSA9IGN5KCkgKyBNYXRoLnNpbihjdXIpICogTWF0aC5yb3VuZChyYW5nZSAqIDAuNik7XHJcbiAgICAgICAgICBmb3IgKGNvbnN0IHdyYXAgb2YgZW5lbWllcykge1xyXG4gICAgICAgICAgICBjb25zdCBzcHIgPSB3cmFwICYmIHdyYXAub3Bwb25lbnQ7XHJcbiAgICAgICAgICAgIGNvbnN0IG5hbWUgPSB3cmFwICYmIHdyYXAudXNlcm5hbWU7XHJcbiAgICAgICAgICAgIGlmICghc3ByIHx8ICFuYW1lIHx8IGFscmVhZHlIaXQuaGFzKG5hbWUpKSBjb250aW51ZTtcclxuICAgICAgICAgICAgY29uc3QgZHggPSBzcHIueCAtIGN4KCk7XHJcbiAgICAgICAgICAgIGNvbnN0IGRpc3QgPSBNYXRoLmh5cG90KHNwci54IC0gdGlwWCwgc3ByLnkgLSB0aXBZKTtcclxuICAgICAgICAgICAgaWYgKGRpc3QgPD0gMzggJiYgTWF0aC5zaWduKGR4KSA9PT0gTWF0aC5zaWduKGRpcmVjdGlvbikpIHtcclxuICAgICAgICAgICAgICBhbHJlYWR5SGl0LmFkZChuYW1lKTtcclxuICAgICAgICAgICAgICBzb2NrZXQuZW1pdChcImhpdFwiLCB7XHJcbiAgICAgICAgICAgICAgICBhdHRhY2tlcjogdGhpcy51c2VybmFtZSxcclxuICAgICAgICAgICAgICAgIHRhcmdldDogbmFtZSxcclxuICAgICAgICAgICAgICAgIGRhbWFnZSxcclxuICAgICAgICAgICAgICAgIGdhbWVJZDogdGhpcy5nYW1lSWQsXHJcbiAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIHJldHVybiB7XHJcbiAgICAgICAgbmFtZTogdGhpcy51c2VybmFtZSxcclxuICAgICAgICB0eXBlOiBgJHtOQU1FfS1zbGFzaGAsXHJcbiAgICAgICAgZGlyZWN0aW9uLFxyXG4gICAgICAgIHJhbmdlLFxyXG4gICAgICAgIGR1cmF0aW9uLFxyXG4gICAgICB9O1xyXG4gICAgfSk7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBUaG9yZztcclxuIiwiZXhwb3J0IGZ1bmN0aW9uIGFuaW1hdGlvbnMoc2NlbmUpIHtcclxuICBjb25zdCBOQU1FID0gXCJkcmF2ZW5cIjtcclxuICBjb25zdCB0ZXggPSBzY2VuZS50ZXh0dXJlcy5nZXQoTkFNRSk7XHJcbiAgY29uc3QgYWxsTmFtZXMgPSAodGV4ICYmIHRleC5nZXRGcmFtZU5hbWVzKCkpIHx8IFtdO1xyXG4gIGNvbnN0IGxvd2VyID0gbmV3IE1hcChhbGxOYW1lcy5tYXAoKG4pID0+IFtuLnRvTG93ZXJDYXNlKCksIG5dKSk7XHJcblxyXG4gIGNvbnN0IGZpbmRGcmFtZXMgPSAoY2FuZGlkYXRlcykgPT4ge1xyXG4gICAgLy8gY2FuZGlkYXRlczogYXJyYXkgb2YgbG93ZXJjYXNlIHByZWZpeGVzIHRvIHRyeSAoZS5nLiwgW1wicnVubmluZ1wiLCBcInJ1blwiXSlcclxuICAgIC8vIFJldHVybiBzb3J0ZWQgZnJhbWUgbmFtZXMgYnkgbnVtZXJpYyBzdWZmaXggd2hlbiBwcmVzZW50LlxyXG4gICAgY29uc3QgbWF0Y2hlZCA9IFtdO1xyXG4gICAgZm9yIChjb25zdCBuYW1lIG9mIGFsbE5hbWVzKSB7XHJcbiAgICAgIGNvbnN0IGxuID0gbmFtZS50b0xvd2VyQ2FzZSgpO1xyXG4gICAgICBpZiAoY2FuZGlkYXRlcy5zb21lKChwKSA9PiBsbi5zdGFydHNXaXRoKHApKSkge1xyXG4gICAgICAgIG1hdGNoZWQucHVzaChuYW1lKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgLy8gU29ydCBieSB0cmFpbGluZyBudW1iZXIgaWYgYW55LCBlbHNlIGxleGljb2dyYXBoaWNhbGx5XHJcbiAgICBtYXRjaGVkLnNvcnQoKGEsIGIpID0+IHtcclxuICAgICAgY29uc3QgcmEgPSAvKFxcZCspKD89XFxEKiQpLy5leGVjKGEpO1xyXG4gICAgICBjb25zdCByYiA9IC8oXFxkKykoPz1cXEQqJCkvLmV4ZWMoYik7XHJcbiAgICAgIGlmIChyYSAmJiByYikgcmV0dXJuIHBhcnNlSW50KHJhWzFdLCAxMCkgLSBwYXJzZUludChyYlsxXSwgMTApO1xyXG4gICAgICByZXR1cm4gYS5sb2NhbGVDb21wYXJlKGIpO1xyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gbWF0Y2hlZDtcclxuICB9O1xyXG5cclxuICBjb25zdCBtYWtlID0gKGtleSwgcHJlZml4ZXMsIGZyYW1lUmF0ZSwgcmVwZWF0KSA9PiB7XHJcbiAgICBpZiAoc2NlbmUuYW5pbXMuZXhpc3RzKGtleSkpIHJldHVybjsgLy8gZG9uJ3QgZHVwbGljYXRlXHJcbiAgICBjb25zdCBmcmFtZXMgPSBmaW5kRnJhbWVzKHByZWZpeGVzKTtcclxuICAgIGlmICghZnJhbWVzLmxlbmd0aCkgcmV0dXJuOyAvLyBza2lwIGlmIG5vdCBwcmVzZW50XHJcbiAgICBzY2VuZS5hbmltcy5jcmVhdGUoe1xyXG4gICAgICBrZXksXHJcbiAgICAgIGZyYW1lczogZnJhbWVzLm1hcCgoZikgPT4gKHsga2V5OiBOQU1FLCBmcmFtZTogZiB9KSksXHJcbiAgICAgIGZyYW1lUmF0ZSxcclxuICAgICAgcmVwZWF0LFxyXG4gICAgfSk7XHJcbiAgfTtcclxuXHJcbiAgLy8gVHJ5IHJlYXNvbmFibGUgcHJlZml4IHZhcmlhbnRzIGZvciByb2J1c3RuZXNzIGFjcm9zcyBhdGxhc2VzXHJcbiAgbWFrZShgJHtOQU1FfS1ydW5uaW5nYCwgW1wicnVubmluZ1wiLCBcInJ1blwiXSwgMjAsIDApO1xyXG4gIG1ha2UoYCR7TkFNRX0taWRsZWAsIFtcImlkbGVcIiwgXCJzdGFuZFwiLCBcImlkbGVfXCJdLCAzLCAtMSk7XHJcbiAgbWFrZShgJHtOQU1FfS1qdW1waW5nYCwgW1wianVtcGluZ1wiLCBcImp1bXBcIl0sIDIwLCAwKTtcclxuICBtYWtlKGAke05BTUV9LXNsaWRpbmdgLCBbXCJ3YWxsXCIsIFwic2xpZGVcIiwgXCJzbGlkaW5nXCJdLCAyMCwgMik7XHJcbiAgbWFrZShgJHtOQU1FfS1mYWxsaW5nYCwgW1wiZmFsbGluZ1wiLCBcImZhbGxcIl0sIDIwLCAwKTtcclxuICBtYWtlKGAke05BTUV9LXRocm93YCwgW1widGhyb3dcIiwgXCJhdHRhY2tcIiwgXCJhdHRhY2tfdGhyb3dcIl0sIDE1LCAwKTtcclxuICBtYWtlKGAke05BTUV9LWR5aW5nYCwgW1wiZHlpbmdcIiwgXCJkZWF0aFwiLCBcImRlYWRcIl0sIDEwLCAwKTtcclxufVxyXG4iLCIvLyBEcmF2ZW4tc3BlY2lmaWMgcGVyLXBsYXllciBlZmZlY3RzIChmaXJlIHRyYWlsKVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRHJhdmVuRWZmZWN0cyB7XHJcbiAgY29uc3RydWN0b3Ioc2NlbmUsIHNwcml0ZSkge1xyXG4gICAgdGhpcy5zY2VuZSA9IHNjZW5lO1xyXG4gICAgdGhpcy5zcHJpdGUgPSBzcHJpdGU7XHJcbiAgICB0aGlzLl90aW1lciA9IDA7XHJcbiAgICB0aGlzLl9pbnRlcnZhbCA9IDQ1OyAvLyBtcyBiZXR3ZWVuIGZsYW1lIHNwYXduc1xyXG4gICAgdGhpcy5fcG9vbCA9IFtdO1xyXG4gICAgdGhpcy5fcG9vbE1heCA9IDYwO1xyXG4gIH1cclxuXHJcbiAgLy8gSW50ZXJuYWw6IGdldCBhIHBvb2xlZCBncmFwaGljcyBvYmplY3RcclxuICBfYWNxdWlyZSgpIHtcclxuICAgIGxldCBnID0gdGhpcy5fcG9vbC5maW5kKChvKSA9PiAhby5hY3RpdmUpO1xyXG4gICAgaWYgKCFnKSB7XHJcbiAgICAgIGcgPSB0aGlzLnNjZW5lLmFkZC5ncmFwaGljcygpO1xyXG4gICAgICB0aGlzLl9wb29sLnB1c2goZyk7XHJcbiAgICB9XHJcbiAgICBnLmFjdGl2ZSA9IHRydWU7XHJcbiAgICBnLmNsZWFyKCk7XHJcbiAgICBnLnNldERlcHRoKDApOyAvLyBiZWhpbmQgcGxheWVyXHJcbiAgICByZXR1cm4gZztcclxuICB9XHJcblxyXG4gIF9yZWxlYXNlKGcpIHtcclxuICAgIGcuYWN0aXZlID0gZmFsc2U7XHJcbiAgICBnLmFscGhhID0gMTtcclxuICAgIGcuc2NhbGUgPSAxO1xyXG4gICAgZy5jbGVhcigpO1xyXG4gICAgaWYgKHRoaXMuX3Bvb2wubGVuZ3RoID4gdGhpcy5fcG9vbE1heCkge1xyXG4gICAgICBjb25zdCBvbGQgPSB0aGlzLl9wb29sLmZpbmQoKG8pID0+ICFvLmFjdGl2ZSk7XHJcbiAgICAgIGlmIChvbGQpIHtcclxuICAgICAgICBvbGQuZGVzdHJveSgpO1xyXG4gICAgICAgIGNvbnN0IGlkeCA9IHRoaXMuX3Bvb2wuaW5kZXhPZihvbGQpO1xyXG4gICAgICAgIGlmIChpZHggPj0gMCkgdGhpcy5fcG9vbC5zcGxpY2UoaWR4LCAxKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgX3NwYXduRmxhbWUoeCwgeSkge1xyXG4gICAgY29uc3QgZyA9IHRoaXMuX2FjcXVpcmUoKTtcclxuICAgIGNvbnN0IGJhc2VTaXplID0gUGhhc2VyLk1hdGguQmV0d2Vlbig1LCA5KTtcclxuICAgIC8vIEdsb3cgbGF5ZXJzXHJcbiAgICBnLmZpbGxTdHlsZSgweDMxMjg0MSwgMC4zNSk7XHJcbiAgICBnLmZpbGxDaXJjbGUoMCwgMCwgYmFzZVNpemUpO1xyXG4gICAgZy5maWxsU3R5bGUoMHhiYTVkMjIsIDAuNTUpO1xyXG4gICAgZy5maWxsQ2lyY2xlKDAsIDAsIGJhc2VTaXplICogMC42NSk7XHJcbiAgICBnLmZpbGxTdHlsZShcclxuICAgICAgUGhhc2VyLkRpc3BsYXkuQ29sb3IuR2V0Q29sb3IoNDksIFBoYXNlci5NYXRoLkJldHdlZW4oMzAsIDYwKSwgNjApLFxyXG4gICAgICAwLjlcclxuICAgICk7XHJcbiAgICBnLmZpbGxDaXJjbGUoMCwgMCwgYmFzZVNpemUgKiAwLjM1KTtcclxuICAgIGcueCA9IHggKyBQaGFzZXIuTWF0aC5CZXR3ZWVuKC0zLCAzKTtcclxuICAgIGcueSA9IHkgKyBQaGFzZXIuTWF0aC5CZXR3ZWVuKC0zLCAzKTtcclxuICAgIGNvbnN0IGRyaWZ0WCA9IFBoYXNlci5NYXRoLkJldHdlZW4oLTEyLCAxMik7XHJcbiAgICBjb25zdCBkcmlmdFkgPSBQaGFzZXIuTWF0aC5CZXR3ZWVuKC0xOCwgLTQpO1xyXG4gICAgY29uc3Qgc2NhbGVUYXJnZXQgPSBQaGFzZXIuTWF0aC5GbG9hdEJldHdlZW4oMC4xNSwgMC4zNSk7XHJcbiAgICBjb25zdCBkdXJhdGlvbiA9IFBoYXNlci5NYXRoLkJldHdlZW4oMjYwLCA0MjApO1xyXG4gICAgZy5zY2FsZSA9IDE7XHJcbiAgICB0aGlzLnNjZW5lLnR3ZWVucy5hZGQoe1xyXG4gICAgICB0YXJnZXRzOiBnLFxyXG4gICAgICB4OiBnLnggKyBkcmlmdFgsXHJcbiAgICAgIHk6IGcueSArIGRyaWZ0WSxcclxuICAgICAgc2NhbGU6IHNjYWxlVGFyZ2V0LFxyXG4gICAgICBhbHBoYTogMCxcclxuICAgICAgZHVyYXRpb24sXHJcbiAgICAgIGVhc2U6IFwiQ3ViaWMuZWFzZU91dFwiLFxyXG4gICAgICBvbkNvbXBsZXRlOiAoKSA9PiB0aGlzLl9yZWxlYXNlKGcpLFxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICAvLyBVcGRhdGUgcGVyLWZyYW1lLiBpc01vdmluZzogYm9vbGVhbiwgZGVhZDogYm9vbGVhblxyXG4gIHVwZGF0ZShkZWx0YU1zLCBpc01vdmluZywgZGVhZCkge1xyXG4gICAgaWYgKCF0aGlzLnNwcml0ZSB8fCBkZWFkKSByZXR1cm47XHJcbiAgICBpZiAoIWlzTW92aW5nKSByZXR1cm47XHJcbiAgICB0aGlzLl90aW1lciArPSBkZWx0YU1zO1xyXG4gICAgaWYgKHRoaXMuX3RpbWVyID49IHRoaXMuX2ludGVydmFsKSB7XHJcbiAgICAgIHRoaXMuX3RpbWVyID0gMDtcclxuICAgICAgY29uc3QgYmFzZVggPSB0aGlzLnNwcml0ZS54IC0gKHRoaXMuc3ByaXRlLmZsaXBYID8gLTE0IDogMTQpO1xyXG4gICAgICBjb25zdCBiYXNlWSA9IHRoaXMuc3ByaXRlLnkgKyA4O1xyXG4gICAgICBjb25zdCBjb3VudCA9IFBoYXNlci5NYXRoLkJldHdlZW4oMSwgMik7XHJcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY291bnQ7IGkrKykgdGhpcy5fc3Bhd25GbGFtZShiYXNlWCwgYmFzZVkpO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG4iLCIvLyBzcmMvY2hhcmFjdGVycy9kcmF2ZW4vZHJhdmVuLmpzXHJcbmltcG9ydCBzb2NrZXQgZnJvbSBcIi4uLy4uL3NvY2tldFwiO1xyXG5pbXBvcnQgeyBjaGFyYWN0ZXJTdGF0cyB9IGZyb20gXCIuLi8uLi9saWIvY2hhcmFjdGVyU3RhdHMuanNcIjtcclxuaW1wb3J0IHsgYW5pbWF0aW9ucyB9IGZyb20gXCIuL2FuaW1cIjtcclxuaW1wb3J0IERyYXZlbkVmZmVjdHMgZnJvbSBcIi4vZWZmZWN0c1wiO1xyXG5cclxuLy8gU2luZ2xlIHNvdXJjZSBvZiB0cnV0aCBmb3IgdGhpcyBjaGFyYWN0ZXIncyBuYW1lL2tleVxyXG5jb25zdCBOQU1FID0gXCJkcmF2ZW5cIjtcclxuXHJcbmNsYXNzIGRyYXZlbiB7XHJcbiAgLy8gTWFpbiB0ZXh0dXJlIGtleSB1c2VkIGZvciB0aGlzIGNoYXJhY3RlcidzIHNwcml0ZVxyXG4gIHN0YXRpYyB0ZXh0dXJlS2V5ID0gTkFNRTtcclxuICAvLyBPcHRpb25hbCBwZXItcGxheWVyIGVmZmVjdHMgY2xhc3MgdG8gYmUgdXNlZCBmb3IgdGhpcyBjaGFyYWN0ZXJcclxuICBzdGF0aWMgRWZmZWN0cyA9IERyYXZlbkVmZmVjdHM7XHJcbiAgc3RhdGljIGdldFRleHR1cmVLZXkoKSB7XHJcbiAgICByZXR1cm4gZHJhdmVuLnRleHR1cmVLZXk7XHJcbiAgfVxyXG4gIHN0YXRpYyBwcmVsb2FkKHNjZW5lLCBzdGF0aWNQYXRoID0gXCIvYXNzZXRzXCIpIHtcclxuICAgIC8vIExvYWQgYXRsYXMgYW5kIHByb2plY3RpbGUvc291bmRzXHJcbiAgICBzY2VuZS5sb2FkLmF0bGFzKFxyXG4gICAgICBOQU1FLFxyXG4gICAgICBgJHtzdGF0aWNQYXRofS8ke05BTUV9L3Nwcml0ZXNoZWV0LnBuZ2AsXHJcbiAgICAgIGAke3N0YXRpY1BhdGh9LyR7TkFNRX0vYW5pbWF0aW9ucy5qc29uYFxyXG4gICAgKTtcclxuICAgIC8vIEVuc3VyZSBuZWFyZXN0LW5laWdoYm9yIHNhbXBsaW5nIGZvciBjcmlzcCBwaXhlbCBhcnRcclxuICAgIHNjZW5lLmxvYWQub24oUGhhc2VyLkxvYWRlci5FdmVudHMuQ09NUExFVEUsICgpID0+IHtcclxuICAgICAgY29uc3QgdGV4ID0gc2NlbmUudGV4dHVyZXMuZ2V0KE5BTUUpO1xyXG4gICAgICBpZiAodGV4ICYmIHRleC5zb3VyY2UgJiYgdGV4LnNvdXJjZVswXSAmJiB0ZXguc291cmNlWzBdLmdsVGV4dHVyZSkge1xyXG4gICAgICAgIC8vIFdlYkdMIHBhdGg6IHNldCBmaWx0ZXIgdG8gTkVBUkVTVFxyXG4gICAgICAgIHRleC5zZXRGaWx0ZXIoUGhhc2VyLlRleHR1cmVzLkZpbHRlck1vZGUuTkVBUkVTVCk7XHJcbiAgICAgIH1cclxuICAgICAgLy8gQWxzbyBzZXQgZ2xvYmFsIGRlZmF1bHQgZm9yIHRoaXMgc2NlbmUncyBnYW1lIChQaGFzZXIgMy43MClcclxuICAgICAgaWYgKHNjZW5lLmdhbWUgJiYgc2NlbmUuZ2FtZS5jb25maWcpIHtcclxuICAgICAgICBzY2VuZS5nYW1lLmNvbmZpZy5waXhlbEFydCA9IHRydWU7XHJcbiAgICAgICAgc2NlbmUuZ2FtZS5jb25maWcuYW50aWFsaWFzID0gZmFsc2U7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgc3RhdGljIHNldHVwQW5pbWF0aW9ucyhzY2VuZSkge1xyXG4gICAgYW5pbWF0aW9ucyhzY2VuZSk7XHJcbiAgfVxyXG5cclxuICAvLyBSZW1vdGUgYXR0YWNrIHZpc3VhbGl6YXRpb24gZm9yIGRyYXZlbiAoc2xhc2ggZWZmZWN0IG9ubHkpXHJcbiAgc3RhdGljIGhhbmRsZVJlbW90ZUF0dGFjayhzY2VuZSwgZGF0YSwgb3duZXJXcmFwcGVyKSB7fVxyXG5cclxuICAvLyBQZXItY2hhcmFjdGVyIGdhbWVwbGF5IGFuZCBwcmVzZW50YXRpb24gc3RhdHNcclxuICBzdGF0aWMgZ2V0U3RhdHMoKSB7XHJcbiAgICByZXR1cm4gY2hhcmFjdGVyU3RhdHMuZHJhdmVuO1xyXG4gIH1cclxuXHJcbiAgY29uc3RydWN0b3Ioe1xyXG4gICAgc2NlbmUsXHJcbiAgICBwbGF5ZXIsXHJcbiAgICB1c2VybmFtZSxcclxuICAgIGdhbWVJZCxcclxuICAgIG9wcG9uZW50UGxheWVyc1JlZixcclxuICAgIG1hcE9iamVjdHMsXHJcbiAgICBhbW1vSG9va3MsXHJcbiAgfSkge1xyXG4gICAgdGhpcy5zY2VuZSA9IHNjZW5lO1xyXG4gICAgdGhpcy5wbGF5ZXIgPSBwbGF5ZXI7XHJcbiAgICB0aGlzLnVzZXJuYW1lID0gdXNlcm5hbWU7XHJcbiAgICB0aGlzLmdhbWVJZCA9IGdhbWVJZDtcclxuICAgIHRoaXMub3Bwb25lbnRQbGF5ZXJzUmVmID0gb3Bwb25lbnRQbGF5ZXJzUmVmO1xyXG4gICAgdGhpcy5tYXBPYmplY3RzID0gbWFwT2JqZWN0cztcclxuICAgIHRoaXMuYW1tbyA9IGFtbW9Ib29rcztcclxuICB9XHJcblxyXG4gIGF0dGFjaElucHV0KCkge1xyXG4gICAgdGhpcy5zY2VuZS5pbnB1dC5vbihcInBvaW50ZXJkb3duXCIsICgpID0+IHRoaXMuaGFuZGxlUG9pbnRlckRvd24oKSk7XHJcbiAgfVxyXG5cclxuICAvLyBDb21tb24gZGVmYXVsdCBiZWhhdmlvciBmb3IgZmlyaW5nIGF0dGFja3NcclxuICBwZXJmb3JtRGVmYXVsdEF0dGFjayhwYXlsb2FkQnVpbGRlciwgb25BZnRlckZpcmUpIHtcclxuICAgIGNvbnN0IHtcclxuICAgICAgZ2V0QW1tb0Nvb2xkb3duTXMsXHJcbiAgICAgIHRyeUNvbnN1bWUsXHJcbiAgICAgIHNldENhbkF0dGFjayxcclxuICAgICAgc2V0SXNBdHRhY2tpbmcsXHJcbiAgICAgIGRyYXdBbW1vQmFyLFxyXG4gICAgfSA9IHRoaXMuYW1tbztcclxuXHJcbiAgICBpZiAoIXRyeUNvbnN1bWUoKSkgcmV0dXJuIGZhbHNlO1xyXG4gICAgc2V0SXNBdHRhY2tpbmcodHJ1ZSk7XHJcbiAgICBzZXRDYW5BdHRhY2soZmFsc2UpO1xyXG5cclxuICAgIGNvbnN0IGNvb2xkb3duID0gZ2V0QW1tb0Nvb2xkb3duTXMoKTtcclxuICAgIHRoaXMuc2NlbmUudGltZS5kZWxheWVkQ2FsbChjb29sZG93biwgKCkgPT4gc2V0Q2FuQXR0YWNrKHRydWUpKTtcclxuICAgIHNldFRpbWVvdXQoKCkgPT4gc2V0SXNBdHRhY2tpbmcoZmFsc2UpLCAyNTApO1xyXG5cclxuICAgIGNvbnN0IHBheWxvYWQgPVxyXG4gICAgICB0eXBlb2YgcGF5bG9hZEJ1aWxkZXIgPT09IFwiZnVuY3Rpb25cIiA/IHBheWxvYWRCdWlsZGVyKCkgOiBudWxsO1xyXG4gICAgaWYgKHBheWxvYWQpIHNvY2tldC5lbWl0KFwiYXR0YWNrXCIsIHBheWxvYWQpO1xyXG4gICAgZHJhd0FtbW9CYXIoKTtcclxuICAgIGlmICh0eXBlb2Ygb25BZnRlckZpcmUgPT09IFwiZnVuY3Rpb25cIikgb25BZnRlckZpcmUoKTtcclxuICAgIHJldHVybiB0cnVlO1xyXG4gIH1cclxuXHJcbiAgLy8gRHJhdmVuLXNwZWNpZmljOiBzaW1wbGUgc3RhZmYgYXJjIHN3aXBlIHNpbWlsYXIgdG8gVGhvcmcncyB2aXN1YWwgZm9yIG5vd1xyXG4gIGhhbmRsZVBvaW50ZXJEb3duKCkge1xyXG4gICAgY29uc3QgcCA9IHRoaXMucGxheWVyO1xyXG4gICAgY29uc3QgZGlyZWN0aW9uID0gcC5mbGlwWCA/IC0xIDogMTtcclxuICAgIGNvbnN0IHJhbmdlID0gMTA1O1xyXG4gICAgY29uc3QgZHVyYXRpb24gPSAyNjA7XHJcbiAgICBjb25zdCBzdGF0cyA9XHJcbiAgICAgICh0aGlzLmNvbnN0cnVjdG9yLmdldFN0YXRzICYmIHRoaXMuY29uc3RydWN0b3IuZ2V0U3RhdHMoKSkgfHwge307XHJcbiAgICBjb25zdCBkYW1hZ2UgPSBzdGF0cy5kYW1hZ2U7XHJcblxyXG4gICAgcmV0dXJuIHRoaXMucGVyZm9ybURlZmF1bHRBdHRhY2soKCkgPT4ge1xyXG4gICAgICBpZiAoXHJcbiAgICAgICAgdGhpcy5zY2VuZS5hbmltcyAmJlxyXG4gICAgICAgICh0aGlzLnNjZW5lLmFuaW1zLmV4aXN0cyhgJHtOQU1FfS10aHJvd2ApIHx8XHJcbiAgICAgICAgICB0aGlzLnNjZW5lLmFuaW1zLmV4aXN0cyhcInRocm93XCIpKVxyXG4gICAgICApIHtcclxuICAgICAgICBwLmFuaW1zLnBsYXkoXHJcbiAgICAgICAgICB0aGlzLnNjZW5lLmFuaW1zLmV4aXN0cyhgJHtOQU1FfS10aHJvd2ApID8gYCR7TkFNRX0tdGhyb3dgIDogXCJ0aHJvd1wiLFxyXG4gICAgICAgICAgdHJ1ZVxyXG4gICAgICAgICk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIFZpc3VhbCBwbGFjZWhvbGRlcjogc21hbGwgYXJjIGRyYXcgdXNpbmcgZ3JhcGhpY3NcclxuICAgICAgY29uc3QgZyA9IHRoaXMuc2NlbmUuYWRkLmdyYXBoaWNzKCk7XHJcbiAgICAgIGcuc2V0RGVwdGgoNSk7XHJcbiAgICAgIGcuc2V0QmxlbmRNb2RlKFBoYXNlci5CbGVuZE1vZGVzLkFERCk7XHJcbiAgICAgIGNvbnN0IG1haW4gPSAweGZmZTI5ZTtcclxuICAgICAgY29uc3Qgb3V0bGluZSA9IDB4ZmZmNmQxO1xyXG4gICAgICBjb25zdCB0aGlja25lc3MgPSBNYXRoLm1heCgxMiwgTWF0aC5yb3VuZChyYW5nZSAqIDAuMTgpKTtcclxuICAgICAgY29uc3QgcnggPSByYW5nZTtcclxuICAgICAgY29uc3QgcnkgPSBNYXRoLnJvdW5kKHJhbmdlICogMC41NSk7XHJcbiAgICAgIGNvbnN0IHJ4SW5uZXIgPSBNYXRoLm1heCg0LCByeCAtIHRoaWNrbmVzcyk7XHJcbiAgICAgIGNvbnN0IHJ5SW5uZXIgPSBNYXRoLm1heCgzLCByeSAtIE1hdGgucm91bmQodGhpY2tuZXNzICogMC43KSk7XHJcbiAgICAgIGNvbnN0IGN4ID0gKCkgPT4gcC54ICsgKGRpcmVjdGlvbiA+PSAwID8gMjAgOiAtMjApO1xyXG4gICAgICBjb25zdCBjeSA9ICgpID0+IHAueSAtIHAuaGVpZ2h0ICogMC4xNTtcclxuICAgICAgY29uc3QgZXB0ID0gKHRoZXRhLCByeDAsIHJ5MCkgPT4gKHtcclxuICAgICAgICB4OiBjeCgpICsgZGlyZWN0aW9uICogcngwICogTWF0aC5jb3ModGhldGEpLFxyXG4gICAgICAgIHk6IGN5KCkgKyByeTAgKiBNYXRoLnNpbih0aGV0YSksXHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgY29uc3Qgc3RhcnRSYWQgPSBQaGFzZXIuTWF0aC5EZWdUb1JhZCgtODApO1xyXG4gICAgICBjb25zdCBlbmRSYWQgPSBQaGFzZXIuTWF0aC5EZWdUb1JhZCg4MCk7XHJcbiAgICAgIGNvbnN0IHByb3h5ID0geyB0OiAwIH07XHJcbiAgICAgIGNvbnN0IHN0ZXBzID0gMTg7XHJcbiAgICAgIHRoaXMuc2NlbmUudHdlZW5zLmFkZCh7XHJcbiAgICAgICAgdGFyZ2V0czogcHJveHksXHJcbiAgICAgICAgdDogMSxcclxuICAgICAgICBkdXJhdGlvbixcclxuICAgICAgICBlYXNlOiBcIlNpbmUuZWFzZU91dFwiLFxyXG4gICAgICAgIG9uVXBkYXRlOiAoKSA9PiB7XHJcbiAgICAgICAgICBjb25zdCBub3cgPSBQaGFzZXIuTWF0aC5MaW5lYXIoc3RhcnRSYWQsIGVuZFJhZCwgcHJveHkudCk7XHJcbiAgICAgICAgICBjb25zdCB0MCA9IFBoYXNlci5NYXRoLkxpbmVhcihcclxuICAgICAgICAgICAgc3RhcnRSYWQsXHJcbiAgICAgICAgICAgIG5vdyxcclxuICAgICAgICAgICAgTWF0aC5tYXgoMCwgcHJveHkudCAtIDAuMjUpXHJcbiAgICAgICAgICApO1xyXG4gICAgICAgICAgZy5jbGVhcigpO1xyXG4gICAgICAgICAgZy5maWxsU3R5bGUobWFpbiwgMC44NSk7XHJcbiAgICAgICAgICBnLmJlZ2luUGF0aCgpO1xyXG4gICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPD0gc3RlcHM7IGkrKykge1xyXG4gICAgICAgICAgICBjb25zdCBhID0gUGhhc2VyLk1hdGguTGluZWFyKHQwLCBub3csIGkgLyBzdGVwcyk7XHJcbiAgICAgICAgICAgIGNvbnN0IHBudCA9IGVwdChhLCByeCwgcnkpO1xyXG4gICAgICAgICAgICBpZiAoaSA9PT0gMCkgZy5tb3ZlVG8ocG50LngsIHBudC55KTtcclxuICAgICAgICAgICAgZWxzZSBnLmxpbmVUbyhwbnQueCwgcG50LnkpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgZm9yIChsZXQgaSA9IHN0ZXBzOyBpID49IDA7IGktLSkge1xyXG4gICAgICAgICAgICBjb25zdCBhID0gUGhhc2VyLk1hdGguTGluZWFyKHQwLCBub3csIGkgLyBzdGVwcyk7XHJcbiAgICAgICAgICAgIGNvbnN0IHBudCA9IGVwdChhLCByeElubmVyLCByeUlubmVyKTtcclxuICAgICAgICAgICAgZy5saW5lVG8ocG50LngsIHBudC55KTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGcuY2xvc2VQYXRoKCk7XHJcbiAgICAgICAgICBnLmZpbGxQYXRoKCk7XHJcbiAgICAgICAgICBnLmxpbmVTdHlsZShNYXRoLm1heCgyLCBNYXRoLmZsb29yKHRoaWNrbmVzcyAqIDAuMykpLCBvdXRsaW5lLCAwLjkpO1xyXG4gICAgICAgICAgZy5iZWdpblBhdGgoKTtcclxuICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDw9IHN0ZXBzOyBpKyspIHtcclxuICAgICAgICAgICAgY29uc3QgYSA9IFBoYXNlci5NYXRoLkxpbmVhcihcclxuICAgICAgICAgICAgICBNYXRoLm1heCh0MCwgbm93IC0gMC4yNSksXHJcbiAgICAgICAgICAgICAgbm93LFxyXG4gICAgICAgICAgICAgIGkgLyBzdGVwc1xyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgICAgICBjb25zdCBwbnQgPSBlcHQoYSwgcnggKyAyLCByeSArIDEpO1xyXG4gICAgICAgICAgICBpZiAoaSA9PT0gMCkgZy5tb3ZlVG8ocG50LngsIHBudC55KTtcclxuICAgICAgICAgICAgZWxzZSBnLmxpbmVUbyhwbnQueCwgcG50LnkpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgZy5zdHJva2VQYXRoKCk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBvbkNvbXBsZXRlOiAoKSA9PiBnLmRlc3Ryb3koKSxcclxuICAgICAgfSk7XHJcblxyXG4gICAgICAvLyBPd25lci1zaWRlIHNpbXBsZSBoaXQgZGV0ZWN0aW9uIGluIGFyY1xyXG4gICAgICBjb25zdCBhbHJlYWR5ID0gbmV3IFNldCgpO1xyXG4gICAgICBjb25zdCBlbmVtaWVzID0gT2JqZWN0LnZhbHVlcyh0aGlzLm9wcG9uZW50UGxheWVyc1JlZiB8fCB7fSk7XHJcbiAgICAgIGNvbnN0IHRpcCA9IHsgeDogKCkgPT4gY3goKSArIGRpcmVjdGlvbiAqIHJ4LCB5OiAoKSA9PiBjeSgpIH07XHJcbiAgICAgIHRoaXMuc2NlbmUudGltZS5kZWxheWVkQ2FsbChNYXRoLmZsb29yKGR1cmF0aW9uICogMC41KSwgKCkgPT4ge1xyXG4gICAgICAgIGZvciAoY29uc3Qgd3JhcCBvZiBlbmVtaWVzKSB7XHJcbiAgICAgICAgICBjb25zdCBzcHIgPSB3cmFwICYmIHdyYXAub3Bwb25lbnQ7XHJcbiAgICAgICAgICBjb25zdCBuYW1lID0gd3JhcCAmJiB3cmFwLnVzZXJuYW1lO1xyXG4gICAgICAgICAgaWYgKCFzcHIgfHwgIW5hbWUgfHwgYWxyZWFkeS5oYXMobmFtZSkpIGNvbnRpbnVlO1xyXG4gICAgICAgICAgY29uc3QgZGlzdCA9IFBoYXNlci5NYXRoLkRpc3RhbmNlLkJldHdlZW4oXHJcbiAgICAgICAgICAgIHNwci54LFxyXG4gICAgICAgICAgICBzcHIueSxcclxuICAgICAgICAgICAgdGlwLngoKSxcclxuICAgICAgICAgICAgdGlwLnkoKVxyXG4gICAgICAgICAgKTtcclxuICAgICAgICAgIGNvbnN0IGR4ID0gc3ByLnggLSBjeCgpO1xyXG4gICAgICAgICAgaWYgKGRpc3QgPD0gNTAgJiYgTWF0aC5zaWduKGR4KSA9PT0gTWF0aC5zaWduKGRpcmVjdGlvbikpIHtcclxuICAgICAgICAgICAgYWxyZWFkeS5hZGQobmFtZSk7XHJcbiAgICAgICAgICAgIHNvY2tldC5lbWl0KFwiaGl0XCIsIHtcclxuICAgICAgICAgICAgICBhdHRhY2tlcjogdGhpcy51c2VybmFtZSxcclxuICAgICAgICAgICAgICB0YXJnZXQ6IG5hbWUsXHJcbiAgICAgICAgICAgICAgZGFtYWdlLFxyXG4gICAgICAgICAgICAgIGdhbWVJZDogdGhpcy5nYW1lSWQsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcblxyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgIG5hbWU6IHRoaXMudXNlcm5hbWUsXHJcbiAgICAgICAgdHlwZTogYCR7TkFNRX0tc2xhc2hgLFxyXG4gICAgICAgIGRpcmVjdGlvbixcclxuICAgICAgICByYW5nZSxcclxuICAgICAgICBkdXJhdGlvbixcclxuICAgICAgfTtcclxuICAgIH0pO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgZHJhdmVuO1xyXG4iLCIvLyBzcmMvY2hhcmFjdGVycy9pbmRleC5qc1xyXG5pbXBvcnQgTmluamEgZnJvbSBcIi4vbmluamEvY29uc3RydWN0b3JcIjtcclxuaW1wb3J0IFRob3JnIGZyb20gXCIuL3Rob3JnL2NvbnN0cnVjdG9yXCI7XHJcbmltcG9ydCBEcmF2ZW4gZnJvbSBcIi4vZHJhdmVuL2NvbnN0cnVjdG9yXCI7XHJcbmltcG9ydCB7IGNoYXJhY3RlclN0YXRzIH0gZnJvbSBcIi4uL2xpYi9jaGFyYWN0ZXJTdGF0cy5qc1wiO1xyXG5cclxuY29uc3QgcmVnaXN0cnkgPSB7XHJcbiAgbmluamE6IE5pbmphLFxyXG4gIHRob3JnOiBUaG9yZyxcclxuICBkcmF2ZW46IERyYXZlbixcclxufTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBwcmVsb2FkQWxsKHNjZW5lLCBzdGF0aWNQYXRoKSB7XHJcbiAgLy8gUHJlbG9hZCBhc3NldHMgZm9yIGFsbCByZWdpc3RlcmVkIGNoYXJhY3RlcnMgKHNpbXBsZSBub3csIHNjYWxhYmxlIGxhdGVyKVxyXG4gIGZvciAoY29uc3Qga2V5IG9mIE9iamVjdC5rZXlzKHJlZ2lzdHJ5KSkge1xyXG4gICAgY29uc3QgQ2xzID0gcmVnaXN0cnlba2V5XTtcclxuICAgIGlmIChDbHMucHJlbG9hZCkgQ2xzLnByZWxvYWQoc2NlbmUsIHN0YXRpY1BhdGgpO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHNldHVwRm9yKHNjZW5lLCBjaGFyYWN0ZXIpIHtcclxuICBjb25zdCBDbHMgPSByZWdpc3RyeVtjaGFyYWN0ZXJdO1xyXG4gIGlmIChDbHMgJiYgQ2xzLnNldHVwQW5pbWF0aW9ucykgQ2xzLnNldHVwQW5pbWF0aW9ucyhzY2VuZSk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBzZXR1cEFsbChzY2VuZSkge1xyXG4gIGZvciAoY29uc3Qga2V5IG9mIE9iamVjdC5rZXlzKHJlZ2lzdHJ5KSkge1xyXG4gICAgY29uc3QgQ2xzID0gcmVnaXN0cnlba2V5XTtcclxuICAgIGlmIChDbHMgJiYgQ2xzLnNldHVwQW5pbWF0aW9ucykgQ2xzLnNldHVwQW5pbWF0aW9ucyhzY2VuZSk7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlRm9yKGNoYXJhY3RlciwgZGVwcykge1xyXG4gIGNvbnN0IENscyA9IHJlZ2lzdHJ5W2NoYXJhY3Rlcl07XHJcbiAgaWYgKCFDbHMpIHJldHVybiBudWxsO1xyXG4gIHJldHVybiBuZXcgQ2xzKGRlcHMpO1xyXG59XHJcblxyXG4vLyBSZXR1cm5zIHRoZSBQaGFzZXIgdGV4dHVyZSBrZXkgZm9yIGEgZ2l2ZW4gY2hhcmFjdGVyJ3MgbWFpbiBzcHJpdGUvYXRsYXNcclxuZXhwb3J0IGZ1bmN0aW9uIGdldFRleHR1cmVLZXkoY2hhcmFjdGVyKSB7XHJcbiAgY29uc3QgQ2xzID0gcmVnaXN0cnlbY2hhcmFjdGVyXTtcclxuICAvLyBQcmVmZXIgYW4gZXhwbGljaXQgdGV4dHVyZUtleSBzdGF0aWMsIGZhbGxiYWNrIHRvIGNvbW1vbiBcInNwcml0ZVwiXHJcbiAgcmV0dXJuIChcclxuICAgIChDbHMgJiZcclxuICAgICAgKENscy50ZXh0dXJlS2V5IHx8XHJcbiAgICAgICAgKHR5cGVvZiBDbHMuZ2V0VGV4dHVyZUtleSA9PT0gXCJmdW5jdGlvblwiICYmIENscy5nZXRUZXh0dXJlS2V5KCkpKSkgfHxcclxuICAgIFwic3ByaXRlXCJcclxuICApO1xyXG59XHJcblxyXG4vLyBEZWxlZ2F0ZSBoYW5kbGluZyBvZiBhIHJlbW90ZWx5IHJlY2VpdmVkIGF0dGFjayB0byB0aGUgY2hhcmFjdGVyIG1vZHVsZVxyXG5leHBvcnQgZnVuY3Rpb24gaGFuZGxlUmVtb3RlQXR0YWNrKHNjZW5lLCBjaGFyYWN0ZXIsIGRhdGEsIG93bmVyV3JhcHBlcikge1xyXG4gIGNvbnN0IENscyA9IHJlZ2lzdHJ5W2NoYXJhY3Rlcl07XHJcbiAgaWYgKENscyAmJiB0eXBlb2YgQ2xzLmhhbmRsZVJlbW90ZUF0dGFjayA9PT0gXCJmdW5jdGlvblwiKSB7XHJcbiAgICBDbHMuaGFuZGxlUmVtb3RlQXR0YWNrKHNjZW5lLCBkYXRhLCBvd25lcldyYXBwZXIpO1xyXG4gICAgcmV0dXJuIHRydWU7XHJcbiAgfVxyXG4gIHJldHVybiBmYWxzZTtcclxufVxyXG5cclxuLy8gUmVzb2x2ZSBhIGdlbmVyaWMgYW5pbWF0aW9uIGtleSAoZS5nLiwgJ2lkbGUnKSB0byBhIGNoYXJhY3Rlci1zcGVjaWZpY1xyXG4vLyBrZXkgKGUuZy4sICduaW5qYS1pZGxlJyBvciAndGhvcmctaWRsZScpIGlmIHByZXNlbnQ7IG90aGVyd2lzZSwgZmFsbGJhY2suXHJcbmV4cG9ydCBmdW5jdGlvbiByZXNvbHZlQW5pbUtleShcclxuICBzY2VuZSxcclxuICBjaGFyYWN0ZXIsXHJcbiAgZ2VuZXJpY0tleSxcclxuICBmYWxsYmFjayA9IFwiaWRsZVwiXHJcbikge1xyXG4gIGNvbnN0IGNoYXIgPSAoY2hhcmFjdGVyIHx8IFwiXCIpLnRvTG93ZXJDYXNlKCk7XHJcbiAgY29uc3QgYW5pbXMgPSBzY2VuZSAmJiBzY2VuZS5hbmltcztcclxuICBpZiAoIWFuaW1zKSByZXR1cm4gZ2VuZXJpY0tleTtcclxuXHJcbiAgLy8gSWYgYSBmdWxseS1xdWFsaWZpZWQga2V5IGlzIHByb3ZpZGVkIChlLmcuLCBcIm5pbmphLXJ1bm5pbmdcIik6XHJcbiAgaWYgKGdlbmVyaWNLZXkgJiYgZ2VuZXJpY0tleS5pbmNsdWRlcyhcIi1cIikpIHtcclxuICAgIC8vIDEpIElmIGl0IGFscmVhZHkgbWF0Y2hlcyB0aGlzIGNoYXJhY3RlciBhbmQgZXhpc3RzLCB1c2UgaXQgYXMtaXNcclxuICAgIGlmIChcclxuICAgICAgZ2VuZXJpY0tleS50b0xvd2VyQ2FzZSgpLnN0YXJ0c1dpdGgoYCR7Y2hhcn0tYCkgJiZcclxuICAgICAgYW5pbXMuZXhpc3RzKGdlbmVyaWNLZXkpXHJcbiAgICApIHtcclxuICAgICAgcmV0dXJuIGdlbmVyaWNLZXk7XHJcbiAgICB9XHJcbiAgICAvLyAyKSBUcnkgcmVtYXBwaW5nIHRvIHRoaXMgY2hhcmFjdGVyJ3MgbmFtZXNwYWNlIHByZXNlcnZpbmcgdGhlIHN1ZmZpeFxyXG4gICAgY29uc3Qgc3VmZml4ID0gZ2VuZXJpY0tleS5zcGxpdChcIi1cIikuc2xpY2UoMSkuam9pbihcIi1cIik7XHJcbiAgICBjb25zdCByZW1hcHBlZCA9IGAke2NoYXJ9LSR7c3VmZml4fWA7XHJcbiAgICBpZiAoYW5pbXMuZXhpc3RzKHJlbWFwcGVkKSkgcmV0dXJuIHJlbWFwcGVkO1xyXG4gICAgLy8gMykgQXMgYSBsYXN0IHJlc29ydCwgaWYgdGhlIGdpdmVuIGtleSBleGlzdHMgKGV2ZW4gZm9yIG90aGVyIGNoYXIpLCByZXR1cm4gaXRcclxuICAgIGlmIChhbmltcy5leGlzdHMoZ2VuZXJpY0tleSkpIHJldHVybiBnZW5lcmljS2V5O1xyXG4gIH1cclxuXHJcbiAgLy8gR2VuZXJpYyAodW5wcmVmaXhlZCkgcmVzb2x1dGlvbiBmbG93XHJcbiAgY29uc3QgcHJlZmVycmVkID0gYCR7Y2hhcn0tJHtnZW5lcmljS2V5fWA7XHJcbiAgaWYgKGFuaW1zLmV4aXN0cyhwcmVmZXJyZWQpKSByZXR1cm4gcHJlZmVycmVkO1xyXG4gIGlmIChhbmltcy5leGlzdHMoZ2VuZXJpY0tleSkpIHJldHVybiBnZW5lcmljS2V5O1xyXG4gIGNvbnN0IGZiUHJlZmVycmVkID0gYCR7Y2hhcn0tJHtmYWxsYmFja31gO1xyXG4gIGlmIChhbmltcy5leGlzdHMoZmJQcmVmZXJyZWQpKSByZXR1cm4gZmJQcmVmZXJyZWQ7XHJcbiAgcmV0dXJuIGFuaW1zLmV4aXN0cyhmYWxsYmFjaykgPyBmYWxsYmFjayA6IGdlbmVyaWNLZXk7XHJcbn1cclxuXHJcbi8vIEdldCBtZXJnZWQgc3RhdHMgZm9yIGEgY2hhcmFjdGVyIGZyb20gY2VudHJhbGl6ZWQgc3RhdHNcclxuZXhwb3J0IGZ1bmN0aW9uIGdldFN0YXRzKGNoYXJhY3Rlcikge1xyXG4gIHJldHVybiBjaGFyYWN0ZXJTdGF0c1tjaGFyYWN0ZXJdIHx8IGNoYXJhY3RlclN0YXRzLm5pbmphOyAvLyBmYWxsYmFjayB0byBuaW5qYSBpZiBjaGFyYWN0ZXIgbm90IGZvdW5kXHJcbn1cclxuXHJcbi8vIE9wdGlvbmFsOiByZXR1cm5zIHRoZSBFZmZlY3RzIGNsYXNzIGZvciBhIGNoYXJhY3Rlciwgb3IgbnVsbCBpZiBub25lXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRFZmZlY3RzQ2xhc3MoY2hhcmFjdGVyKSB7XHJcbiAgY29uc3QgQ2xzID0gcmVnaXN0cnlbY2hhcmFjdGVyXTtcclxuICByZXR1cm4gKFxyXG4gICAgKENscyAmJlxyXG4gICAgICAoQ2xzLkVmZmVjdHMgfHxcclxuICAgICAgICAodHlwZW9mIENscy5nZXRFZmZlY3RzID09PSBcImZ1bmN0aW9uXCIgJiYgQ2xzLmdldEVmZmVjdHMoKSkpKSB8fFxyXG4gICAgbnVsbFxyXG4gICk7XHJcbn1cclxuIiwiLy8gZWZmZWN0cy5qc1xyXG4vLyBTaGFyZWQgbGlnaHR3ZWlnaHQgVkZYIGhlbHBlcnMgKGR1c3QgLyBzbW9rZSBwdWZmcyBmb3IgcnVubmluZylcclxuXHJcbmNvbnN0IGR1c3RQb29sID0gW107XHJcbmNvbnN0IGR1c3RQb29sTWF4ID0gMTIwO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHNwYXduRHVzdChzY2VuZSwgeCwgeSwgdGludCA9IDB4YmJiYmJiKSB7XHJcbiAgbGV0IGcgPSBkdXN0UG9vbC5maW5kKChvKSA9PiAhby5hY3RpdmUpO1xyXG4gIGlmICghZykge1xyXG4gICAgZyA9IHNjZW5lLmFkZC5ncmFwaGljcygpO1xyXG4gICAgZHVzdFBvb2wucHVzaChnKTtcclxuICB9XHJcbiAgZy5hY3RpdmUgPSB0cnVlO1xyXG4gIGcuY2xlYXIoKTtcclxuICBnLnNldERlcHRoKDEpOyAvLyBiZWhpbmQgcGxheWVycyAocGxheWVyIGRlcHRoIGFzc3VtZWQgPjEgZm9yIG1haW4gc3ByaXRlKVxyXG4gIGNvbnN0IGJhc2VTaXplID0gUGhhc2VyLk1hdGguQmV0d2Vlbig2LCAxMCk7XHJcbiAgLy8gU2xpZ2h0bHkgaGlnaGVyIHN0YXJ0aW5nIGFscGhhIHJhbmdlIGZvciBiZXR0ZXIgdmlzaWJpbGl0eVxyXG4gIGNvbnN0IGFscGhhU3RhcnQgPSBQaGFzZXIuTWF0aC5GbG9hdEJldHdlZW4oMC40NSwgMC42NSk7XHJcbiAgY29uc3QgcHVmZkNvbG9yID0gUGhhc2VyLkRpc3BsYXkuQ29sb3IuSW50ZWdlclRvQ29sb3IodGludCk7XHJcbiAgLy8gT3V0ZXIgc29mdCByaW5nXHJcbiAgZy5maWxsU3R5bGUocHVmZkNvbG9yLmNvbG9yLCBhbHBoYVN0YXJ0ICogMC42KTtcclxuICBnLmZpbGxDaXJjbGUoMCwgMCwgYmFzZVNpemUpO1xyXG4gIC8vIElubmVyIGRlbnNlciBjb3JlXHJcbiAgZy5maWxsU3R5bGUocHVmZkNvbG9yLmNvbG9yLCBhbHBoYVN0YXJ0KTtcclxuICBnLmZpbGxDaXJjbGUoMCwgMCwgYmFzZVNpemUgKiAwLjU1KTtcclxuICBnLnggPSB4ICsgUGhhc2VyLk1hdGguQmV0d2VlbigtNCwgNCk7XHJcbiAgZy55ID0geSArIFBoYXNlci5NYXRoLkJldHdlZW4oLTIsIDIpO1xyXG4gIGNvbnN0IHJpc2UgPSBQaGFzZXIuTWF0aC5CZXR3ZWVuKDEwLCAyMik7XHJcbiAgY29uc3QgZHJpZnRYID0gUGhhc2VyLk1hdGguQmV0d2VlbigtMTIsIDEyKTtcclxuICBjb25zdCBzY2FsZVRhcmdldCA9IFBoYXNlci5NYXRoLkZsb2F0QmV0d2VlbigxLjIsIDEuNik7XHJcbiAgY29uc3QgZHVyYXRpb24gPSBQaGFzZXIuTWF0aC5CZXR3ZWVuKDM4MCwgNTIwKTtcclxuICBnLnNjYWxlID0gMTtcclxuICBnLmFscGhhID0gYWxwaGFTdGFydDtcclxuICBzY2VuZS50d2VlbnMuYWRkKHtcclxuICAgIHRhcmdldHM6IGcsXHJcbiAgICB4OiBnLnggKyBkcmlmdFgsXHJcbiAgICB5OiBnLnkgLSByaXNlLFxyXG4gICAgYWxwaGE6IDAsXHJcbiAgICBzY2FsZTogc2NhbGVUYXJnZXQsXHJcbiAgICBkdXJhdGlvbixcclxuICAgIGVhc2U6IFwiQ3ViaWMuZWFzZU91dFwiLFxyXG4gICAgb25Db21wbGV0ZTogKCkgPT4ge1xyXG4gICAgICBnLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICBnLmFscGhhID0gMTtcclxuICAgICAgZy5zY2FsZSA9IDE7XHJcbiAgICAgIGcuY2xlYXIoKTtcclxuICAgIH0sXHJcbiAgfSk7XHJcbiAgaWYgKGR1c3RQb29sLmxlbmd0aCA+IGR1c3RQb29sTWF4KSB7XHJcbiAgICBjb25zdCBvbGQgPSBkdXN0UG9vbC5maW5kKChvKSA9PiAhby5hY3RpdmUpO1xyXG4gICAgaWYgKG9sZCkge1xyXG4gICAgICBvbGQuZGVzdHJveSgpO1xyXG4gICAgICBjb25zdCBpZHggPSBkdXN0UG9vbC5pbmRleE9mKG9sZCk7XHJcbiAgICAgIGlmIChpZHggPj0gMCkgZHVzdFBvb2wuc3BsaWNlKGlkeCwgMSk7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gcHJld2FybUR1c3Qoc2NlbmUsIGNvdW50ID0gNikge1xyXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgY291bnQ7IGkrKykge1xyXG4gICAgc3Bhd25EdXN0KHNjZW5lLCAtOTk5OSwgLTk5OTkpO1xyXG4gIH1cclxuICBkdXN0UG9vbC5mb3JFYWNoKChnKSA9PiB7XHJcbiAgICBnLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgZy5jbGVhcigpO1xyXG4gIH0pO1xyXG59XHJcblxyXG4vLyBOb3RlOiBjaGFyYWN0ZXItc3BlY2lmaWMgZWZmZWN0cyAobGlrZSBEcmF2ZW4ncyBmaXJlIHRyYWlsKSBsaXZlIGluXHJcbi8vIHRoZWlyIG93biBmaWxlcyB1bmRlciBzcmMvY2hhcmFjdGVycy88Y2hhcj4vZWZmZWN0cy5qcy5cclxuIiwiLy8gcGxheWVyLmpzXHJcbi8vIE5PVEU6IFJlZmFjdG9yZWQgdG8gcmVtb3ZlIGNpcmN1bGFyIGRlcGVuZGVuY3kgb24gZ2FtZS5qcy5cclxuLy8gc29ja2V0IG5vdyBjb21lcyBmcm9tIHN0YW5kYWxvbmUgc29ja2V0LmpzIGFuZCBvcHBvbmVudFBsYXllcnMgYXJlIHBhc3NlZCBpbnRvIGNyZWF0ZVBsYXllci5cclxuaW1wb3J0IHNvY2tldCBmcm9tIFwiLi9zb2NrZXRcIjtcclxuZnVuY3Rpb24gcGRiZygpIHtcclxuICAvKiBsb2dnaW5nIGRpc2FibGVkICovXHJcbn1cclxuaW1wb3J0IHsgbHVzaHlQZWFrc09iamVjdHMsIGJhc2UsIHBsYXRmb3JtIH0gZnJvbSBcIi4vbWFwcy9sdXNoeVBlYWtzXCI7XHJcbmltcG9ydCB7XHJcbiAgbWFuZ3JvdmVNZWFkb3dPYmplY3RzLFxyXG4gIHRpbnlQbGF0Zm9ybTEsXHJcbiAgdGlueVBsYXRmb3JtMixcclxuICB0aW55UGxhdGZvcm0zLFxyXG4gIHRpbnlQbGF0Zm9ybTQsXHJcbiAgdGlueVBsYXRmb3JtNSxcclxuICB0aW55UGxhdGZvcm02LFxyXG59IGZyb20gXCIuL21hcHMvbWFuZ3JvdmVNZWFkb3dcIjtcclxuaW1wb3J0IHtcclxuICBjcmVhdGVGb3IgYXMgY3JlYXRlQ2hhcmFjdGVyRm9yLFxyXG4gIGdldFRleHR1cmVLZXksXHJcbiAgcmVzb2x2ZUFuaW1LZXksXHJcbiAgZ2V0U3RhdHMsXHJcbiAgZ2V0RWZmZWN0c0NsYXNzLFxyXG59IGZyb20gXCIuL2NoYXJhY3RlcnNcIjtcclxuaW1wb3J0IHsgc3Bhd25EdXN0IH0gZnJvbSBcIi4vZWZmZWN0c1wiO1xyXG4vLyBHbG9iYWxzXHJcbmxldCBwbGF5ZXI7XHJcbmxldCBjdXJzb3JzO1xyXG5sZXQgY2FuV2FsbEp1bXAgPSB0cnVlO1xyXG5sZXQgaXNNb3ZpbmcgPSBmYWxzZTtcclxubGV0IGlzSnVtcGluZyA9IGZhbHNlO1xyXG5sZXQgaXNBdHRhY2tpbmcgPSBmYWxzZTtcclxubGV0IGNhbkF0dGFjayA9IHRydWU7XHJcbi8vIFNGWCBzdGF0ZVxyXG5sZXQgc2Z4V2Fsa0Nvb2xkb3duID0gMDtcclxubGV0IHdhc09uR3JvdW5kID0gZmFsc2U7XHJcblxyXG5sZXQgZnJhbWU7XHJcblxyXG5sZXQgbWF4SGVhbHRoID0gODAwMDtcclxubGV0IGN1cnJlbnRIZWFsdGggPSA4MDAwOyAvLyBDbGllbnQtc2lkZSBjb3B5IChkaXNwbGF5IG9ubHkpXHJcbmxldCBkZWFkID0gZmFsc2U7XHJcblxyXG5sZXQgaGVhbHRoQmFyV2lkdGggPSA2MDtcclxubGV0IGhlYWx0aEJhcjtcclxubGV0IGhlYWx0aFRleHQ7XHJcbi8vIEFtbW8vQ29vbGRvd24gYmFyIChjbGllbnQtc2lkZSBvbmx5KVxyXG5sZXQgYW1tb0JhcjsgLy8gZ3JhcGhpY3NcclxubGV0IGFtbW9CYXJCYWNrOyAvLyBiYWNrZ3JvdW5kIGdyYXBoaWNzXHJcbmxldCBhbW1vQmFyV2lkdGggPSA2MDtcclxubGV0IGFtbW9Db29sZG93bk1zID0gMTIwMDsgLy8gdGltZSBiZXR3ZWVuIHNob3RzXHJcbmxldCBhbW1vUmVsb2FkTXMgPSAxMjAwOyAvLyB0aW1lIHRvIHJlbG9hZCBvbmUgY2hhcmdlXHJcbmxldCBhbW1vQ2FwYWNpdHkgPSAxOyAvLyBudW1iZXIgb2Ygc2VnbWVudHNcclxubGV0IGFtbW9DaGFyZ2VzID0gMTsgLy8gY3VycmVudCBjaGFyZ2VzIGF2YWlsYWJsZVxyXG5sZXQgbmV4dEZpcmVUaW1lID0gMDsgLy8gdGltZXN0YW1wIChtcykgd2hlbiB3ZSBjYW4gZmlyZSBhZ2FpblxyXG5sZXQgcmVsb2FkVGltZXJNcyA9IDA7IC8vIGFjY3VtdWxhdGVzIHdoaWxlIHJlbG9hZGluZyB0b3dhcmQgYW1tb1JlbG9hZE1zXHJcblxyXG5sZXQgcGxheWVyTmFtZTtcclxuXHJcbmxldCBpbmRpY2F0b3JUcmlhbmdsZTtcclxuXHJcbmxldCB1c2VybmFtZTtcclxubGV0IGdhbWVJZCA9IHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZS5zcGxpdChcIi9cIikuZmlsdGVyKEJvb2xlYW4pLnBvcCgpO1xyXG5cclxubGV0IHNjZW5lO1xyXG4vLyBQZXJzaXN0IHRoZSBzZWxlY3RlZCBjaGFyYWN0ZXIgc28gbW92ZW1lbnQgaGVscGVycyBjYW4gcmVzb2x2ZSBhbmltIGtleXNcclxubGV0IGN1cnJlbnRDaGFyYWN0ZXI7XHJcblxyXG5sZXQgc3Bhd247XHJcbmxldCBwbGF5ZXJzSW5UZWFtO1xyXG5sZXQgc3Bhd25QbGF0Zm9ybTtcclxubGV0IG1hcE9iamVjdHM7XHJcbmxldCBtYXA7XHJcbmxldCBvcHBvbmVudFBsYXllcnNSZWY7IC8vIGluamVjdGVkIGZyb20gZ2FtZS5qcyB0byBhdm9pZCBjaXJjdWxhciBpbXBvcnRcclxubGV0IGR1c3RUaW1lciA9IDA7XHJcbmNvbnN0IGR1c3RJbnRlcnZhbCA9IDcwOyAvLyBtcyBiZXR3ZWVuIGR1c3QgcHVmZnMgd2hlbiBydW5uaW5nXHJcblxyXG4vLyBCb2R5IGNvbmZpZyBhbmQgZmxpcC1vZmZzZXQgYXBwbGllciBob2lzdGVkIGZvciB1c2UgYWNyb3NzIGZ1bmN0aW9uc1xyXG5sZXQgYm9keUNvbmZpZyA9IG51bGw7XHJcbmxldCBhcHBseUZsaXBPZmZzZXRMb2NhbCA9IG51bGw7XHJcbmxldCBjaGFyRWZmZWN0cyA9IG51bGw7IC8vIHBlci1jaGFyYWN0ZXIsIHBlci1wbGF5ZXIgZWZmZWN0cyBoYW5kbGVyIChlLmcuLCBEcmF2ZW4gZmlyZSlcclxuXHJcbi8vIENyZWF0ZSBwbGF5ZXIgZnVuY3Rpb25cclxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVBsYXllcihcclxuICBzY2VuZVBhcmFtLFxyXG4gIG5hbWUsXHJcbiAgY2hhcmFjdGVyLFxyXG4gIHNwYXduUGxhdGZvcm1QYXJhbSxcclxuICBzcGF3blBhcmFtLFxyXG4gIHBsYXllcnNJblRlYW1QYXJhbSxcclxuICBtYXBQYXJhbSxcclxuICBvcHBvbmVudFBsYXllcnNQYXJhbVxyXG4pIHtcclxuICB1c2VybmFtZSA9IG5hbWU7XHJcbiAgc2NlbmUgPSBzY2VuZVBhcmFtO1xyXG4gIHNwYXduID0gc3Bhd25QYXJhbTtcclxuICBwbGF5ZXJzSW5UZWFtID0gcGxheWVyc0luVGVhbVBhcmFtO1xyXG4gIHNwYXduUGxhdGZvcm0gPSBzcGF3blBsYXRmb3JtUGFyYW07XHJcbiAgbWFwID0gbWFwUGFyYW07XHJcbiAgb3Bwb25lbnRQbGF5ZXJzUmVmID0gb3Bwb25lbnRQbGF5ZXJzUGFyYW07XHJcbiAgLy8gUmVtZW1iZXIgdGhlIGNob3NlbiBjaGFyYWN0ZXIgZm9yIGFuaW1hdGlvbiByZXNvbHV0aW9uIGluIHVwZGF0ZSBsb29wXHJcbiAgY3VycmVudENoYXJhY3RlciA9IGNoYXJhY3RlcjtcclxuICBwZGJnKCk7XHJcbiAgY3Vyc29ycyA9IHNjZW5lLmlucHV0LmtleWJvYXJkLmNyZWF0ZUN1cnNvcktleXMoKTtcclxuXHJcbiAgLy8gQW5pbWF0aW9ucyBhcmUgcmVnaXN0ZXJlZCBnbG9iYWxseSBpbiBnYW1lLmpzIHZpYSBzZXR1cEFsbChzY2VuZSlcclxuXHJcbiAgLy8gQ3JlYXRlIHBsYXllciBzcHJpdGUhISBVc2UgY2hhcmFjdGVyJ3MgdGV4dHVyZSBrZXlcclxuICBjb25zdCB0ZXh0dXJlS2V5ID0gZ2V0VGV4dHVyZUtleShjaGFyYWN0ZXIpO1xyXG4gIHBsYXllciA9IHNjZW5lLnBoeXNpY3MuYWRkLnNwcml0ZSgtMTAwLCAtMTAwLCB0ZXh0dXJlS2V5KTtcclxuICBwbGF5ZXIuYW5pbXMucGxheShyZXNvbHZlQW5pbUtleShzY2VuZSwgY3VycmVudENoYXJhY3RlciwgXCJpZGxlXCIpLCB0cnVlKTsgLy8gUGxheSBpZGxlIGFuaW1hdGlvblxyXG4gIC8vIEhpZGUgdW50aWwgd2UndmUgY29uZmlndXJlZCBmcmFtZS9ib2R5IGFuZCBzcGF3biB0byBhdm9pZCBhIG1pZC1haXIgZmlyc3QgcmVuZGVyXHJcbiAgcGxheWVyLnNldFZpc2libGUoZmFsc2UpO1xyXG4gIHBkYmcoKTtcclxuXHJcbiAgLy8gQXBwbHkgY2hhcmFjdGVyIHN0YXRzIChoZWFsdGgsIGFtbW8sIHNwcml0ZS9ib2R5IHNpemluZylcclxuICBjb25zdCBzdGF0cyA9IGdldFN0YXRzKGNoYXJhY3Rlcik7XHJcbiAgbWF4SGVhbHRoID0gc3RhdHMubWF4SGVhbHRoID8/IG1heEhlYWx0aDtcclxuICBjdXJyZW50SGVhbHRoID0gbWF4SGVhbHRoO1xyXG4gIGFtbW9Db29sZG93bk1zID0gc3RhdHMuYW1tb0Nvb2xkb3duTXMgPz8gYW1tb0Nvb2xkb3duTXM7XHJcbiAgYW1tb1JlbG9hZE1zID0gc3RhdHMuYW1tb1JlbG9hZE1zID8/IGFtbW9SZWxvYWRNcztcclxuICBhbW1vQ2FwYWNpdHkgPSBNYXRoLm1heCgxLCBzdGF0cy5hbW1vQ2FwYWNpdHkgPz8gYW1tb0NhcGFjaXR5KTtcclxuICBhbW1vQ2hhcmdlcyA9IGFtbW9DYXBhY2l0eTtcclxuICBuZXh0RmlyZVRpbWUgPSAwO1xyXG4gIHJlbG9hZFRpbWVyTXMgPSAwO1xyXG4gIGlmIChzdGF0cy5zcHJpdGVTY2FsZSAmJiBzdGF0cy5zcHJpdGVTY2FsZSAhPT0gMSkge1xyXG4gICAgcGxheWVyLnNldFNjYWxlKHN0YXRzLnNwcml0ZVNjYWxlKTtcclxuICB9XHJcblxyXG4gIC8vIEVzdGFibGlzaCBmcmFtZS9ib2R5IHNpemluZyBCRUZPUkUgY29tcHV0aW5nIHNwYXduIHNvIGhlaWdodCBtYXRoIGlzIGNvcnJlY3RcclxuICBmcmFtZSA9IHBsYXllci5mcmFtZTtcclxuICBjb25zdCBicyA9IChzdGF0cyAmJiBzdGF0cy5ib2R5KSB8fCB7fTtcclxuICBib2R5Q29uZmlnID0gYnM7IC8vIHBlcnNpc3QgZm9yIHVzZSBpbiBtb3ZlbWVudCBmdW5jdGlvblxyXG4gIGNvbnN0IHdpZHRoU2hyaW5rID0gYnMud2lkdGhTaHJpbmsgPz8gMzU7XHJcbiAgY29uc3QgaGVpZ2h0U2hyaW5rID0gYnMuaGVpZ2h0U2hyaW5rID8/IDEwO1xyXG4gIHBsYXllci5ib2R5LnNldFNpemUoZnJhbWUud2lkdGggLSB3aWR0aFNocmluaywgZnJhbWUud2lkdGggLSBoZWlnaHRTaHJpbmspO1xyXG4gIC8vIEhlbHBlciB0byBhZGp1c3QgYm9keSBvZmZzZXQgd2hlbiBmbGlwcGluZ1xyXG4gIGFwcGx5RmxpcE9mZnNldExvY2FsID0gKCkgPT4ge1xyXG4gICAgaWYgKCFwbGF5ZXIgfHwgIXBsYXllci5ib2R5KSByZXR1cm47XHJcbiAgICBjb25zdCBjZmcgPSBib2R5Q29uZmlnIHx8IHt9O1xyXG4gICAgY29uc3QgZmxpcE9mZnNldCA9IGNmZy5mbGlwT2Zmc2V0IHx8IDA7IC8vIGZhbHN5IC0+IDBcclxuICAgIGNvbnN0IGV4dHJhID0gcGxheWVyLmZsaXBYID8gZmxpcE9mZnNldCA6IDA7XHJcbiAgICBwbGF5ZXIuYm9keS5zZXRPZmZzZXQoXHJcbiAgICAgIHBsYXllci5ib2R5LndpZHRoIC8gMiArIChjZmcub2Zmc2V0WEZyb21IYWxmID8/IDApICsgZXh0cmEsXHJcbiAgICAgIGNmZy5vZmZzZXRZID8/IDEwXHJcbiAgICApO1xyXG4gIH07XHJcbiAgYXBwbHlGbGlwT2Zmc2V0TG9jYWwoKTtcclxuXHJcbiAgLy8gTGlzdGVuZXIgdG8gZGV0ZWN0IGlmIHBsYXllciBsZWF2ZXMgdGhlIHdvcmxkIGJvdW5kc1xyXG4gIHNjZW5lLmV2ZW50cy5vbihcInVwZGF0ZVwiLCAoKSA9PiB7XHJcbiAgICBpZiAocGxheWVyLnkgPiBzY2VuZS5waHlzaWNzLndvcmxkLmJvdW5kcy5ib3R0b20gKyA1MCkge1xyXG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAvLyBSZXF1ZXN0IGEgc3VpY2lkZSBpZiBwbGF5ZXIgZmFsbHMgb3V0ICh0cmVhdCBhcyBzZWxmLWhpdCB0byA5OTk5OSlcclxuICAgICAgICBpZiAoIWRlYWQpIHtcclxuICAgICAgICAgIHNvY2tldC5lbWl0KFwiaGl0XCIsIHtcclxuICAgICAgICAgICAgYXR0YWNrZXI6IHVzZXJuYW1lLFxyXG4gICAgICAgICAgICB0YXJnZXQ6IHVzZXJuYW1lLFxyXG4gICAgICAgICAgICBkYW1hZ2U6IDk5OTk5LFxyXG4gICAgICAgICAgICBnYW1lSWQsXHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICAgIHBkYmcoKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0sIDUwMCk7XHJcbiAgICB9XHJcbiAgfSk7XHJcblxyXG4gIC8vIE1hcFxyXG4gIGlmIChtYXAgPT09IFwiMVwiKSB7XHJcbiAgICBtYXBPYmplY3RzID0gbHVzaHlQZWFrc09iamVjdHM7XHJcbiAgfSBlbHNlIGlmIChtYXAgPT09IFwiMlwiKSB7XHJcbiAgICBtYXBPYmplY3RzID0gbWFuZ3JvdmVNZWFkb3dPYmplY3RzO1xyXG4gIH1cclxuXHJcbiAgLy8gU2V0cyBzcGF3biBiYXNlZCBvbiBzZXNzaW9uIHN0b3JhZ2UgZGF0YVxyXG4gIGlmIChzcGF3blBsYXRmb3JtID09PSBcImJvdHRvbVwiKSB7XHJcbiAgICBpZiAobWFwID09PSBcIjFcIikge1xyXG4gICAgICBjYWxjdWxhdGVTcGF3bihiYXNlLCBzcGF3biwgcGxheWVyKTtcclxuICAgIH0gZWxzZSBpZiAobWFwID09PSBcIjJcIikge1xyXG4gICAgICBjYWxjdWxhdGVNYW5ncm92ZVNwYXduKFwiYm90dG9tXCIsIHNwYXduLCBwbGF5ZXIpO1xyXG4gICAgfVxyXG4gIH0gZWxzZSBpZiAoc3Bhd25QbGF0Zm9ybSA9PT0gXCJ0b3BcIikge1xyXG4gICAgaWYgKG1hcCA9PT0gXCIxXCIpIHtcclxuICAgICAgY2FsY3VsYXRlU3Bhd24ocGxhdGZvcm0sIHNwYXduLCBwbGF5ZXIpO1xyXG4gICAgfSBlbHNlIGlmIChtYXAgPT09IFwiMlwiKSB7XHJcbiAgICAgIGNhbGN1bGF0ZU1hbmdyb3ZlU3Bhd24oXCJ0b3BcIiwgc3Bhd24sIHBsYXllcik7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyBOb3cgdGhhdCBwb3NpdGlvbiBpcyBmaW5hbGl6ZWQsIHJldmVhbCB0aGUgc3ByaXRlIGZvciB0aGUgZmlyc3QgZ3JvdW5kZWQgcmVuZGVyXHJcbiAgcGxheWVyLnNldFZpc2libGUodHJ1ZSk7XHJcblxyXG4gIC8vIEZyYW1lL2JvZHkgYWxyZWFkeSBjb25maWd1cmVkIGFib3ZlIHByaW9yIHRvIHNwYXduIGZvciBjb3JyZWN0IGluaXRpYWwgZ3JvdW5kaW5nXHJcblxyXG4gIC8vIFBsYXllciBuYW1lIHRleHQgYW5jaG9yZWQgdG8gcGh5c2ljcyBib2R5IHRvcCAobm90IGZyYW1lIGhlaWdodClcclxuICBjb25zdCBib2R5VG9wID0gcGxheWVyLmJvZHkgPyBwbGF5ZXIuYm9keS55IDogcGxheWVyLnkgLSBwbGF5ZXIuaGVpZ2h0IC8gMjtcclxuICBwbGF5ZXJOYW1lID0gc2NlbmUuYWRkLnRleHQocGxheWVyLngsIGJvZHlUb3AgLSA1MCwgdXNlcm5hbWUpO1xyXG4gIHBsYXllck5hbWUuc2V0U3R5bGUoe1xyXG4gICAgZm9udDogXCJib2xkIDhwdCBBcmlhbFwiLFxyXG4gICAgZmlsbDogXCIjMDAwMDAwXCIsXHJcbiAgfSk7XHJcbiAgcGxheWVyTmFtZS5zZXRPcmlnaW4oMC41LCAwKTtcclxuXHJcbiAgLy8gSGVhbHRoIHRleHRcclxuICBoZWFsdGhUZXh0ID0gc2NlbmUuYWRkLnRleHQoMCwgMCwgXCJcIiwge1xyXG4gICAgZm9udEZhbWlseTogXCJBcmlhbFwiLFxyXG4gICAgZm9udFNpemU6IFwiMTBweFwiLFxyXG4gICAgY29sb3I6IFwiI0ZGRkZGRlwiLCAvLyBXaGl0ZVxyXG4gICAgc3Ryb2tlOiBcIiMwMDAwMDBcIiwgLy8gQmxhY2tcclxuICAgIHN0cm9rZVRoaWNrbmVzczogNCxcclxuICB9KTtcclxuXHJcbiAgLy8gSGVhbHRoIGJhclxyXG4gIGhlYWx0aEJhciA9IHNjZW5lLmFkZC5ncmFwaGljcygpO1xyXG4gIC8vIEFtbW8gYmFyIGJhY2tncm91bmQgJiBmaWxsIChyZW5kZXIgb3JkZXI6IGJhY2tncm91bmQsIGZpbGwpXHJcbiAgYW1tb0JhckJhY2sgPSBzY2VuZS5hZGQuZ3JhcGhpY3MoKTtcclxuICBhbW1vQmFyID0gc2NlbmUuYWRkLmdyYXBoaWNzKCk7XHJcblxyXG4gIC8vIFRyaWFuZ2xlIHRvIHNob3cgd2hpY2ggb25lIGlzIHRoZSB1c2VyLiBEaXNzYXBlYXJzIHdoZW4gdGhlIHBsYXllciBtb3Zlc1xyXG4gIGluZGljYXRvclRyaWFuZ2xlID0gc2NlbmUuYWRkLmdyYXBoaWNzKCk7XHJcblxyXG4gIC8vIEFycm93IGFib3ZlIHRoZSBib2R5IHRvcCBzbyBpdCdzIGNvbnNpc3RlbnQgYWNyb3NzIGRpZmZlcmVudCBmcmFtZSBwYWRkaW5nc1xyXG4gIGNvbnN0IHRyaWFuZ2xlID0gbmV3IFBoYXNlci5HZW9tLlRyaWFuZ2xlKFxyXG4gICAgcGxheWVyLngsXHJcbiAgICBib2R5VG9wIC0gMTAsIC8vIFRvcCBwb2ludFxyXG4gICAgcGxheWVyLnggLSAxMyxcclxuICAgIGJvZHlUb3AgLSAyMCwgLy8gTGVmdCBwb2ludFxyXG4gICAgcGxheWVyLnggKyAxMyxcclxuICAgIGJvZHlUb3AgLSAyMCAvLyBSaWdodCBwb2ludFxyXG4gICk7XHJcbiAgaW5kaWNhdG9yVHJpYW5nbGUuZmlsbFN0eWxlKDB4OTlhYjJjKTsgLy8gR3JlZW4gY29sb3JcclxuICBpbmRpY2F0b3JUcmlhbmdsZS5maWxsVHJpYW5nbGVTaGFwZSh0cmlhbmdsZSk7XHJcblxyXG4gIC8vIENoYXJhY3RlciBjb250cm9sbGVyIHdpcmluZyAoY2VudHJhbGl6ZWQgcGVyIGNoYXJhY3RlcilcclxuICBjb25zdCBhbW1vSG9va3MgPSB7XHJcbiAgICAvLyBzdGF0c1xyXG4gICAgZ2V0QW1tb0NhcGFjaXR5OiAoKSA9PiBhbW1vQ2FwYWNpdHksXHJcbiAgICBnZXRBbW1vQ29vbGRvd25NczogKCkgPT4gYW1tb0Nvb2xkb3duTXMsXHJcbiAgICBnZXRBbW1vUmVsb2FkTXM6ICgpID0+IGFtbW9SZWxvYWRNcyxcclxuICAgIC8vIHN0YXRlXHJcbiAgICBnZXRDaGFyZ2VzOiAoKSA9PiBhbW1vQ2hhcmdlcyxcclxuICAgIGdldE5leHRGaXJlVGltZTogKCkgPT4gbmV4dEZpcmVUaW1lLFxyXG4gICAgLy8gYWN0aW9uc1xyXG4gICAgdHJ5Q29uc3VtZTogKCkgPT4ge1xyXG4gICAgICBjb25zdCBub3cgPSBEYXRlLm5vdygpO1xyXG4gICAgICBpZiAoIWNhbkF0dGFjaykgcmV0dXJuIGZhbHNlO1xyXG4gICAgICBpZiAobm93IDwgbmV4dEZpcmVUaW1lKSByZXR1cm4gZmFsc2U7XHJcbiAgICAgIGlmIChhbW1vQ2hhcmdlcyA8PSAwKSByZXR1cm4gZmFsc2U7XHJcbiAgICAgIGFtbW9DaGFyZ2VzIC09IDE7XHJcbiAgICAgIG5leHRGaXJlVGltZSA9IG5vdyArIGFtbW9Db29sZG93bk1zO1xyXG4gICAgICAvLyBzdGFydC9yZXN0YXJ0IHJlbG9hZGluZyBpZiBub3QgZnVsbFxyXG4gICAgICBpZiAoYW1tb0NoYXJnZXMgPCBhbW1vQ2FwYWNpdHkgJiYgcmVsb2FkVGltZXJNcyA8PSAwKSByZWxvYWRUaW1lck1zID0gMDtcclxuICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9LFxyXG4gICAgZ3JhbnRDaGFyZ2U6IChuID0gMSkgPT4ge1xyXG4gICAgICBhbW1vQ2hhcmdlcyA9IE1hdGgubWluKGFtbW9DYXBhY2l0eSwgYW1tb0NoYXJnZXMgKyBuKTtcclxuICAgICAgaWYgKGFtbW9DaGFyZ2VzID49IGFtbW9DYXBhY2l0eSkgcmVsb2FkVGltZXJNcyA9IDA7XHJcbiAgICAgIGRyYXdBbW1vQmFyKCk7XHJcbiAgICB9LFxyXG4gICAgc2V0Q2FuQXR0YWNrOiAodikgPT4gKGNhbkF0dGFjayA9IHYpLFxyXG4gICAgc2V0SXNBdHRhY2tpbmc6ICh2KSA9PiAoaXNBdHRhY2tpbmcgPSB2KSxcclxuICAgIC8vIHZpZXdcclxuICAgIGRyYXdBbW1vQmFyOiAoKSA9PiBkcmF3QW1tb0JhcigpLFxyXG4gIH07XHJcblxyXG4gIGNvbnN0IGN0cmwgPSBjcmVhdGVDaGFyYWN0ZXJGb3IoY2hhcmFjdGVyLCB7XHJcbiAgICBzY2VuZSxcclxuICAgIHBsYXllcixcclxuICAgIHVzZXJuYW1lLFxyXG4gICAgZ2FtZUlkLFxyXG4gICAgb3Bwb25lbnRQbGF5ZXJzUmVmLFxyXG4gICAgbWFwT2JqZWN0cyxcclxuICAgIGFtbW9Ib29rcyxcclxuICB9KTtcclxuICBpZiAoY3RybCAmJiBjdHJsLmF0dGFjaElucHV0KSBjdHJsLmF0dGFjaElucHV0KCk7XHJcblxyXG4gIC8vIFBlci1jaGFyYWN0ZXIgZWZmZWN0czogaW5zdGFudGlhdGUgaWYgdGhlIGNoYXJhY3RlciBwcm92aWRlcyBhbiBFZmZlY3RzIGNsYXNzXHJcbiAgY29uc3QgRWZmZWN0c0NscyA9IGdldEVmZmVjdHNDbGFzcyhjdXJyZW50Q2hhcmFjdGVyKTtcclxuICBjaGFyRWZmZWN0cyA9IEVmZmVjdHNDbHMgPyBuZXcgRWZmZWN0c0NscyhzY2VuZSwgcGxheWVyKSA6IG51bGw7XHJcbn1cclxuXHJcbi8vIEZ1bmN0aW9uIHRvIHNldCBoZWFsdGggb2YgcGxheWVyIGZyb20gYW5vdGhlciBmaWxlXHJcbmZ1bmN0aW9uIHNldEN1cnJlbnRIZWFsdGgoZGFtYWdlKSB7XHJcbiAgLy8gRGVwcmVjYXRlZDogc2VydmVyIGF1dGhvcml0YXRpdmUuIEtlcHQgZm9yIGNvbXBhdGliaWxpdHkgKG5vLW9wIGRpc3BsYXkgdXBkYXRlIG9ubHkpXHJcbiAgY3VycmVudEhlYWx0aCAtPSBkYW1hZ2U7XHJcbiAgaWYgKGN1cnJlbnRIZWFsdGggPCAwKSBjdXJyZW50SGVhbHRoID0gMDtcclxuICB1cGRhdGVIZWFsdGhCYXIoKTtcclxufVxyXG5mdW5jdGlvbiB1cGRhdGVIZWFsdGhCYXIoKSB7XHJcbiAgaWYgKGN1cnJlbnRIZWFsdGggPD0gMCkgY3VycmVudEhlYWx0aCA9IDA7XHJcbiAgY29uc3QgaGVhbHRoUGVyY2VudGFnZSA9IGN1cnJlbnRIZWFsdGggLyBtYXhIZWFsdGg7XHJcbiAgY29uc3QgZGlzcGxheWVkV2lkdGggPSBoZWFsdGhCYXJXaWR0aCAqIGhlYWx0aFBlcmNlbnRhZ2U7XHJcbiAgcGRiZygpO1xyXG5cclxuICBoZWFsdGhCYXIuY2xlYXIoKTsgLy8gQ2xlYXIgdGhlIGdyYXBoaWNzIGJlZm9yZSByZWRyYXdpbmdcclxuXHJcbiAgY29uc3QgaGVhbHRoQmFyWCA9IHBsYXllci54IC0gaGVhbHRoQmFyV2lkdGggLyAyO1xyXG4gIGNvbnN0IGJvZHlUb3AgPSBwbGF5ZXIuYm9keSA/IHBsYXllci5ib2R5LnkgOiBwbGF5ZXIueSAtIHBsYXllci5oZWlnaHQgLyAyO1xyXG4gIC8vIEFsd2F5cyBhbmNob3IgdG8gYm9keVRvcCBzbyBpdCBkb2Vzbid0IGp1bXAgd2hlbiBkZWFkXHJcbiAgY29uc3QgeSA9IGJvZHlUb3AgLSAyMDsgLy8ganVzdCBhYm92ZSBib2R5XHJcblxyXG4gIGlmICghZGVhZCkge1xyXG4gICAgaGVhbHRoVGV4dC5zZXRUZXh0KGAke2N1cnJlbnRIZWFsdGh9YCk7XHJcbiAgfSBlbHNlIHtcclxuICAgIC8vIFNob3cgMCBpbnN0ZWFkIG9mIGJsYW5rIHdoZW4gZGVhZFxyXG4gICAgaGVhbHRoVGV4dC5zZXRUZXh0KGAwYCk7XHJcbiAgICBwbGF5ZXJOYW1lLnNldFBvc2l0aW9uKHBsYXllci54LCBwbGF5ZXJOYW1lLnkgKyAzMCk7XHJcbiAgfVxyXG5cclxuICAvLyBEcmF3IHRoZSBiYWNrZ3JvdW5kIHJlY3RhbmdsZSB3aXRoIHRoZSBkZWZhdWx0IGZpbGwgY29sb3JcclxuICBoZWFsdGhCYXIuZmlsbFN0eWxlKDB4NTk1OTU5KTtcclxuICBoZWFsdGhCYXIuZmlsbFJlY3QoaGVhbHRoQmFyWCwgeSwgaGVhbHRoQmFyV2lkdGgsIDkpO1xyXG5cclxuICAvLyBEcmF3IHRoZSBoZWFsdGggYmFyIGJhY2tncm91bmQgKHN0cm9rZSlcclxuICBoZWFsdGhCYXIubGluZVN0eWxlKDMsIDB4MDAwMDAwKTtcclxuICBoZWFsdGhCYXIuc3Ryb2tlUm91bmRlZFJlY3QoaGVhbHRoQmFyWCwgeSwgaGVhbHRoQmFyV2lkdGgsIDksIDMpO1xyXG5cclxuICAvLyBEcmF3IHRoZSBmaWxsZWQgcGFydCBvZiB0aGUgaGVhbHRoIGJhciAoZ3JlZW4pXHJcbiAgaGVhbHRoQmFyLmZpbGxTdHlsZSgweDk5YWIyYyk7XHJcbiAgaGVhbHRoQmFyLmZpbGxSb3VuZGVkUmVjdChoZWFsdGhCYXJYLCB5LCBkaXNwbGF5ZWRXaWR0aCwgOSwgMyk7XHJcblxyXG4gIGhlYWx0aFRleHQuc2V0UG9zaXRpb24ocGxheWVyLnggLSBoZWFsdGhUZXh0LndpZHRoIC8gMiwgeSAtIDgpO1xyXG4gIGhlYWx0aFRleHQuc2V0RGVwdGgoMik7XHJcblxyXG4gIC8vIERyYXcgYW1tbyBiYXIgdW5kZXJuZWF0aCBoZWFsdGggKG9ubHkgZm9yIGxvY2FsIHBsYXllciAmIHdoZW4gYWxpdmUpXHJcbiAgZHJhd0FtbW9CYXIoaGVhbHRoQmFyWCwgeSArIDExKTtcclxufVxyXG5cclxuZnVuY3Rpb24gZHJhd0FtbW9CYXIoZm9yY2VkWCwgZm9yY2VkWSkge1xyXG4gIGlmICghYW1tb0JhciB8fCAhYW1tb0JhckJhY2spIHJldHVybjtcclxuICBjb25zdCB4ID0gZm9yY2VkWCAhPT0gdW5kZWZpbmVkID8gZm9yY2VkWCA6IHBsYXllci54IC0gYW1tb0JhcldpZHRoIC8gMjtcclxuICBjb25zdCBib2R5VG9wID0gcGxheWVyLmJvZHkgPyBwbGF5ZXIuYm9keS55IDogcGxheWVyLnkgLSBwbGF5ZXIuaGVpZ2h0IC8gMjtcclxuICBjb25zdCB5ID0gZm9yY2VkWSAhPT0gdW5kZWZpbmVkID8gZm9yY2VkWSA6IGJvZHlUb3AgLSA5OyAvLyBqdXN0IHVuZGVyIGhlYWx0aCBiYXJcclxuICBhbW1vQmFyQmFjay5jbGVhcigpO1xyXG4gIGFtbW9CYXIuY2xlYXIoKTtcclxuXHJcbiAgLy8gQmFja2dyb3VuZFxyXG4gIGFtbW9CYXJCYWNrLmZpbGxTdHlsZSgweDIyMjIyMiwgMC42NSk7XHJcbiAgYW1tb0JhckJhY2suZmlsbFJvdW5kZWRSZWN0KHgsIHksIGFtbW9CYXJXaWR0aCwgNiwgMyk7XHJcbiAgYW1tb0JhckJhY2subGluZVN0eWxlKDIsIDB4MDAwMDAwLCAwLjkpO1xyXG4gIGFtbW9CYXJCYWNrLnN0cm9rZVJvdW5kZWRSZWN0KHgsIHksIGFtbW9CYXJXaWR0aCwgNiwgMyk7XHJcblxyXG4gIC8vIERyYXcgc2VnbWVudGVkIGNoYXJnZXMgKGxpa2UgQnJhd2wgU3RhcnMpXHJcbiAgY29uc3QgZ2FwID0gMjtcclxuICBjb25zdCBzZWdtZW50V2lkdGggPSAoYW1tb0JhcldpZHRoIC0gZ2FwICogKGFtbW9DYXBhY2l0eSAtIDEpKSAvIGFtbW9DYXBhY2l0eTtcclxuICBmb3IgKGxldCBpID0gMDsgaSA8IGFtbW9DYXBhY2l0eTsgaSsrKSB7XHJcbiAgICBjb25zdCBzZWdYID0geCArIGkgKiAoc2VnbWVudFdpZHRoICsgZ2FwKTtcclxuICAgIC8vIERldGVybWluZSBmaWxsIGZvciB0aGlzIHNlZ21lbnRcclxuICAgIGxldCBwZXJjZW50ID0gMDtcclxuICAgIGlmIChpIDwgYW1tb0NoYXJnZXMpIHtcclxuICAgICAgcGVyY2VudCA9IDE7IC8vIGZ1bGwgY2hhcmdlXHJcbiAgICB9IGVsc2UgaWYgKGkgPT09IGFtbW9DaGFyZ2VzKSB7XHJcbiAgICAgIC8vIGN1cnJlbnRseSByZWxvYWRpbmcgdGhpcyBzZWdtZW50OiBwZXJjZW50IGJhc2VkIG9uIHJlbG9hZCBwcm9ncmVzc1xyXG4gICAgICBwZXJjZW50ID0gUGhhc2VyLk1hdGguQ2xhbXAocmVsb2FkVGltZXJNcyAvIGFtbW9SZWxvYWRNcywgMCwgMSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBwZXJjZW50ID0gMDsgLy8gZnV0dXJlIHNlZ21lbnRzIGVtcHR5XHJcbiAgICB9XHJcbiAgICAvLyBDb2xvcnNcclxuICAgIGNvbnN0IGVtcHR5Q29sb3IgPSAweDMzMzMzMztcclxuICAgIGNvbnN0IHJlYWR5Q29sb3IgPSAweGZmNDA0MDtcclxuICAgIGNvbnN0IGNoYXJnaW5nQ29sb3IgPSAweGIzMjEyMTtcclxuICAgIGNvbnN0IGZpbGxDb2xvciA9IHBlcmNlbnQgPj0gMSA/IHJlYWR5Q29sb3IgOiBjaGFyZ2luZ0NvbG9yO1xyXG4gICAgLy8gRmlsbCBiYXNlIChlbXB0eSlcclxuICAgIGFtbW9CYXIuZmlsbFN0eWxlKGVtcHR5Q29sb3IsIDAuNSk7XHJcbiAgICBhbW1vQmFyLmZpbGxSb3VuZGVkUmVjdChzZWdYLCB5LCBzZWdtZW50V2lkdGgsIDYsIDIpO1xyXG4gICAgLy8gRmlsbCBjdXJyZW50IHBlcmNlbnRcclxuICAgIGlmIChwZXJjZW50ID4gMCkge1xyXG4gICAgICBhbW1vQmFyLmZpbGxTdHlsZShmaWxsQ29sb3IsIDAuOTUpO1xyXG4gICAgICBhbW1vQmFyLmZpbGxSb3VuZGVkUmVjdChzZWdYLCB5LCBzZWdtZW50V2lkdGggKiBwZXJjZW50LCA2LCAyKTtcclxuICAgIH1cclxuICB9XHJcbiAgYW1tb0Jhci5zZXREZXB0aCgyKTtcclxuICBhbW1vQmFyQmFjay5zZXREZXB0aCgxKTtcclxufVxyXG5cclxuZnVuY3Rpb24gY2FsY3VsYXRlU3Bhd24ocGxhdGZvcm0sIHNwYXduLCBwbGF5ZXIpIHtcclxuICBjb25zdCBhdmFpbGFibGVTcGFjZSA9IHBsYXRmb3JtLndpZHRoIC8gcGxheWVyc0luVGVhbTsgLy8gU3BhY2UgZm9yIGVhY2ggcGxheWVyXHJcbiAgY29uc3QgbGVmdE1vc3QgPSBwbGF0Zm9ybS5nZXRCb3VuZHMoKS5sZWZ0OyAvLyBMZWZ0bW9zdCB4IGNvcmQgb2YgdGhlIHBsYXRmb3JtXHJcbiAgY29uc3Qgc3Bhd25ZID0gcGxhdGZvcm0uZ2V0VG9wQ2VudGVyKCkueSAtIHBsYXllci5oZWlnaHQgLyAyOyAvLyBHZXRzIHkgY29yZGluYXRlIGZvciB0aGUgcGxheWVyIGJ5IGNhbGN1bGF0aW5nIHRoZSBjZW50ZXIgYW5kIHN1YnRyYWN0aW5nIGhhbGYgdGhlIHBsYXllciBoZWlnaHQuIFNpbmNlIHRoZSBwbGF5ZXIgeSBpcyBhdCB0aGUgY2VudGVyLlxyXG5cclxuICBjb25zdCBzcGF3blggPSBsZWZ0TW9zdCArIChzcGF3biAqIGF2YWlsYWJsZVNwYWNlKSAvIDIgLSBwbGF5ZXIud2lkdGggKiAxLjMzMzsgLy8gQ2FsY3VsYXRlcyBzcGF3bnggYnkgY29tYmluaW5nIGFsbCB0aGUgcHJldmlvdXMgdmFyaWFibGVzLiAxLjMzMyBpcyBtdWx0aXBsaWVkIHRvIHBlcmZlY3QgdGhlIHBvc2l0aW9uIG9mIHRoZSBzcGF3biBvdGhlcndpc2UgaXQgaXMgb2Zmc2V0IHRvIHRoZSByaWdodC5cclxuICBwbGF5ZXIueCA9IHNwYXduWDtcclxuICBwbGF5ZXIueSA9IHNwYXduWTtcclxufVxyXG5mdW5jdGlvbiBjYWxjdWxhdGVNYW5ncm92ZVNwYXduKHBvc2l0aW9uLCBzcGF3blBhcmFtLCBwbGF5ZXIpIHtcclxuICBsZXQgcGxhdGZvcm07XHJcbiAgbGV0IHNwYXduID0gU3RyaW5nKHNwYXduUGFyYW0pO1xyXG4gIGlmIChwb3NpdGlvbiA9PT0gXCJ0b3BcIikge1xyXG4gICAgaWYgKHNwYXduID09PSBcIjFcIikge1xyXG4gICAgICBwbGF0Zm9ybSA9IHRpbnlQbGF0Zm9ybTE7XHJcbiAgICB9IGVsc2UgaWYgKHNwYXduID09PSBcIjJcIikge1xyXG4gICAgICBwbGF0Zm9ybSA9IHRpbnlQbGF0Zm9ybTI7XHJcbiAgICB9IGVsc2UgaWYgKHNwYXduID09PSBcIjNcIikge1xyXG4gICAgICBwbGF0Zm9ybSA9IHRpbnlQbGF0Zm9ybTM7XHJcbiAgICB9XHJcbiAgfSBlbHNlIGlmIChwb3NpdGlvbiA9PT0gXCJib3R0b21cIikge1xyXG4gICAgaWYgKHNwYXduID09PSBcIjFcIikge1xyXG4gICAgICBwbGF0Zm9ybSA9IHRpbnlQbGF0Zm9ybTQ7XHJcbiAgICB9IGVsc2UgaWYgKHNwYXduID09PSBcIjJcIikge1xyXG4gICAgICBwbGF0Zm9ybSA9IHRpbnlQbGF0Zm9ybTU7XHJcbiAgICB9IGVsc2UgaWYgKHNwYXduID09PSBcIjNcIikge1xyXG4gICAgICBwbGF0Zm9ybSA9IHRpbnlQbGF0Zm9ybTY7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBjb25zdCBhdmFpbGFibGVTcGFjZSA9IHBsYXRmb3JtLndpZHRoO1xyXG4gIGNvbnN0IGxlZnRNb3N0ID0gcGxhdGZvcm0uZ2V0Qm91bmRzKCkubGVmdDsgLy8gTGVmdG1vc3QgeCBjb3JkIG9mIHRoZSBwbGF0Zm9ybVxyXG4gIGNvbnN0IHNwYXduWSA9IHBsYXRmb3JtLmdldFRvcENlbnRlcigpLnkgLSBwbGF5ZXIuaGVpZ2h0IC8gMjsgLy8gR2V0cyB5IGNvcmRpbmF0ZSBmb3IgdGhlIHBsYXllciBieSBjYWxjdWxhdGluZyB0aGUgY2VudGVyIGFuZCBzdWJ0cmFjdGluZyBoYWxmIHRoZSBwbGF5ZXIgaGVpZ2h0LiBTaW5jZSB0aGUgcGxheWVyIHkgaXMgYXQgdGhlIGNlbnRlci5cclxuXHJcbiAgY29uc3Qgc3Bhd25YID0gbGVmdE1vc3QgKyBhdmFpbGFibGVTcGFjZSAvIDIgLSBwbGF5ZXIud2lkdGg7XHJcbiAgcGxheWVyLnggPSBzcGF3blg7XHJcbiAgcGxheWVyLnkgPSBzcGF3blk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBoYW5kbGVQbGF5ZXJNb3ZlbWVudChzY2VuZSkge1xyXG4gIGNvbnN0IHNwZWVkID0gMjUwO1xyXG4gIGNvbnN0IGp1bXBTcGVlZCA9IDQwMDtcclxuXHJcbiAgLy8gS2V5cy4gUGxheWVyIGNhbiB1c2UgZWl0aGVyIGFycm93IGtleXMgb3IgV0FTRFxyXG4gIGNvbnN0IGxlZnRLZXkgPVxyXG4gICAgY3Vyc29ycy5sZWZ0LmlzRG93biB8fCBzY2VuZS5pbnB1dC5rZXlib2FyZC5hZGRLZXkoXCJBXCIpLmlzRG93bjtcclxuICBjb25zdCByaWdodEtleSA9XHJcbiAgICBjdXJzb3JzLnJpZ2h0LmlzRG93biB8fCBzY2VuZS5pbnB1dC5rZXlib2FyZC5hZGRLZXkoXCJEXCIpLmlzRG93bjtcclxuICBjb25zdCB1cEtleSA9IGN1cnNvcnMudXAuaXNEb3duIHx8IHNjZW5lLmlucHV0LmtleWJvYXJkLmFkZEtleShcIldcIikuaXNEb3duO1xyXG5cclxuICAvLyBMZWZ0IG1vdmVtZW50XHJcbiAgaWYgKGxlZnRLZXkpIHtcclxuICAgIGlmIChpbmRpY2F0b3JUcmlhbmdsZSkge1xyXG4gICAgICBpbmRpY2F0b3JUcmlhbmdsZS5jbGVhcigpOyAvLyBSZW1vdmVzIGluZGljYXRvciB0cmlhbmdsZSBpZiB0aGUgcGxheWVyIGhhcyBtb3ZlZFxyXG4gICAgfVxyXG4gICAgcGxheWVyLnNldFZlbG9jaXR5WCgtc3BlZWQpOyAvLyBTZXRzIHZlbG9jaXR5IHRvIG5lZ2F0aXZlIHNvIHRoYXQgaXQgbW92ZXMgbGVmdFxyXG4gICAgY29uc3Qgd2FzRmxpcCA9IHBsYXllci5mbGlwWDtcclxuICAgIHBsYXllci5mbGlwWCA9IHRydWU7IC8vIE1pcnJvcnMgdGhlIGJvZHkgb2YgdGhlIHBsYXllclxyXG4gICAgaWYgKHBsYXllci5mbGlwWCAhPT0gd2FzRmxpcCAmJiBhcHBseUZsaXBPZmZzZXRMb2NhbClcclxuICAgICAgYXBwbHlGbGlwT2Zmc2V0TG9jYWwoKTtcclxuICAgIGlzTW92aW5nID0gdHJ1ZTsgLy8gU2V0cyB0aGUgaXNNb3ZpbmcgdG8gdHJ1ZVxyXG4gICAgaWYgKHBsYXllci5ib2R5LnRvdWNoaW5nLmRvd24gJiYgIWlzQXR0YWNraW5nICYmICFkZWFkKSB7XHJcbiAgICAgIC8vIElmIHRoZSBwbGF5ZXIgaXMgbm90IGluIHRoZSBhaXIgb3IgYXR0YWNraW5nIG9yIGRlYWQsIGl0IHBsYXlzIHRoZSBydW5uaW5nIGFuaW1hdGlvblxyXG4gICAgICBwbGF5ZXIuYW5pbXMucGxheShcclxuICAgICAgICByZXNvbHZlQW5pbUtleShzY2VuZSwgY3VycmVudENoYXJhY3RlciwgXCJydW5uaW5nXCIpLFxyXG4gICAgICAgIHRydWVcclxuICAgICAgKTtcclxuICAgICAgLy8gRm9vdHN0ZXAgU0ZYIHRocm90dGxlZFxyXG4gICAgICBzZnhXYWxrQ29vbGRvd24gKz0gc2NlbmUuZ2FtZS5sb29wLmRlbHRhO1xyXG4gICAgICBpZiAoc2Z4V2Fsa0Nvb2xkb3duID49IDI4MCkge1xyXG4gICAgICAgIHNmeFdhbGtDb29sZG93biA9IDA7XHJcbiAgICAgICAgc2NlbmUuc291bmQucGxheShcInNmeC1zdGVwXCIsIHsgdm9sdW1lOiAwLjE4IH0pO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICAvLyBSaWdodCBtb3ZlbWVudFxyXG4gIH0gZWxzZSBpZiAocmlnaHRLZXkpIHtcclxuICAgIGlmIChpbmRpY2F0b3JUcmlhbmdsZSkge1xyXG4gICAgICBpbmRpY2F0b3JUcmlhbmdsZS5jbGVhcigpOyAvLyBSZW1vdmVzIGluZGljYXRvciB0cmlhbmdsZSBpZiB0aGUgcGxheWVyIGhhcyBtb3ZlZFxyXG4gICAgfVxyXG4gICAgY29uc3Qgd2FzRmxpcCA9IHBsYXllci5mbGlwWDtcclxuICAgIHBsYXllci5mbGlwWCA9IGZhbHNlOyAvLyBVbmRvcyB0aGUgbWlycm9yIG9mIHRoZSBwbGF5ZXJcclxuICAgIGlmIChwbGF5ZXIuZmxpcFggIT09IHdhc0ZsaXAgJiYgYXBwbHlGbGlwT2Zmc2V0TG9jYWwpXHJcbiAgICAgIGFwcGx5RmxpcE9mZnNldExvY2FsKCk7XHJcbiAgICBwbGF5ZXIuc2V0VmVsb2NpdHlYKHNwZWVkKTsgLy8gU2V0cyB2ZWxvY2l0eSB0b3J3YXJkcyByaWdodFxyXG4gICAgaXNNb3ZpbmcgPSB0cnVlOyAvLyBTZXRzIG1vdmluZyB2YXJpYWJsZVxyXG4gICAgaWYgKHBsYXllci5ib2R5LnRvdWNoaW5nLmRvd24gJiYgIWlzQXR0YWNraW5nICYmICFkZWFkKSB7XHJcbiAgICAgIC8vIElmIHRoZSBwbGF5ZXIgaXMgbm90IGluIHRoZSBhaXIgb3IgYXR0YWNraW5nIG9yIGRlYWQsIGl0IHBsYXlzIHRoZSBydW5uaW5nIGFuaW1hdGlvblxyXG4gICAgICBwbGF5ZXIuYW5pbXMucGxheShcclxuICAgICAgICByZXNvbHZlQW5pbUtleShzY2VuZSwgY3VycmVudENoYXJhY3RlciwgXCJydW5uaW5nXCIpLFxyXG4gICAgICAgIHRydWVcclxuICAgICAgKTtcclxuICAgICAgLy8gRm9vdHN0ZXAgU0ZYIHRocm90dGxlZFxyXG4gICAgICBzZnhXYWxrQ29vbGRvd24gKz0gc2NlbmUuZ2FtZS5sb29wLmRlbHRhO1xyXG4gICAgICBpZiAoc2Z4V2Fsa0Nvb2xkb3duID49IDI4MCkge1xyXG4gICAgICAgIHNmeFdhbGtDb29sZG93biA9IDA7XHJcbiAgICAgICAgc2NlbmUuc291bmQucGxheShcInNmeC1zdGVwXCIsIHsgdm9sdW1lOiAwLjIgfSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9IGVsc2Uge1xyXG4gICAgc3RvcE1vdmluZygpOyAvLyBJZiBubyBrZXkgaXMgYmVpbmcgcHJlc3NlZCwgaXQgY2FsbHMgdGhlIHN0b3AgbW92aW5nIGZ1bmN0aW9uXHJcbiAgfVxyXG5cclxuICAvLyBKdW1waW5nXHJcbiAgaWYgKHVwS2V5ICYmIHBsYXllci5ib2R5LnRvdWNoaW5nLmRvd24gJiYgIWRlYWQpIHtcclxuICAgIC8vIElmIHBsYXllciBpcyB0b3VjaGluZyBncm91bmQgYW5kIGp1bXBpbmdcclxuICAgIGlmIChpbmRpY2F0b3JUcmlhbmdsZSkge1xyXG4gICAgICBpbmRpY2F0b3JUcmlhbmdsZS5jbGVhcigpOyAvLyBSZW1vdmVzIGluZGljYXRvciB0cmlhbmdsZSBpZiB0aGUgcGxheWVyIGhhcyBqdW1wZWRcclxuICAgIH1cclxuICAgIGp1bXAoKTsgLy8gQ2FsbHMganVtcFxyXG4gICAgc2NlbmUuc291bmQucGxheShcInNmeC1qdW1wXCIsIHsgdm9sdW1lOiAwLjYgfSk7XHJcbiAgfSBlbHNlIGlmIChcclxuICAgIC8vIElmIHBsYXllciBpcyB0b3VjaGluZyBhIHdhbGwgd2hpbGUganVtcGluZ1xyXG4gICAgKHBsYXllci5ib2R5LnRvdWNoaW5nLmxlZnQgfHwgKHBsYXllci5ib2R5LnRvdWNoaW5nLnJpZ2h0ICYmICFkZWFkKSkgJiZcclxuICAgIGNhbldhbGxKdW1wICYmXHJcbiAgICB1cEtleVxyXG4gICkge1xyXG4gICAgd2FsbEp1bXAoKTsgLy8gQ2FsbHMgd2FsbGp1bXBcclxuICAgIHNjZW5lLnNvdW5kLnBsYXkoXCJzZngtd2FsbGp1bXBcIiwgeyB2b2x1bWU6IDAuOSB9KTtcclxuICB9XHJcbiAgaWYgKFxyXG4gICAgKHBsYXllci5ib2R5LnRvdWNoaW5nLmxlZnQgfHwgKHBsYXllci5ib2R5LnRvdWNoaW5nLnJpZ2h0ICYmICFkZWFkKSkgJiZcclxuICAgICFpc0F0dGFja2luZ1xyXG4gICkge1xyXG4gICAgcGxheWVyLmFuaW1zLnBsYXkocmVzb2x2ZUFuaW1LZXkoc2NlbmUsIGN1cnJlbnRDaGFyYWN0ZXIsIFwic2xpZGluZ1wiKSwgdHJ1ZSk7IC8vIFBsYXlzIHNsaWRpbmcgYW5pbWF0aW9uXHJcbiAgfVxyXG5cclxuICAvLyBDaGVjayBpZiB0aGUganVtcCBhbmltYXRpb24gaGFzIGNvbXBsZXRlZFxyXG4gIGlmIChcclxuICAgICFwbGF5ZXIuYW5pbXMuaXNQbGF5aW5nICYmXHJcbiAgICAhcGxheWVyLmJvZHkudG91Y2hpbmcuZG93biAmJlxyXG4gICAgIXBsYXllci5ib2R5LnRvdWNoaW5nLmxlZnQgJiZcclxuICAgICFwbGF5ZXIuYm9keS50b3VjaGluZy5yaWdodFxyXG4gICkge1xyXG4gICAgZmFsbCgpOyAvLyBQbGF5cyBmYWxsaW5nIGFuaW1hdGlvbiBpZiB0aGUgcGxheWVyIGlzIG5vdCB0b3VjaGluZyBhIHdhbGwgb3IgaWYgYW55IG90aGVyIGFuaW1hdGlvbiBpcyBwbGF5aW5nXHJcbiAgfVxyXG5cclxuICAvLyBJZiBubyBtb3ZlbWVudCBhbmltYXRpb25zIGFyZSBwbGF5aW5nLCBwbGF5IHRoZSAnaWRsZScgYW5pbWF0aW9uXHJcbiAgaWYgKFxyXG4gICAgIWlzTW92aW5nICYmXHJcbiAgICBwbGF5ZXIuYm9keS50b3VjaGluZy5kb3duICYmXHJcbiAgICAhaXNKdW1waW5nICYmXHJcbiAgICAhaXNBdHRhY2tpbmcgJiZcclxuICAgICFkZWFkXHJcbiAgKSB7XHJcbiAgICBpZGxlKCk7XHJcbiAgfVxyXG5cclxuICB1cGRhdGVIZWFsdGhCYXIoKTsgLy8gVXBkYXRlcyB0aGUgaGVhbHRoIGJhciBhZnRlciB0aGUgbmV3IHBsYXllciBwb3NpdGlvblxyXG4gIC8vIEtlZXAgbmFtZSBhbmNob3JlZCB0byBib2R5IHRvcCByZWdhcmRsZXNzIG9mIGZyYW1lIHBhZGRpbmdcclxuICBjb25zdCB1aVRvcCA9IHBsYXllci5ib2R5ID8gcGxheWVyLmJvZHkueSA6IHBsYXllci55IC0gcGxheWVyLmhlaWdodCAvIDI7XHJcbiAgcGxheWVyTmFtZS5zZXRQb3NpdGlvbihwbGF5ZXIueCwgdWlUb3AgLSAyMik7XHJcblxyXG4gIC8vIExhbmRpbmcgZGV0ZWN0aW9uICh0cmFuc2l0aW9uIGFpcmJvcm5lIC0+IGdyb3VuZGVkKVxyXG4gIGNvbnN0IG9uR3JvdW5kID0gcGxheWVyLmJvZHkudG91Y2hpbmcuZG93bjtcclxuICBpZiAoIXdhc09uR3JvdW5kICYmIG9uR3JvdW5kICYmICFkZWFkKSB7XHJcbiAgICBzY2VuZS5zb3VuZC5wbGF5KFwic2Z4LWxhbmRcIiwgeyB2b2x1bWU6IDAuOCB9KTtcclxuICB9XHJcbiAgd2FzT25Hcm91bmQgPSBvbkdyb3VuZDtcclxuXHJcbiAgLy8gQW1tbyByZWxvYWQgdGlja1xyXG4gIGlmIChhbW1vQ2hhcmdlcyA8IGFtbW9DYXBhY2l0eSkge1xyXG4gICAgcmVsb2FkVGltZXJNcyArPSBzY2VuZS5nYW1lLmxvb3AuZGVsdGE7XHJcbiAgICBpZiAocmVsb2FkVGltZXJNcyA+PSBhbW1vUmVsb2FkTXMpIHtcclxuICAgICAgcmVsb2FkVGltZXJNcyA9IDA7XHJcbiAgICAgIGFtbW9DaGFyZ2VzID0gTWF0aC5taW4oYW1tb0NhcGFjaXR5LCBhbW1vQ2hhcmdlcyArIDEpO1xyXG4gICAgfVxyXG4gIH0gZWxzZSB7XHJcbiAgICByZWxvYWRUaW1lck1zID0gMDsgLy8gZnVsbCwgbm8gcmVsb2FkIHByb2dyZXNzXHJcbiAgfVxyXG4gIC8vIFJlZHJhdyBhbW1vIGJhciBwZXJpb2RpY2FsbHkgKGNoZWFwIGRyYXcpXHJcbiAgaWYgKCFkZWFkKSBkcmF3QW1tb0JhcigpO1xyXG5cclxuICAvLyBQZXItY2hhcmFjdGVyIGVmZmVjdHMgdXBkYXRlIChlLmcuLCBEcmF2ZW4gZmlyZSB0cmFpbClcclxuICBpZiAoY2hhckVmZmVjdHMpIHtcclxuICAgIGNoYXJFZmZlY3RzLnVwZGF0ZShzY2VuZS5nYW1lLmxvb3AuZGVsdGEsIGlzTW92aW5nLCBkZWFkKTtcclxuICB9XHJcblxyXG4gIGR1c3RUaW1lciArPSBzY2VuZS5nYW1lLmxvb3AuZGVsdGE7XHJcblxyXG4gIC8vIEdyb3VuZCBydW5uaW5nIGR1c3QgKG9ubHkgd2hpbGUgb24gZ3JvdW5kICYgbW92aW5nKVxyXG4gIGlmIChcclxuICAgICFkZWFkICYmXHJcbiAgICBpc01vdmluZyAmJlxyXG4gICAgcGxheWVyLmJvZHkudG91Y2hpbmcuZG93biAmJlxyXG4gICAgZHVzdFRpbWVyID49IGR1c3RJbnRlcnZhbFxyXG4gICkge1xyXG4gICAgZHVzdFRpbWVyID0gMDtcclxuICAgIC8vIFNwYXduIGF0IHRoZSBwaHlzaWNzIGJvZHkncyBib3R0b20gdG8gYWNjb3VudCBmb3IgcGVyLWNoYXJhY3RlciBmcmFtZSBzaXppbmdcclxuICAgIGNvbnN0IGJvZHlCb3R0b20gPSBwbGF5ZXIuYm9keVxyXG4gICAgICA/IHBsYXllci5ib2R5LnkgKyBwbGF5ZXIuYm9keS5oZWlnaHRcclxuICAgICAgOiBwbGF5ZXIueSArIHBsYXllci5oZWlnaHQgLyAyO1xyXG4gICAgY29uc3QgZHVzdFkgPSBib2R5Qm90dG9tIC0gMjsgLy8gc2xpZ2h0IGxpZnQgdG8gYXZvaWQgei1maWdodGluZ1xyXG4gICAgY29uc3QgZHVzdFggPSBwbGF5ZXIueCArIChwbGF5ZXIuZmxpcFggPyAtMTggOiAxOCkgKiAwLjM7XHJcbiAgICBzcGF3bkR1c3Qoc2NlbmUsIGR1c3RYLCBkdXN0WSk7XHJcbiAgICBpZiAoTWF0aC5yYW5kb20oKSA8IDAuMykge1xyXG4gICAgICAvLyBvY2Nhc2lvbmFsIGV4dHJhIHB1ZmYgZm9yIHZhcmlhYmlsaXR5XHJcbiAgICAgIHNwYXduRHVzdChcclxuICAgICAgICBzY2VuZSxcclxuICAgICAgICBkdXN0WCArIFBoYXNlci5NYXRoLkJldHdlZW4oLTYsIDYpLFxyXG4gICAgICAgIGR1c3RZICsgUGhhc2VyLk1hdGguQmV0d2VlbigtMiwgMilcclxuICAgICAgKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIHN0b3BNb3ZpbmcoKSB7XHJcbiAgICBwbGF5ZXIuc2V0VmVsb2NpdHlYKDApOyAvLyBTZXRzIHRoZSBwbGF5ZXIgdG8gbm90IG1vdmluZ1xyXG4gICAgaXNNb3ZpbmcgPSBmYWxzZTtcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIGp1bXAoKSB7XHJcbiAgICBwbGF5ZXIuYW5pbXMucGxheShyZXNvbHZlQW5pbUtleShzY2VuZSwgY3VycmVudENoYXJhY3RlciwgXCJqdW1waW5nXCIpLCB0cnVlKTtcclxuICAgIHBkYmcoKTtcclxuICAgIHBsYXllci5zZXRWZWxvY2l0eVkoLWp1bXBTcGVlZCk7XHJcbiAgICBpc01vdmluZyA9IHRydWU7XHJcbiAgICBpc0p1bXBpbmcgPSB0cnVlO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gd2FsbEp1bXAoKSB7XHJcbiAgICBjYW5XYWxsSnVtcCA9IGZhbHNlO1xyXG4gICAgcGxheWVyLmFuaW1zLnBsYXkocmVzb2x2ZUFuaW1LZXkoc2NlbmUsIGN1cnJlbnRDaGFyYWN0ZXIsIFwic2xpZGluZ1wiKSwgdHJ1ZSk7XHJcbiAgICBwZGJnKCk7XHJcbiAgICBwbGF5ZXIuc2V0VmVsb2NpdHlZKC1qdW1wU3BlZWQpO1xyXG4gICAgLy8gSG9yaXpvbnRhbCBraWNrIGFuZCBzb3VuZCBoYW5kbGVkIGFib3ZlXHJcblxyXG4gICAgY29uc3Qgd2FsbEp1bXBUd2VlbiA9IHNjZW5lLnR3ZWVucy5hZGQoe1xyXG4gICAgICAvLyBUaGlzIHR3ZWVuIHNtb290aHMgdGhlIGtpY2tiYWNrIGZyb20gdGhlIHdhbGxqdW1wXHJcbiAgICAgIHRhcmdldHM6IHBsYXllcixcclxuICAgICAgeDogcGxheWVyLnggKyAocGxheWVyLmJvZHkudG91Y2hpbmcubGVmdCA/IDUwIDogLTUwKSwgLy8gTW92ZXMgdGhlIHBsYXllciAtNTAgb3IgNTAgY29yZHMgYXdheSBkZXBlbmRpbmcgb24gcG9zaXRpb25cclxuICAgICAgZHVyYXRpb246IDIwMCxcclxuICAgICAgZWFzZTogXCJMaW5lYXJcIixcclxuICAgICAgb25Db21wbGV0ZTogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGNhbldhbGxKdW1wID0gdHJ1ZTtcclxuICAgICAgfSxcclxuICAgIH0pO1xyXG4gICAgd2FsbEp1bXBUd2Vlbi5wbGF5KCk7IC8vIFBsYXlzIHRoZSB0d2VlblxyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gZmFsbCgpIHtcclxuICAgIHBsYXllci5hbmltcy5wbGF5KHJlc29sdmVBbmltS2V5KHNjZW5lLCBjdXJyZW50Q2hhcmFjdGVyLCBcImZhbGxpbmdcIiksIHRydWUpO1xyXG4gICAgcGRiZygpO1xyXG4gICAgaXNKdW1waW5nID0gZmFsc2U7XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBpZGxlKCkge1xyXG4gICAgcGxheWVyLmFuaW1zLnBsYXkocmVzb2x2ZUFuaW1LZXkoc2NlbmUsIGN1cnJlbnRDaGFyYWN0ZXIsIFwiaWRsZVwiKSwgdHJ1ZSk7XHJcbiAgICBwZGJnKCk7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQge1xyXG4gIHBsYXllcixcclxuICBmcmFtZSxcclxuICBjdXJyZW50SGVhbHRoLFxyXG4gIHNldEN1cnJlbnRIZWFsdGgsXHJcbiAgZGVhZCxcclxuICBjYWxjdWxhdGVTcGF3bixcclxuICBjYWxjdWxhdGVNYW5ncm92ZVNwYXduLFxyXG59O1xyXG5cclxuLy8gTGlzdGVuIGZvciBhdXRob3JpdGF0aXZlIGhlYWx0aCB1cGRhdGVzIGZyb20gc2VydmVyXHJcbnNvY2tldC5vbihcImhlYWx0aC11cGRhdGVcIiwgKGRhdGEpID0+IHtcclxuICBpZiAoZGF0YS5nYW1lSWQgIT09IGdhbWVJZCkgcmV0dXJuO1xyXG4gIGlmIChkYXRhLnVzZXJuYW1lID09PSB1c2VybmFtZSkge1xyXG4gICAgY29uc3QgcHJldiA9IGN1cnJlbnRIZWFsdGg7XHJcbiAgICBjdXJyZW50SGVhbHRoID0gZGF0YS5oZWFsdGg7XHJcbiAgICBwZGJnKCk7XHJcbiAgICAvLyBTRlg6IHBsYXkgZGFtYWdlIHZzIGhlYWwgZmVlZGJhY2tcclxuICAgIGlmIChzY2VuZSAmJiBzY2VuZS5zb3VuZCAmJiAhZGVhZCkge1xyXG4gICAgICBjb25zdCBkZWx0YSA9IGN1cnJlbnRIZWFsdGggLSBwcmV2O1xyXG4gICAgICBpZiAoZGVsdGEgPCAwKSB7XHJcbiAgICAgICAgLy8gVG9vayBkYW1hZ2VcclxuICAgICAgICBzY2VuZS5zb3VuZC5wbGF5KFwic2Z4LWRhbWFnZVwiLCB7IHZvbHVtZTogMC4xIH0pO1xyXG4gICAgICB9IGVsc2UgaWYgKGRlbHRhID4gMCkge1xyXG4gICAgICAgIGNvbnN0IHMgPSBzY2VuZS5zb3VuZC5hZGQoXCJzZngtaGVhbFwiLCB7IHZvbHVtZTogMC4xIH0pO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICBpZiAoY3VycmVudEhlYWx0aCA8PSAwKSB7XHJcbiAgICAgIGlmICghZGVhZCkge1xyXG4gICAgICAgIGRlYWQgPSB0cnVlO1xyXG4gICAgICAgIHBsYXllci5hbmltcy5wbGF5KFxyXG4gICAgICAgICAgcmVzb2x2ZUFuaW1LZXkoc2NlbmUsIGN1cnJlbnRDaGFyYWN0ZXIsIFwiZHlpbmdcIiksXHJcbiAgICAgICAgICB0cnVlXHJcbiAgICAgICAgKTtcclxuICAgICAgICBzY2VuZS5pbnB1dC5lbmFibGVkID0gZmFsc2U7XHJcbiAgICAgICAgcGxheWVyLmFscGhhID0gMC41O1xyXG4gICAgICAgIHBkYmcoKTtcclxuICAgICAgfVxyXG4gICAgICBjdXJyZW50SGVhbHRoID0gMDsgLy8gZm9yY2UgZXhhY3QgMFxyXG4gICAgfVxyXG4gICAgdXBkYXRlSGVhbHRoQmFyKCk7IC8vIGFsd2F5cyByZWZyZXNoIChjb3ZlcnMgZGVhdGggY2FzZSB3aGVyZSBtb3ZlbWVudCBsb29wIHN0b3BzKVxyXG4gIH1cclxufSk7XHJcbiIsIi8vIG9wcGxheWVyLmpzXHJcblxyXG5pbXBvcnQgeyBiYXNlLCBwbGF0Zm9ybSB9IGZyb20gXCIuL21hcHMvbHVzaHlQZWFrc1wiO1xyXG5pbXBvcnQgeyBjYWxjdWxhdGVTcGF3biwgY2FsY3VsYXRlTWFuZ3JvdmVTcGF3biB9IGZyb20gXCIuL3BsYXllclwiO1xyXG5pbXBvcnQge1xyXG4gIGdldFRleHR1cmVLZXksXHJcbiAgcmVzb2x2ZUFuaW1LZXksXHJcbiAgZ2V0U3RhdHMsXHJcbiAgZ2V0RWZmZWN0c0NsYXNzLFxyXG59IGZyb20gXCIuL2NoYXJhY3RlcnNcIjtcclxuaW1wb3J0IHNvY2tldCBmcm9tIFwiLi9zb2NrZXRcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE9wUGxheWVyIHtcclxuICBjb25zdHJ1Y3RvcihcclxuICAgIHNjZW5lLFxyXG4gICAgY2hhcmFjdGVyLFxyXG4gICAgdXNlcm5hbWUsXHJcbiAgICB0ZWFtLFxyXG4gICAgc3Bhd25QbGF0Zm9ybSxcclxuICAgIHNwYXduLFxyXG4gICAgcGxheWVyc0luVGVhbSxcclxuICAgIG1hcFxyXG4gICkge1xyXG4gICAgdGhpcy5zY2VuZSA9IHNjZW5lO1xyXG4gICAgdGhpcy5jaGFyYWN0ZXIgPSBjaGFyYWN0ZXI7XHJcbiAgICB0aGlzLnVzZXJuYW1lID0gdXNlcm5hbWU7XHJcbiAgICB0aGlzLnRlYW0gPSB0ZWFtO1xyXG4gICAgdGhpcy5zcGF3blBsYXRmb3JtID0gc3Bhd25QbGF0Zm9ybTtcclxuICAgIHRoaXMuc3Bhd24gPSBzcGF3bjtcclxuICAgIHRoaXMubWFwID0gbWFwO1xyXG4gICAgdGhpcy5tYXBPYmplY3RzO1xyXG4gICAgdGhpcy5wbGF5ZXJzSW5UZWFtID0gcGxheWVyc0luVGVhbTtcclxuICAgIHRoaXMub3BNYXhIZWFsdGggPSA4MDAwO1xyXG4gICAgdGhpcy5vcEN1cnJlbnRIZWFsdGggPSA4MDAwO1xyXG4gICAgdGhpcy5vcEhlYWx0aEJhcldpZHRoID0gNjA7XHJcbiAgICB0aGlzLm1vdmVtZW50VHdlZW4gPSBudWxsOyAvLyBTdG9yZSByZWZlcmVuY2UgdG8gY3VycmVudCBtb3ZlbWVudCB0d2VlblxyXG4gICAgdGhpcy5lZmZlY3RzID0gbnVsbDsgLy8gcGVyLW9wcG9uZW50IGVmZmVjdHMgKGUuZy4sIERyYXZlbiBmaXJlKVxyXG4gICAgdGhpcy5jcmVhdGVPcFBsYXllcigpO1xyXG4gIH1cclxuXHJcbiAgY3JlYXRlT3BQbGF5ZXIoKSB7XHJcbiAgICAvLyBDcmVhdGVzIHRoZSBzcHJpdGVcclxuICAgIGNvbnN0IHRleHR1cmVLZXkgPSBnZXRUZXh0dXJlS2V5KHRoaXMuY2hhcmFjdGVyKTtcclxuICAgIHRoaXMub3Bwb25lbnQgPSB0aGlzLnNjZW5lLnBoeXNpY3MuYWRkLnNwcml0ZSgtMTAwLCAtMTAwLCB0ZXh0dXJlS2V5KTtcclxuICAgIC8vIEF2b2lkIGZpcnN0LWZyYW1lIHBvcDogaGlkZSB1bnRpbCBmcmFtZS9ib2R5IGNvbmZpZ3VyZWQgYW5kIHNwYXduIGFwcGxpZWRcclxuICAgIHRoaXMub3Bwb25lbnQuc2V0VmlzaWJsZShmYWxzZSk7XHJcbiAgICBjb25zdCBzdGF0cyA9IGdldFN0YXRzKHRoaXMuY2hhcmFjdGVyKTtcclxuICAgIHRoaXMuYm9keUNvbmZpZyA9IChzdGF0cyAmJiBzdGF0cy5ib2R5KSB8fCB7fTtcclxuICAgIC8vIEFwcGx5IHBlci1jaGFyYWN0ZXIgbWF4IGhlYWx0aCBmb3IgY29ycmVjdCBiYXIgc2NhbGluZ1xyXG4gICAgaWYgKHN0YXRzICYmIHR5cGVvZiBzdGF0cy5tYXhIZWFsdGggPT09IFwibnVtYmVyXCIpIHtcclxuICAgICAgdGhpcy5vcE1heEhlYWx0aCA9IHN0YXRzLm1heEhlYWx0aDtcclxuICAgICAgdGhpcy5vcEN1cnJlbnRIZWFsdGggPSB0aGlzLm9wTWF4SGVhbHRoO1xyXG4gICAgfVxyXG4gICAgaWYgKHN0YXRzLnNwcml0ZVNjYWxlICYmIHN0YXRzLnNwcml0ZVNjYWxlICE9PSAxKSB7XHJcbiAgICAgIHRoaXMub3Bwb25lbnQuc2V0U2NhbGUoc3RhdHMuc3ByaXRlU2NhbGUpO1xyXG4gICAgfVxyXG4gICAgdGhpcy5vcHBvbmVudC5ib2R5LmFsbG93R3Jhdml0eSA9IGZhbHNlO1xyXG4gICAgdGhpcy5vcHBvbmVudC5hbmltcy5wbGF5KFxyXG4gICAgICByZXNvbHZlQW5pbUtleSh0aGlzLnNjZW5lLCB0aGlzLmNoYXJhY3RlciwgXCJpZGxlXCIpLFxyXG4gICAgICB0cnVlXHJcbiAgICApO1xyXG5cclxuICAgIC8vIENvbmZpZ3VyZSBmcmFtZS9ib2R5IEJFRk9SRSBjb21wdXRpbmcgc3Bhd24gZm9yIGNvcnJlY3QgaW5pdGlhbCBncm91bmRpbmdcclxuICAgIHRoaXMub3BGcmFtZSA9IHRoaXMub3Bwb25lbnQuZnJhbWU7XHJcbiAgICBjb25zdCBicyA9IHRoaXMuYm9keUNvbmZpZztcclxuICAgIGNvbnN0IHdpZHRoU2hyaW5rID0gYnMud2lkdGhTaHJpbmsgPz8gMzU7XHJcbiAgICBjb25zdCBoZWlnaHRTaHJpbmsgPSBicy5oZWlnaHRTaHJpbmsgPz8gMTA7XHJcbiAgICB0aGlzLm9wcG9uZW50LmJvZHkuc2V0U2l6ZShcclxuICAgICAgdGhpcy5vcEZyYW1lLndpZHRoIC0gd2lkdGhTaHJpbmssXHJcbiAgICAgIHRoaXMub3BGcmFtZS5oZWlnaHQgLSBoZWlnaHRTaHJpbmtcclxuICAgICk7XHJcbiAgICB0aGlzLmFwcGx5RmxpcE9mZnNldCgpO1xyXG5cclxuICAgIC8vIFBlci1jaGFyYWN0ZXIgZWZmZWN0czogaW5zdGFudGlhdGUgaWYgYXZhaWxhYmxlIGZvciB0aGlzIGNoYXJhY3RlclxyXG4gICAgY29uc3QgRWZmZWN0c0NscyA9IGdldEVmZmVjdHNDbGFzcyh0aGlzLmNoYXJhY3Rlcik7XHJcbiAgICBpZiAoRWZmZWN0c0Nscykge1xyXG4gICAgICB0aGlzLmVmZmVjdHMgPSBuZXcgRWZmZWN0c0Nscyh0aGlzLnNjZW5lLCB0aGlzLm9wcG9uZW50KTtcclxuICAgICAgdGhpcy5zY2VuZS5ldmVudHMub24oXCJ1cGRhdGVcIiwgdGhpcy5fb25TY2VuZVVwZGF0ZSwgdGhpcyk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gU2V0cyBzcGF3bnNcclxuICAgIGlmICh0aGlzLnNwYXduUGxhdGZvcm0gPT09IFwiYm90dG9tXCIpIHtcclxuICAgICAgaWYgKHRoaXMubWFwID09PSBcIjFcIikge1xyXG4gICAgICAgIGNhbGN1bGF0ZVNwYXduKGJhc2UsIHRoaXMuc3Bhd24sIHRoaXMub3Bwb25lbnQpO1xyXG4gICAgICB9IGVsc2UgaWYgKHRoaXMubWFwID09PSBcIjJcIikge1xyXG4gICAgICAgIGNhbGN1bGF0ZU1hbmdyb3ZlU3Bhd24oXCJib3R0b21cIiwgdGhpcy5zcGF3biwgdGhpcy5vcHBvbmVudCk7XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSBpZiAodGhpcy5zcGF3blBsYXRmb3JtID09PSBcInRvcFwiKSB7XHJcbiAgICAgIGlmICh0aGlzLm1hcCA9PT0gXCIxXCIpIHtcclxuICAgICAgICBjYWxjdWxhdGVTcGF3bihwbGF0Zm9ybSwgdGhpcy5zcGF3biwgdGhpcy5vcHBvbmVudCk7XHJcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5tYXAgPT09IFwiMlwiKSB7XHJcbiAgICAgICAgY2FsY3VsYXRlTWFuZ3JvdmVTcGF3bihcInRvcFwiLCB0aGlzLnNwYXduLCB0aGlzLm9wcG9uZW50KTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIFJldmVhbCBvbmx5IGFmdGVyIHBvc2l0aW9uIGlzIGZpbmFsaXplZFxyXG4gICAgdGhpcy5vcHBvbmVudC5zZXRWaXNpYmxlKHRydWUpO1xyXG5cclxuICAgIC8vIFNldHMgdGhlIHRleHQgb2YgdGhlIG5hbWUgdG8gdXNlcm5hbWVcclxuICAgIGNvbnN0IGJvZHlUb3AgPSB0aGlzLm9wcG9uZW50LmJvZHlcclxuICAgICAgPyB0aGlzLm9wcG9uZW50LmJvZHkueVxyXG4gICAgICA6IHRoaXMub3Bwb25lbnQueSAtIHRoaXMub3Bwb25lbnQuaGVpZ2h0IC8gMjtcclxuICAgIHRoaXMub3BQbGF5ZXJOYW1lID0gdGhpcy5zY2VuZS5hZGQudGV4dChcclxuICAgICAgdGhpcy5vcHBvbmVudC54LFxyXG4gICAgICBib2R5VG9wIC0gMzYsXHJcbiAgICAgIHRoaXMudXNlcm5hbWVcclxuICAgICk7XHJcbiAgICB0aGlzLm9wUGxheWVyTmFtZS5zZXRTdHlsZSh7XHJcbiAgICAgIGZvbnQ6IFwiYm9sZCA4cHQgQXJpYWxcIixcclxuICAgICAgZmlsbDogXCIjMDAwMDAwXCIsXHJcbiAgICB9KTtcclxuICAgIHRoaXMub3BQbGF5ZXJOYW1lLnNldE9yaWdpbigwLjUsIDApO1xyXG4gICAgdGhpcy5vcFBsYXllck5hbWUuc2V0RGVwdGgoMyk7IC8vIGFib3ZlIGhlYWx0aCB0ZXh0XHJcblxyXG4gICAgdGhpcy5vcEhlYWx0aFRleHQgPSB0aGlzLnNjZW5lLmFkZC50ZXh0KDAsIDAsIFwiXCIsIHtcclxuICAgICAgZm9udEZhbWlseTogXCJBcmlhbFwiLFxyXG4gICAgICBmb250U2l6ZTogXCIxMHB4XCIsXHJcbiAgICAgIGNvbG9yOiBcIiNGRkZGRkZcIixcclxuICAgICAgc3Ryb2tlOiBcIiMwMDAwMDBcIixcclxuICAgICAgc3Ryb2tlVGhpY2tuZXNzOiA0LFxyXG4gICAgfSk7XHJcblxyXG4gICAgdGhpcy5vcEhlYWx0aEJhciA9IHRoaXMuc2NlbmUuYWRkLmdyYXBoaWNzKCk7XHJcblxyXG4gICAgLy8gSW5pdGlhbGx5IHVwZGF0ZXMgaGVhbHRoIGJhciBhbmQgbmFtZSBwb3NpdGlvbmluZ1xyXG4gICAgdGhpcy51cGRhdGVIZWFsdGhCYXIoKTtcclxuICAgIHRoaXMudXBkYXRlVUlQb3NpdGlvbigpO1xyXG5cclxuICAgIC8vIExpc3RlbiBmb3IgaGVhbHRoIHVwZGF0ZXMgZm9yIHRoaXMgb3Bwb25lbnRcclxuICAgIHNvY2tldC5vbihcImhlYWx0aC11cGRhdGVcIiwgKGRhdGEpID0+IHtcclxuICAgICAgLy8gZGF0YTogeyB1c2VybmFtZSwgaGVhbHRoLCBnYW1lSWQgfVxyXG4gICAgICBpZiAoZGF0YS51c2VybmFtZSA9PT0gdGhpcy51c2VybmFtZSkge1xyXG4gICAgICAgIHRoaXMub3BDdXJyZW50SGVhbHRoID0gZGF0YS5oZWFsdGg7XHJcbiAgICAgICAgaWYgKHRoaXMub3BDdXJyZW50SGVhbHRoIDw9IDApIHtcclxuICAgICAgICAgIHRoaXMub3BDdXJyZW50SGVhbHRoID0gMDtcclxuICAgICAgICAgIHRoaXMudXBkYXRlSGVhbHRoQmFyKHRydWUpOyAvLyBzaG93IGRlYWQgc3R5bGluZyAmIDBcclxuICAgICAgICAgIC8vIFN0b3AgZWZmZWN0cyBpZiBhbnlcclxuICAgICAgICAgIGlmICh0aGlzLmVmZmVjdHMpIHtcclxuICAgICAgICAgICAgLy8gbm8gZXhwbGljaXQgZGVzdHJveSBuZWVkZWQsIGp1c3Qgc3RvcCB1cGRhdGluZ1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLmV2ZW50cy5vZmYoXCJ1cGRhdGVcIiwgdGhpcy5fb25TY2VuZVVwZGF0ZSwgdGhpcyk7XHJcbiAgICAgICAgICAgIHRoaXMuZWZmZWN0cyA9IG51bGw7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHRoaXMudXBkYXRlSGVhbHRoQmFyKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIF9vblNjZW5lVXBkYXRlKCkge1xyXG4gICAgaWYgKHRoaXMuZWZmZWN0cyAmJiB0aGlzLm9wcG9uZW50KSB7XHJcbiAgICAgIC8vIERldGVybWluZSBzaW1wbGUgbW92aW5nIHN0YXRlOiBob3Jpem9udGFsIHZlbG9jaXR5IG9yIHJlY2VudCB0d2VlbmluZ1xyXG4gICAgICBjb25zdCBtb3ZpbmcgPVxyXG4gICAgICAgICh0aGlzLm9wcG9uZW50LmJvZHkgJiYgTWF0aC5hYnModGhpcy5vcHBvbmVudC5ib2R5LnZlbG9jaXR5LngpID4gNSkgfHxcclxuICAgICAgICAhIXRoaXMubW92ZW1lbnRUd2VlbjtcclxuICAgICAgY29uc3QgaXNEZWFkID0gdGhpcy5vcEN1cnJlbnRIZWFsdGggPD0gMDtcclxuICAgICAgdGhpcy5lZmZlY3RzLnVwZGF0ZSh0aGlzLnNjZW5lLmdhbWUubG9vcC5kZWx0YSwgbW92aW5nLCBpc0RlYWQpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8gQWRqdXN0IGJvZHkgb2Zmc2V0IGRlcGVuZGluZyBvbiBmYWNpbmc7IHVzZXMgb3B0aW9uYWwgZmxpcE9mZnNldCBmcm9tIGJvZHkgY29uZmlnXHJcbiAgYXBwbHlGbGlwT2Zmc2V0KCkge1xyXG4gICAgaWYgKCF0aGlzLm9wcG9uZW50IHx8ICF0aGlzLm9wcG9uZW50LmJvZHkpIHJldHVybjtcclxuICAgIGNvbnN0IGJzID0gdGhpcy5ib2R5Q29uZmlnIHx8IHt9O1xyXG4gICAgY29uc3Qgb2Zmc2V0WEZyb21IYWxmID0gYnMub2Zmc2V0WEZyb21IYWxmID8/IDA7XHJcbiAgICBjb25zdCBvZmZzZXRZID0gYnMub2Zmc2V0WSA/PyAxMDtcclxuICAgIGNvbnN0IGZsaXBPZmZzZXQgPSBicy5mbGlwT2Zmc2V0IHx8IDA7IC8vIGZhbHN5IC0+IDBcclxuICAgIGNvbnN0IGV4dHJhID0gdGhpcy5vcHBvbmVudC5mbGlwWCA/IGZsaXBPZmZzZXQgOiAwO1xyXG4gICAgdGhpcy5vcHBvbmVudC5ib2R5LnNldE9mZnNldChcclxuICAgICAgdGhpcy5vcHBvbmVudC5ib2R5LndpZHRoIC8gMiArIG9mZnNldFhGcm9tSGFsZiArIGV4dHJhLFxyXG4gICAgICBvZmZzZXRZXHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgLy8gUHVibGljIGhlbHBlciB0byBzeW5jIFVJIHBvc2l0aW9ucyBpbW1lZGlhdGVseSAodXNlZCBhZnRlciB0ZWxlcG9ydHMvaW5pdGlhbCBwb3NpdGlvbiBzZXQpXHJcbiAgdXBkYXRlVUlQb3NpdGlvbigpIHtcclxuICAgIGlmICghdGhpcy5vcHBvbmVudCkgcmV0dXJuO1xyXG4gICAgY29uc3QgYm9keVRvcCA9IHRoaXMub3Bwb25lbnQuYm9keVxyXG4gICAgICA/IHRoaXMub3Bwb25lbnQuYm9keS55XHJcbiAgICAgIDogdGhpcy5vcHBvbmVudC55IC0gdGhpcy5vcHBvbmVudC5oZWlnaHQgLyAyO1xyXG4gICAgaWYgKHRoaXMub3BQbGF5ZXJOYW1lKSB7XHJcbiAgICAgIHRoaXMub3BQbGF5ZXJOYW1lLnNldFBvc2l0aW9uKHRoaXMub3Bwb25lbnQueCwgYm9keVRvcCAtIDM2KTtcclxuICAgIH1cclxuICAgIHRoaXMudXBkYXRlSGVhbHRoQmFyKGZhbHNlKTtcclxuICB9XHJcblxyXG4gIHVwZGF0ZUhlYWx0aEJhcihkZWFkID0gZmFsc2UsIGhlYWx0aEJhclkpIHtcclxuICAgIGlmICh0aGlzLm9wQ3VycmVudEhlYWx0aCA8IDApIHtcclxuICAgICAgLy8gUHJldmVudHMgaGVhbHRoIGZyb20gZ29pbmcgbmVnYXRpdmVcclxuICAgICAgdGhpcy5vcEN1cnJlbnRIZWFsdGggPSAwO1xyXG4gICAgfVxyXG4gICAgLy8gU2V0cyBwZXJjZW50YWdlIG9mIGhlYWx0aFxyXG4gICAgY29uc3QgaGVhbHRoUGVyY2VudGFnZSA9IE1hdGgubWF4KFxyXG4gICAgICAwLFxyXG4gICAgICBNYXRoLm1pbigxLCB0aGlzLm9wQ3VycmVudEhlYWx0aCAvIHRoaXMub3BNYXhIZWFsdGgpXHJcbiAgICApO1xyXG4gICAgY29uc3QgZGlzcGxheWVkV2lkdGggPSB0aGlzLm9wSGVhbHRoQmFyV2lkdGggKiBoZWFsdGhQZXJjZW50YWdlO1xyXG5cclxuICAgIC8vIENsZWFycyBwcmV2aW91cyBoZWFsdGggYmFyIGdyYXBoaWNzXHJcbiAgICB0aGlzLm9wSGVhbHRoQmFyLmNsZWFyKCk7XHJcblxyXG4gICAgLy8gU2V0cyB4IGluIHRoZSBjZW50ZXJcclxuICAgIGNvbnN0IGhlYWx0aEJhclggPSB0aGlzLm9wcG9uZW50LnggLSB0aGlzLm9wSGVhbHRoQmFyV2lkdGggLyAyO1xyXG4gICAgLy8gSWYgbm8gZXhwbGljaXQgWSBwcm92aWRlZCwgYW5jaG9yIHRvIHRoZSBzcHJpdGUncyBib2R5IHRvcCBzbyBpdCBkb2Vzbid0IGp1bXBcclxuICAgIGNvbnN0IGJvZHlUb3AgPSB0aGlzLm9wcG9uZW50LmJvZHlcclxuICAgICAgPyB0aGlzLm9wcG9uZW50LmJvZHkueVxyXG4gICAgICA6IHRoaXMub3Bwb25lbnQueSAtIHRoaXMub3Bwb25lbnQuaGVpZ2h0IC8gMjtcclxuICAgIGNvbnN0IHkgPVxyXG4gICAgICB0eXBlb2YgaGVhbHRoQmFyWSA9PT0gXCJudW1iZXJcIiAmJiAhTnVtYmVyLmlzTmFOKGhlYWx0aEJhclkpXHJcbiAgICAgICAgPyBoZWFsdGhCYXJZXHJcbiAgICAgICAgOiBib2R5VG9wIC0gMTU7XHJcbiAgICBpZiAoZGVhZCA9PT0gZmFsc2UpIHtcclxuICAgICAgdGhpcy5vcEhlYWx0aFRleHQuc2V0VGV4dChgJHt0aGlzLm9wQ3VycmVudEhlYWx0aH1gKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMub3BIZWFsdGhUZXh0LnNldFRleHQoYDBgKTtcclxuICAgIH1cclxuICAgIHRoaXMub3BIZWFsdGhCYXIuZmlsbFN0eWxlKDB4NTk1OTU5KTtcclxuICAgIHRoaXMub3BIZWFsdGhCYXIuZmlsbFJlY3QoaGVhbHRoQmFyWCwgeSwgdGhpcy5vcEhlYWx0aEJhcldpZHRoLCA5KTtcclxuXHJcbiAgICAvLyBDcmVhdGVzIGEgYmxhY2sgYm9yZGVyIGFyb3VuZCBoZWFsdGhiYXJcclxuICAgIHRoaXMub3BIZWFsdGhCYXIubGluZVN0eWxlKDMsIDB4MDAwMDAwKTtcclxuICAgIHRoaXMub3BIZWFsdGhCYXIuc3Ryb2tlUm91bmRlZFJlY3QoXHJcbiAgICAgIGhlYWx0aEJhclgsXHJcbiAgICAgIHksXHJcbiAgICAgIHRoaXMub3BIZWFsdGhCYXJXaWR0aCxcclxuICAgICAgOSxcclxuICAgICAgM1xyXG4gICAgKTtcclxuXHJcbiAgICBpZiAodGhpcy50ZWFtID09PSBcInVzZXJcIikge1xyXG4gICAgICB0aGlzLm9wSGVhbHRoQmFyLmZpbGxTdHlsZSgweDJlODhjYSk7IC8vIGJsdWUgY29sb3IgZm9yIHVzZXIgdGVhbVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5vcEhlYWx0aEJhci5maWxsU3R5bGUoMHhiYjVjMzkpOyAvLyByZWQgY29sb3IgZm9yIG9wIHRlYW1cclxuICAgIH1cclxuICAgIHRoaXMub3BIZWFsdGhCYXIuZmlsbFJvdW5kZWRSZWN0KGhlYWx0aEJhclgsIHksIGRpc3BsYXllZFdpZHRoLCA5LCAzKTtcclxuXHJcbiAgICB0aGlzLm9wSGVhbHRoVGV4dC5zZXRQb3NpdGlvbihcclxuICAgICAgdGhpcy5vcHBvbmVudC54IC0gdGhpcy5vcEhlYWx0aFRleHQud2lkdGggLyAyLFxyXG4gICAgICB5IC0gOFxyXG4gICAgKTtcclxuICAgIHRoaXMub3BIZWFsdGhUZXh0LnNldERlcHRoKDIpO1xyXG4gIH1cclxuXHJcbiAgLy8gQ2xlYW4gdXAgbWV0aG9kIHRvIHN0b3AgYW55IGFjdGl2ZSB0d2VlbnMgYW5kIHJlbW92ZSBzcHJpdGVzXHJcbiAgZGVzdHJveSgpIHtcclxuICAgIGlmICh0aGlzLm1vdmVtZW50VHdlZW4pIHtcclxuICAgICAgdGhpcy5tb3ZlbWVudFR3ZWVuLnJlbW92ZSgpO1xyXG4gICAgICB0aGlzLm1vdmVtZW50VHdlZW4gPSBudWxsO1xyXG4gICAgfVxyXG4gICAgaWYgKHRoaXMuZWZmZWN0cykge1xyXG4gICAgICB0aGlzLnNjZW5lLmV2ZW50cy5vZmYoXCJ1cGRhdGVcIiwgdGhpcy5fb25TY2VuZVVwZGF0ZSwgdGhpcyk7XHJcbiAgICAgIHRoaXMuZWZmZWN0cyA9IG51bGw7XHJcbiAgICB9XHJcbiAgICBpZiAodGhpcy5vcHBvbmVudCkge1xyXG4gICAgICB0aGlzLm9wcG9uZW50LmRlc3Ryb3koKTtcclxuICAgIH1cclxuICAgIGlmICh0aGlzLm9wUGxheWVyTmFtZSkge1xyXG4gICAgICB0aGlzLm9wUGxheWVyTmFtZS5kZXN0cm95KCk7XHJcbiAgICB9XHJcbiAgICBpZiAodGhpcy5vcEhlYWx0aFRleHQpIHtcclxuICAgICAgdGhpcy5vcEhlYWx0aFRleHQuZGVzdHJveSgpO1xyXG4gICAgfVxyXG4gICAgaWYgKHRoaXMub3BIZWFsdGhCYXIpIHtcclxuICAgICAgdGhpcy5vcEhlYWx0aEJhci5kZXN0cm95KCk7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcbiIsIi8vIGdhbWUuanNcclxuXHJcbmltcG9ydCB7IGdldENvb2tpZSB9IGZyb20gXCIuL2xpYi9jb29raWVzXCI7XHJcbmltcG9ydCB7IGx1c2h5UGVha3MsIGx1c2h5UGVha3NPYmplY3RzIH0gZnJvbSBcIi4vbWFwcy9sdXNoeVBlYWtzXCI7XHJcbmltcG9ydCB7IG1hbmdyb3ZlTWVhZG93LCBtYW5ncm92ZU1lYWRvd09iamVjdHMgfSBmcm9tIFwiLi9tYXBzL21hbmdyb3ZlTWVhZG93XCI7XHJcbmltcG9ydCB7IGNyZWF0ZVBsYXllciwgcGxheWVyLCBoYW5kbGVQbGF5ZXJNb3ZlbWVudCwgZGVhZCB9IGZyb20gXCIuL3BsYXllclwiO1xyXG5pbXBvcnQge1xyXG4gIHByZWxvYWRBbGwsXHJcbiAgaGFuZGxlUmVtb3RlQXR0YWNrLFxyXG4gIHNldHVwQWxsLFxyXG4gIHJlc29sdmVBbmltS2V5LFxyXG59IGZyb20gXCIuL2NoYXJhY3RlcnNcIjtcclxuaW1wb3J0IHNvY2tldCBmcm9tIFwiLi9zb2NrZXRcIjtcclxuaW1wb3J0IE9wUGxheWVyIGZyb20gXCIuL29wUGxheWVyXCI7XHJcbmltcG9ydCB7IHNwYXduRHVzdCwgcHJld2FybUR1c3QgfSBmcm9tIFwiLi9lZmZlY3RzXCI7XHJcblxyXG4vLyBTb2NrZXQgbm93IGltcG9ydGVkIGZyb20gc3RhbmRhbG9uZSBtb2R1bGUgdG8gcHJldmVudCBjaXJjdWxhciBkZXBzXHJcbmZ1bmN0aW9uIGNkYmcoKSB7XHJcbiAgLyogbG9nZ2luZyBkaXNhYmxlZCBmb3IgcHJvZHVjdGlvbiAqL1xyXG59XHJcbmNkYmcoKTtcclxuXHJcbi8vIFBhdGggdG8gZ2V0IGFzc2V0c1xyXG5jb25zdCBzdGF0aWNQYXRoID0gXCIvYXNzZXRzXCI7XHJcblxyXG4vLyBWYXJpYWJsZXMgdG8gc3RvcmUgYWxsIG9mIHRoZSBzZXNzaW9uIHN0b3JhZ2UgdmFsdWVzXHJcbmNvbnN0IGdhbWVJZCA9IHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZS5zcGxpdChcIi9cIikuZmlsdGVyKEJvb2xlYW4pLnBvcCgpO1xyXG5jb25zdCBwYXJ0eUlkID0gc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShcInBhcnR5XCIpO1xyXG5jb25zdCB1c2VybmFtZSA9IGdldENvb2tpZShcIm5hbWVcIik7XHJcbmNvbnN0IGNoYXJhY3RlciA9IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oXCJjaGFyYWN0ZXJcIik7XHJcbmNvbnN0IHNwYXduUGxhdGZvcm0gPSBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKFwic3Bhd25QbGF0Zm9ybVwiKTtcclxuY29uc3Qgc3Bhd24gPSBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKFwic3Bhd25cIik7XHJcbmNvbnN0IHBhcnR5TWVtYmVycyA9IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oXCJwYXJ0eU1lbWJlcnNcIik7XHJcbmNvbnN0IHBhcnR5TWVtYmVyc051bSA9IE51bWJlcihwYXJ0eU1lbWJlcnMpO1xyXG5jb25zdCBtYXAgPSBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKFwibWFwXCIpO1xyXG5cclxuLy8gTWFwIHZhcmlhbGVcclxubGV0IG1hcE9iamVjdHM7XHJcblxyXG4vLyBMaXN0cyB0aGF0IHN0b3JlIGFsbCB0aGUgcGxheWVycyBpbiBwbGF5ZXIgdGVhbSBhbmQgb3AgdGVhbVxyXG5jb25zdCBvcHBvbmVudFBsYXllcnMgPSBbXTtcclxuY29uc3QgdGVhbVBsYXllcnMgPSBbXTtcclxubGV0IGdhbWVFbmRlZCA9IGZhbHNlOyAvLyBzdG9wcyB1cGRhdGUgbG9vcCBuZXR3b3JrIGVtaXNzaW9ucyBhZnRlciBnYW1lIG92ZXJcclxuXHJcbi8vIE1vdmVtZW50IHRocm90dGxpbmcgdmFyaWFibGVzXHJcbmxldCBsYXN0TW92ZW1lbnRTZW50ID0gMDtcclxuY29uc3QgbW92ZW1lbnRUaHJvdHRsZU1zID0gMjU7IC8vIFNlbmQgbW92ZW1lbnQgdXBkYXRlcyBldmVyeSAxMDBtcyAoYWJvdXQgMTAgRlBTKVxyXG5sZXQgbGFzdFBsYXllclN0YXRlID0geyB4OiAwLCB5OiAwLCBmbGlwOiBmYWxzZSwgYW5pbWF0aW9uOiBudWxsIH07XHJcblxyXG4vLyBTZXJ2ZXIgc25hcHNob3QgaW50ZXJwb2xhdGlvblxyXG5sZXQgc3RhdGVBY3RpdmUgPSBmYWxzZTsgLy8gc2V0IHRydWUgb25jZSB3ZSBzdGFydCByZWNlaXZpbmcgc2VydmVyIHNuYXBzaG90c1xyXG5jb25zdCBzdGF0ZUJ1ZmZlciA9IFtdOyAvLyBxdWV1ZSBvZiB7IHQsIHBsYXllcnM6IHsgW3VzZXJuYW1lXToge3gseSxmbGlwLGFuaW1hdGlvbn0gfSB9XHJcbmNvbnN0IE1BWF9TVEFURV9CVUZGRVIgPSA2MDsgLy8gfjQgc2Vjb25kcyBhdCAxNSBIelxyXG5sZXQgaW50ZXJwRGVsYXlNcyA9IDEwMDsgLy8gcmVuZGVyIH44MC0xMjBtcyBpbiB0aGUgcGFzdCAoZGVmYXVsdCAxMDBtcylcclxuXHJcbi8vIE5vIHJlbW90ZSBwcm9qZWN0aWxlIHJlZ2lzdHJ5IChkZXRlcm1pbmlzdGljIHNpbXVsYXRpb24gb24gZWFjaCBjbGllbnQpXHJcblxyXG4vLyBQaGFzZXIgY2xhc3MgdG8gc2V0dXAgdGhlIGdhbWVcclxuY2xhc3MgR2FtZVNjZW5lIGV4dGVuZHMgUGhhc2VyLlNjZW5lIHtcclxuICAvLyBQcmVsb2FkcyBhc3NldHNcclxuICBwcmVsb2FkKCkge1xyXG4gICAgY2RiZygpO1xyXG4gICAgdGhpcy5sb2FkLmltYWdlKFwibHVzaHktYmdcIiwgYCR7c3RhdGljUGF0aH0vTHVzaHkvZ2FtZUJnLnBuZ2ApO1xyXG4gICAgdGhpcy5sb2FkLmltYWdlKFwibWFuZ3JvdmUtYmdcIiwgYCR7c3RhdGljUGF0aH0vTWFuZ3JvdmUvZ2FtZUJnLnBuZ2ApO1xyXG4gICAgLy8gQ2hhcmFjdGVyIGFzc2V0cyAocHJlbG9hZCBhbGwgcmVnaXN0ZXJlZCBjaGFyYWN0ZXJzKVxyXG4gICAgcHJlbG9hZEFsbCh0aGlzLCBzdGF0aWNQYXRoKTtcclxuXHJcbiAgICB0aGlzLmxvYWQuYXRsYXMoXHJcbiAgICAgIFwidHJvbGxcIixcclxuICAgICAgYCR7c3RhdGljUGF0aH0vdHJvbGxfc3ByaXRlc2hlZXQucG5nYCxcclxuICAgICAgYCR7c3RhdGljUGF0aH0vdHJvbGwuanNvbmBcclxuICAgICk7XHJcbiAgICB0aGlzLmxvYWQuaW1hZ2UoXCJ0aWxlcy1pbWFnZVwiLCBgJHtzdGF0aWNQYXRofS9tYXAucG5nYCk7XHJcbiAgICB0aGlzLmxvYWQudGlsZW1hcFRpbGVkSlNPTihcInRpbGVzXCIsIGAke3N0YXRpY1BhdGh9L3RpbGVzaGVldC5qc29uYCk7XHJcbiAgICB0aGlzLmxvYWQuaW1hZ2UoXCJsdXNoeS1iYXNlXCIsIGAke3N0YXRpY1BhdGh9L0x1c2h5L2Jhc2UucG5nYCk7XHJcbiAgICB0aGlzLmxvYWQuaW1hZ2UoXCJsdXNoeS1wbGF0Zm9ybVwiLCBgJHtzdGF0aWNQYXRofS9MdXNoeS9sYXJnZVBsYXRmb3JtLnBuZ2ApO1xyXG4gICAgdGhpcy5sb2FkLmltYWdlKFxyXG4gICAgICBcImx1c2h5LXNpZGUtcGxhdGZvcm1cIixcclxuICAgICAgYCR7c3RhdGljUGF0aH0vTHVzaHkvc2lkZVBsYXRmb3JtLnBuZ2BcclxuICAgICk7XHJcbiAgICAvLyB0aGlzLmxvYWQuaW1hZ2UoXCJsdXNoeS1tZWRpdW0tcGxhdGZvcm1cIiwgYCR7c3RhdGljUGF0aH0vTHVzaHkvbWVkaXVtUGxhdGZvcm0ucG5nYCk7XHJcbiAgICB0aGlzLmxvYWQuaW1hZ2UoXHJcbiAgICAgIFwibWFuZ3JvdmUtdGlueS1wbGF0Zm9ybVwiLFxyXG4gICAgICBgJHtzdGF0aWNQYXRofS9NYW5ncm92ZS90aW55UGxhdGZvcm0ucG5nYFxyXG4gICAgKTtcclxuICAgIHRoaXMubG9hZC5pbWFnZShcclxuICAgICAgXCJtYW5ncm92ZS1iYXNlLWxlZnRcIixcclxuICAgICAgYCR7c3RhdGljUGF0aH0vTWFuZ3JvdmUvYmFzZUxlZnQucG5nYFxyXG4gICAgKTtcclxuICAgIHRoaXMubG9hZC5pbWFnZShcclxuICAgICAgXCJtYW5ncm92ZS1iYXNlLW1pZGRsZVwiLFxyXG4gICAgICBgJHtzdGF0aWNQYXRofS9NYW5ncm92ZS9iYXNlTWlkZGxlLnBuZ2BcclxuICAgICk7XHJcbiAgICB0aGlzLmxvYWQuaW1hZ2UoXHJcbiAgICAgIFwibWFuZ3JvdmUtYmFzZS1yaWdodFwiLFxyXG4gICAgICBgJHtzdGF0aWNQYXRofS9NYW5ncm92ZS9iYXNlUmlnaHQucG5nYFxyXG4gICAgKTtcclxuICAgIHRoaXMubG9hZC5pbWFnZShcIm1hbmdyb3ZlLWJhc2UtdG9wXCIsIGAke3N0YXRpY1BhdGh9L01hbmdyb3ZlL2Jhc2VUb3AucG5nYCk7XHJcbiAgICB0aGlzLmxvYWQuaW1hZ2UoXCJ0aG9yZy13ZWFwb25cIiwgYCR7c3RhdGljUGF0aH0vdGhvcmcvd2VhcG9uLnBuZ2ApO1xyXG4gICAgLy8gTW92ZW1lbnQgU0ZYIChwbGFjZSBmaWxlcyB1bmRlciAvYXNzZXRzL2F1ZGlvKVxyXG4gICAgdGhpcy5sb2FkLmF1ZGlvKFwic2Z4LXN0ZXBcIiwgYCR7c3RhdGljUGF0aH0vc3RlcC5vZ2dgKTtcclxuICAgIHRoaXMubG9hZC5hdWRpbyhcInNmeC1qdW1wXCIsIGAke3N0YXRpY1BhdGh9L2p1bXAubXAzYCk7XHJcbiAgICB0aGlzLmxvYWQuYXVkaW8oXCJzZngtbGFuZFwiLCBgJHtzdGF0aWNQYXRofS9sYW5kLm1wM2ApO1xyXG4gICAgdGhpcy5sb2FkLmF1ZGlvKFwic2Z4LXdhbGxqdW1wXCIsIGAke3N0YXRpY1BhdGh9L3dhbGxqdW1wLm1wM2ApO1xyXG4gICAgLy8gQ29tYmF0L2hlYWx0aCBTRlhcclxuICAgIHRoaXMubG9hZC5hdWRpbyhcInNmeC1kYW1hZ2VcIiwgYCR7c3RhdGljUGF0aH0vZGFtYWdlLm1wM2ApO1xyXG4gICAgdGhpcy5sb2FkLmF1ZGlvKFwic2Z4LWhlYWxcIiwgYCR7c3RhdGljUGF0aH0vaGVhbC5tcDNgKTtcclxuICAgIC8vIE11c2ljIChub24tbG9vcGluZyBiZ20sIHNlcGFyYXRlIHdpbi9sb3NlIHN0aW5nZXJzKVxyXG4gICAgdGhpcy5sb2FkLmF1ZGlvKFwibWFpblwiLCBgJHtzdGF0aWNQYXRofS9tYWluLndhdmApO1xyXG4gICAgdGhpcy5sb2FkLmF1ZGlvKFwid2luXCIsIGAke3N0YXRpY1BhdGh9L3dpbi5tcDNgKTtcclxuICAgIHRoaXMubG9hZC5hdWRpbyhcImxvc2VcIiwgYCR7c3RhdGljUGF0aH0vbG9zZS53YXZgKTtcclxuICB9XHJcblxyXG4gIGNyZWF0ZSgpIHtcclxuICAgIGNkYmcoKTtcclxuICAgIC8vIEVuc3VyZSBjYW1lcmEgcmVuZGVycyBvbiB3aG9sZSBwaXhlbHMgZm9yIGNyaXNwIHNwcml0ZXNcclxuICAgIHRoaXMuY2FtZXJhcz8ubWFpbiAmJiAodGhpcy5jYW1lcmFzLm1haW4ucm91bmRQaXhlbHMgPSB0cnVlKTtcclxuICAgIC8vIENyZWF0ZXMgdGhlIG1hcCBvYmplY3RzXHJcbiAgICBpZiAobWFwID09PSBcIjFcIikge1xyXG4gICAgICBtYXBPYmplY3RzID0gbHVzaHlQZWFrc09iamVjdHM7XHJcbiAgICAgIGx1c2h5UGVha3ModGhpcyk7XHJcbiAgICAgIGNkYmcoKTtcclxuICAgIH0gZWxzZSBpZiAobWFwID09PSBcIjJcIikge1xyXG4gICAgICBtYXBPYmplY3RzID0gbWFuZ3JvdmVNZWFkb3dPYmplY3RzO1xyXG4gICAgICBtYW5ncm92ZU1lYWRvdyh0aGlzKTtcclxuICAgICAgY2RiZygpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIEVuc3VyZSBhbGwgY2hhcmFjdGVyIGFuaW1hdGlvbnMgYXJlIHJlZ2lzdGVyZWQgZm9yIHRoaXMgc2NlbmVcclxuICAgIHNldHVwQWxsKHRoaXMpO1xyXG5cclxuICAgIC8vIEJhY2tncm91bmQgbXVzaWM6IHBsYXkgb25jZSAoMjozMCB0cmFjayksIG5vIGxvb3AsIGJ1dCBvbmx5IGFmdGVyIGF1ZGlvIHVubG9jayAodXNlciBnZXN0dXJlKVxyXG4gICAgdGhpcy5fYmdtU3RhcnRlZCA9IGZhbHNlO1xyXG4gICAgY29uc3Qgc3RhcnRCZ20gPSAoKSA9PiB7XHJcbiAgICAgIGlmICh0aGlzLl9iZ21TdGFydGVkKSByZXR1cm47XHJcbiAgICAgIHRoaXMuX2JnbVN0YXJ0ZWQgPSB0cnVlO1xyXG4gICAgICB0cnkge1xyXG4gICAgICAgIGlmICghdGhpcy5iZ21NYWluKSB7XHJcbiAgICAgICAgICB0aGlzLmJnbU1haW4gPSB0aGlzLnNvdW5kLmFkZChcIm1haW5cIiwge1xyXG4gICAgICAgICAgICB2b2x1bWU6IDAuMDIsXHJcbiAgICAgICAgICAgIGxvb3A6IGZhbHNlLFxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuYmdtTWFpbi5wbGF5KCk7XHJcbiAgICAgIH0gY2F0Y2ggKGUpIHt9XHJcbiAgICB9O1xyXG4gICAgaWYgKHRoaXMuc291bmQubG9ja2VkKSB7XHJcbiAgICAgIC8vIFBoYXNlciB3aWxsIGVtaXQgJ3VubG9ja2VkJyBvbiBmaXJzdCB1c2VyIGludGVyYWN0aW9uXHJcbiAgICAgIHRoaXMuc291bmQub25jZShcInVubG9ja2VkXCIsIHN0YXJ0QmdtKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIC8vIElmIGFscmVhZHkgdW5sb2NrZWQsIHN0YXJ0IGltbWVkaWF0ZWx5OyBhbHNvIHNldCBhIHNhZmUgZmlyc3QtY2xpY2sgaG9va1xyXG4gICAgICBzdGFydEJnbSgpO1xyXG4gICAgfVxyXG4gICAgLy8gRXh0cmEgc2FmZXR5OiBpZiBmb3Igc29tZSByZWFzb24gJ3VubG9ja2VkJyBkb2Vzbid0IGZpcmUsIHN0YXJ0IG9uIGZpcnN0IHBvaW50ZXIva2V5ZG93blxyXG4gICAgdGhpcy5pbnB1dC5vbmNlKFwicG9pbnRlcmRvd25cIiwgc3RhcnRCZ20pO1xyXG4gICAgdGhpcy5pbnB1dC5rZXlib2FyZD8ub25jZShcImtleWRvd25cIiwgc3RhcnRCZ20pO1xyXG5cclxuICAgIC8vIENyZWF0ZXMgcGxheWVyIG9iamVjdFxyXG4gICAgY3JlYXRlUGxheWVyKFxyXG4gICAgICB0aGlzLFxyXG4gICAgICB1c2VybmFtZSxcclxuICAgICAgY2hhcmFjdGVyLFxyXG4gICAgICBzcGF3blBsYXRmb3JtLFxyXG4gICAgICBzcGF3bixcclxuICAgICAgcGFydHlNZW1iZXJzLFxyXG4gICAgICBtYXAsXHJcbiAgICAgIG9wcG9uZW50UGxheWVyc1xyXG4gICAgKTtcclxuICAgIGNkYmcoKTtcclxuICAgIC8vIFRvZ2dsZSBwaHlzaWNzIGRlYnVnIHdpdGggQ3RybCtNXHJcbiAgICB0aGlzLmlucHV0LmtleWJvYXJkLm9uKFwia2V5ZG93bi1NXCIsIChlKSA9PiB7XHJcbiAgICAgIGlmICghZS5jdHJsS2V5KSByZXR1cm47XHJcbiAgICAgIGNvbnN0IHdvcmxkID0gdGhpcy5waHlzaWNzPy53b3JsZDtcclxuICAgICAgaWYgKCF3b3JsZCkgcmV0dXJuO1xyXG4gICAgICAvLyBGbGlwIGRlYnVnIGRyYXcgc3RhdGVcclxuICAgICAgd29ybGQuZHJhd0RlYnVnID0gIXdvcmxkLmRyYXdEZWJ1ZztcclxuICAgICAgLy8gQ2xlYXIgcHJldmlvdXMgZ3JhcGhpY3MgYW5kIHNob3cvaGlkZSBhY2NvcmRpbmdseVxyXG4gICAgICBpZiAod29ybGQuZGVidWdHcmFwaGljKSB7XHJcbiAgICAgICAgd29ybGQuZGVidWdHcmFwaGljLmNsZWFyKCk7XHJcbiAgICAgICAgd29ybGQuZGVidWdHcmFwaGljLnNldFZpc2libGUod29ybGQuZHJhd0RlYnVnKTtcclxuICAgICAgfVxyXG4gICAgICAvLyBBbHNvIHVwZGF0ZSB0aGUgY29uZmlnIHJlZmVyZW5jZSBpZiBwcmVzZW50IChoZWxwcyBzb21lIHBsdWdpbnMgY2hlY2spXHJcbiAgICAgIGlmICh0aGlzLnN5cz8uZ2FtZT8uY29uZmlnPy5waHlzaWNzPy5hcmNhZGUpIHtcclxuICAgICAgICB0aGlzLnN5cy5nYW1lLmNvbmZpZy5waHlzaWNzLmFyY2FkZS5kZWJ1ZyA9IHdvcmxkLmRyYXdEZWJ1ZztcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICAvLyBBZGRzIGNvbGxpc2lvbiBiZXR3ZWVuIG1hcCBhbmQgcGxheWVyXHJcblxyXG4gICAgbWFwT2JqZWN0cy5mb3JFYWNoKChtYXBPYmplY3QpID0+IHtcclxuICAgICAgLy8gQWRkIGNvbGxpZGVyIGJldHdlZW4gdGhlIG9iamVjdCBhbmQgZWFjaCBtYXAgb2JqZWN0XHJcbiAgICAgIHRoaXMucGh5c2ljcy5hZGQuY29sbGlkZXIocGxheWVyLCBtYXBPYmplY3QpO1xyXG4gICAgfSk7XHJcbiAgICBjZGJnKCk7XHJcblxyXG4gICAgLy8gTWFrZXMgdGhlIGZpZ2h0IGVsZW1lbnQgem9vbSBpbiBhdCB0aGUgc3RhcnQgb2YgdGhlIGdhbWVcclxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZmlnaHRcIikuc3R5bGUud2lkdGggPSBcIjYwJVwiO1xyXG5cclxuICAgIC8vIFNldHMgdGhlIHZhbHVlcyBmb3IgWW91ciBUZWFtIGFuZCBPcHBvc2luZyBUZWFtIHRleHRcclxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFxyXG4gICAgICBcInlvdXItdGVhbVwiXHJcbiAgICApLnRleHRDb250ZW50ID0gYFlvdXIgVGVhbTogJHtwYXJ0eU1lbWJlcnN9LyR7cGFydHlNZW1iZXJzfSBwbGF5ZXJzYDtcclxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFxyXG4gICAgICBcIm9wcG9zaW5nLXRlYW1cIlxyXG4gICAgKS50ZXh0Q29udGVudCA9IGBPcHBvc2luZyBUZWFtOiAke3BhcnR5TWVtYmVyc30vJHtwYXJ0eU1lbWJlcnN9IHBsYXllcnNgO1xyXG4gICAgLy8gRW1pdHMgcGxheWVyLWpvaW5lZCBhbmQgY3JlYXRlcyB0aGUgb3AgcGxheWVyIG9iamVjdHNcclxuICAgIHNvY2tldC5lbWl0KFwicGxheWVyLWpvaW5lZFwiLCB7IHVzZXJuYW1lLCBjaGFyYWN0ZXIgfSk7XHJcbiAgICBjZGJnKCk7XHJcbiAgICBmZXRjaChcIi9wbGF5ZXJzXCIsIHtcclxuICAgICAgbWV0aG9kOiBcIlBPU1RcIixcclxuICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxyXG4gICAgICB9LFxyXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7IGdhbWVJZCwgdXNlcm5hbWUgfSksXHJcbiAgICB9KVxyXG4gICAgICAudGhlbigocmVzcG9uc2UpID0+IHJlc3BvbnNlLmpzb24oKSlcclxuICAgICAgLnRoZW4oKGRhdGEpID0+IHtcclxuICAgICAgICBjZGJnKCk7XHJcbiAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gZGF0YS51c2VyVGVhbSkge1xyXG4gICAgICAgICAgLy8gVXNlciB0ZWFtXHJcbiAgICAgICAgICBpZiAoa2V5ICE9PSB1c2VybmFtZSkge1xyXG4gICAgICAgICAgICAvLyBFbnN1cmVzIHBsYXllciBpcyBub3QgYWRkZWQgYWdhaW5cclxuICAgICAgICAgICAgY29uc3QgdXNlclBsYXllciA9IG5ldyBPcFBsYXllcihcclxuICAgICAgICAgICAgICB0aGlzLFxyXG4gICAgICAgICAgICAgIGRhdGEudXNlclRlYW1ba2V5XVtcImNoYXJhY3RlclwiXSxcclxuICAgICAgICAgICAgICBrZXksXHJcbiAgICAgICAgICAgICAgXCJ1c2VyXCIsXHJcbiAgICAgICAgICAgICAgZGF0YS51c2VyVGVhbVtrZXldW1wic3Bhd25QbGF0Zm9ybVwiXSxcclxuICAgICAgICAgICAgICBkYXRhLnVzZXJUZWFtW2tleV1bXCJzcGF3blwiXSxcclxuICAgICAgICAgICAgICBwYXJ0eU1lbWJlcnMsXHJcbiAgICAgICAgICAgICAgbWFwXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIHRlYW1QbGF5ZXJzW2tleV0gPSB1c2VyUGxheWVyOyAvLyBBZGRzIHBsYXllciBvYmplY3QgdG8gdGhlIGxpc3RcclxuICAgICAgICAgICAgLy8gSW5pdGlhbGl6ZSB3aXRoIGN1cnJlbnQgcG9zaXRpb24gaWYgYXZhaWxhYmxlXHJcbiAgICAgICAgICAgIGlmIChcclxuICAgICAgICAgICAgICBkYXRhLnVzZXJUZWFtW2tleV1bXCJ4XCJdICE9PSB1bmRlZmluZWQgJiZcclxuICAgICAgICAgICAgICBkYXRhLnVzZXJUZWFtW2tleV1bXCJ5XCJdICE9PSB1bmRlZmluZWRcclxuICAgICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgICAgdXNlclBsYXllci5vcHBvbmVudC54ID0gZGF0YS51c2VyVGVhbVtrZXldW1wieFwiXTtcclxuICAgICAgICAgICAgICB1c2VyUGxheWVyLm9wcG9uZW50LnkgPSBkYXRhLnVzZXJUZWFtW2tleV1bXCJ5XCJdO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNkYmcoXCJvcFBsYXllciBjcmVhdGVkICh1c2VyIHRlYW0pXCIsIHsga2V5IH0pO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBkYXRhLm9wVGVhbSkge1xyXG4gICAgICAgICAgaWYgKGtleSAhPT0gdXNlcm5hbWUpIHtcclxuICAgICAgICAgICAgY29uc3Qgb3Bwb25lbnRQbGF5ZXIgPSBuZXcgT3BQbGF5ZXIoXHJcbiAgICAgICAgICAgICAgdGhpcyxcclxuICAgICAgICAgICAgICBkYXRhLm9wVGVhbVtrZXldW1wiY2hhcmFjdGVyXCJdLFxyXG4gICAgICAgICAgICAgIGtleSxcclxuICAgICAgICAgICAgICBcIm9wXCIsXHJcbiAgICAgICAgICAgICAgZGF0YS5vcFRlYW1ba2V5XVtcInNwYXduUGxhdGZvcm1cIl0sXHJcbiAgICAgICAgICAgICAgZGF0YS5vcFRlYW1ba2V5XVtcInNwYXduXCJdLFxyXG4gICAgICAgICAgICAgIHBhcnR5TWVtYmVycyxcclxuICAgICAgICAgICAgICBtYXBcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgb3Bwb25lbnRQbGF5ZXJzW2tleV0gPSBvcHBvbmVudFBsYXllcjtcclxuICAgICAgICAgICAgLy8gSW5pdGlhbGl6ZSB3aXRoIGN1cnJlbnQgcG9zaXRpb24gaWYgYXZhaWxhYmxlXHJcbiAgICAgICAgICAgIGlmIChcclxuICAgICAgICAgICAgICBkYXRhLm9wVGVhbVtrZXldW1wieFwiXSAhPT0gdW5kZWZpbmVkICYmXHJcbiAgICAgICAgICAgICAgZGF0YS5vcFRlYW1ba2V5XVtcInlcIl0gIT09IHVuZGVmaW5lZFxyXG4gICAgICAgICAgICApIHtcclxuICAgICAgICAgICAgICBvcHBvbmVudFBsYXllci5vcHBvbmVudC54ID0gZGF0YS5vcFRlYW1ba2V5XVtcInhcIl07XHJcbiAgICAgICAgICAgICAgb3Bwb25lbnRQbGF5ZXIub3Bwb25lbnQueSA9IGRhdGEub3BUZWFtW2tleV1bXCJ5XCJdO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNkYmcoXCJvcFBsYXllciBjcmVhdGVkIChvcCB0ZWFtKVwiLCB7IGtleSB9KTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH0pXHJcbiAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3I6XCIsIGVycm9yKTtcclxuICAgICAgICBjZGJnKCk7XHJcbiAgICAgIH0pO1xyXG5cclxuICAgIC8vIEFmdGVyIDEgc2Vjb25kIHRoZSBmaWdodCBpbWFnZSBpcyByZW1vdmVkXHJcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgY29uc3QgZmlnaHQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImZpZ2h0XCIpO1xyXG4gICAgICBmaWdodC5zdHlsZS5vcGFjaXR5ID0gXCIwXCI7XHJcbiAgICAgIGZpZ2h0LmFkZEV2ZW50TGlzdGVuZXIoXCJ0cmFuc2l0aW9uZW5kXCIsIChldmVudCkgPT4ge1xyXG4gICAgICAgIGZpZ2h0LnJlbW92ZSgpO1xyXG4gICAgICB9KTtcclxuICAgIH0sIDEwMDApO1xyXG5cclxuICAgIC8vIFByZXdhcm0gc21hbGwgZHVzdCBwb29sXHJcbiAgICBwcmV3YXJtRHVzdCh0aGlzLCA4KTtcclxuXHJcbiAgICAvLyBDb2RlIHRoYXQgcnVucyB3aGVuIGFub3RoZXIgcGxheWVyIG1vdmVzIChsZWdhY3kgZmFsbGJhY2spLiBEaXNhYmxlZCB3aGVuIHN0YXRlQWN0aXZlLlxyXG4gICAgc29ja2V0Lm9uKFwibW92ZVwiLCAoZGF0YSkgPT4ge1xyXG4gICAgICBjZGJnKCk7XHJcbiAgICAgIGlmIChzdGF0ZUFjdGl2ZSkgcmV0dXJuOyAvLyBwcmVmZXIgYXV0aG9yaXRhdGl2ZSBpbnRlcnBvbGF0aW9uXHJcbiAgICAgIGNvbnN0IG9wcG9uZW50UGxheWVyID1cclxuICAgICAgICBvcHBvbmVudFBsYXllcnNbZGF0YS51c2VybmFtZV0gfHwgdGVhbVBsYXllcnNbZGF0YS51c2VybmFtZV07XHJcbiAgICAgIC8vIEZpbmRzIHBsYXllciBmcm9tIHRoZSBsaXN0XHJcbiAgICAgIGlmIChvcHBvbmVudFBsYXllcikge1xyXG4gICAgICAgIC8vIFN0b3JlIHRoZSBwcmV2aW91cyBwb3NpdGlvbiBmb3Igc21vb3RoIHR3ZWVuaW5nXHJcbiAgICAgICAgY29uc3QgcHJldlggPSBvcHBvbmVudFBsYXllci5vcHBvbmVudC54O1xyXG4gICAgICAgIGNvbnN0IHByZXZZID0gb3Bwb25lbnRQbGF5ZXIub3Bwb25lbnQueTtcclxuXHJcbiAgICAgICAgLy8gQ2FsY3VsYXRlIGRpc3RhbmNlIHRvIGRldGVybWluZSBpZiB3ZSBzaG91bGQgdHdlZW4gb3IgdGVsZXBvcnRcclxuICAgICAgICBjb25zdCBkZWx0YVggPSBNYXRoLmFicyhkYXRhLnggLSBwcmV2WCk7XHJcbiAgICAgICAgY29uc3QgZGVsdGFZID0gTWF0aC5hYnMoZGF0YS55IC0gcHJldlkpO1xyXG4gICAgICAgIGNvbnN0IGRpc3RhbmNlID0gTWF0aC5zcXJ0KGRlbHRhWCAqIGRlbHRhWCArIGRlbHRhWSAqIGRlbHRhWSk7XHJcblxyXG4gICAgICAgIC8vIElmIHRoZSBkaXN0YW5jZSBpcyB0b28gbGFyZ2UgKHBsYXllciB0ZWxlcG9ydGVkLCByZXNwYXduZWQsIGV0Yy4pLCBkb24ndCB0d2VlblxyXG4gICAgICAgIGNvbnN0IG1heFR3ZWVuRGlzdGFuY2UgPSAzMDA7XHJcblxyXG4gICAgICAgIGlmIChkaXN0YW5jZSA+IG1heFR3ZWVuRGlzdGFuY2UpIHtcclxuICAgICAgICAgIC8vIFRlbGVwb3J0IGltbWVkaWF0ZWx5IGZvciBsYXJnZSBkaXN0YW5jZXNcclxuICAgICAgICAgIG9wcG9uZW50UGxheWVyLm9wcG9uZW50LnggPSBkYXRhLng7XHJcbiAgICAgICAgICBvcHBvbmVudFBsYXllci5vcHBvbmVudC55ID0gZGF0YS55O1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAvLyBTdG9wIGFueSBleGlzdGluZyBtb3ZlbWVudCB0d2VlblxyXG4gICAgICAgICAgaWYgKG9wcG9uZW50UGxheWVyLm1vdmVtZW50VHdlZW4pIHtcclxuICAgICAgICAgICAgb3Bwb25lbnRQbGF5ZXIubW92ZW1lbnRUd2Vlbi5yZW1vdmUoKTtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAvLyBDcmVhdGUgc21vb3RoIG1vdmVtZW50IHR3ZWVuIHdpdGggb3ZlcmxhcCBwcm90ZWN0aW9uXHJcbiAgICAgICAgICBjb25zdCB0d2VlbkR1cmF0aW9uID0gTWF0aC5taW4oMTUwLCBkaXN0YW5jZSAqIDAuOCk7IC8vIFNjYWxlIGR1cmF0aW9uIHdpdGggZGlzdGFuY2UsIG1heCAxNTBtc1xyXG5cclxuICAgICAgICAgIG9wcG9uZW50UGxheWVyLm1vdmVtZW50VHdlZW4gPSB0aGlzLnR3ZWVucy5hZGQoe1xyXG4gICAgICAgICAgICB0YXJnZXRzOiBvcHBvbmVudFBsYXllci5vcHBvbmVudCxcclxuICAgICAgICAgICAgeDogZGF0YS54LFxyXG4gICAgICAgICAgICB5OiBkYXRhLnksXHJcbiAgICAgICAgICAgIGR1cmF0aW9uOiB0d2VlbkR1cmF0aW9uLFxyXG4gICAgICAgICAgICBlYXNlOiBcIlBvd2VyMi5lYXNlT3V0XCIsIC8vIFNtb290aGVyIGVhc2luZyBmdW5jdGlvblxyXG4gICAgICAgICAgICBvblVwZGF0ZTogKCkgPT4ge1xyXG4gICAgICAgICAgICAgIC8vIFVwZGF0ZSBuYW1lIHRhZyBwb3NpdGlvbiBkdXJpbmcgdHdlZW4gdXNpbmcgYm9keVRvcFxyXG4gICAgICAgICAgICAgIGNvbnN0IHNwciA9IG9wcG9uZW50UGxheWVyLm9wcG9uZW50O1xyXG4gICAgICAgICAgICAgIGNvbnN0IGJvZHlUb3AgPSBzcHIuYm9keSA/IHNwci5ib2R5LnkgOiBzcHIueSAtIHNwci5oZWlnaHQgLyAyO1xyXG4gICAgICAgICAgICAgIG9wcG9uZW50UGxheWVyLm9wUGxheWVyTmFtZS5zZXRQb3NpdGlvbihzcHIueCwgYm9keVRvcCAtIDM2KTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgb25Db21wbGV0ZTogKCkgPT4ge1xyXG4gICAgICAgICAgICAgIG9wcG9uZW50UGxheWVyLm1vdmVtZW50VHdlZW4gPSBudWxsO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBVcGRhdGUgZmxpcCBhbmQgYW5pbWF0aW9uIGltbWVkaWF0ZWx5ICh0aGVzZSBkb24ndCBuZWVkIHR3ZWVuaW5nKVxyXG4gICAgICAgIG9wcG9uZW50UGxheWVyLm9wcG9uZW50LmZsaXBYID0gZGF0YS5mbGlwO1xyXG4gICAgICAgIGlmICh0eXBlb2Ygb3Bwb25lbnRQbGF5ZXIuYXBwbHlGbGlwT2Zmc2V0ID09PSBcImZ1bmN0aW9uXCIpIHtcclxuICAgICAgICAgIG9wcG9uZW50UGxheWVyLmFwcGx5RmxpcE9mZnNldCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBvcHBvbmVudFBsYXllci5vcHBvbmVudC5hbmltcy5wbGF5KFxyXG4gICAgICAgICAgcmVzb2x2ZUFuaW1LZXkoXHJcbiAgICAgICAgICAgIHRoaXMsXHJcbiAgICAgICAgICAgIG9wcG9uZW50UGxheWVyLmNoYXJhY3RlcixcclxuICAgICAgICAgICAgZGF0YS5hbmltYXRpb24sXHJcbiAgICAgICAgICAgIFwiaWRsZVwiXHJcbiAgICAgICAgICApLFxyXG4gICAgICAgICAgdHJ1ZVxyXG4gICAgICAgICk7XHJcblxyXG4gICAgICAgIC8vIFVwZGF0ZSBuYW1lIHRhZyBwb3NpdGlvblxyXG4gICAgICAgIGNvbnN0IGJvZHlUb3AgPSBvcHBvbmVudFBsYXllci5vcHBvbmVudC5ib2R5XHJcbiAgICAgICAgICA/IG9wcG9uZW50UGxheWVyLm9wcG9uZW50LmJvZHkueVxyXG4gICAgICAgICAgOiBvcHBvbmVudFBsYXllci5vcHBvbmVudC55IC0gb3Bwb25lbnRQbGF5ZXIub3Bwb25lbnQuaGVpZ2h0IC8gMjtcclxuICAgICAgICBvcHBvbmVudFBsYXllci5vcFBsYXllck5hbWUuc2V0UG9zaXRpb24oXHJcbiAgICAgICAgICBvcHBvbmVudFBsYXllci5vcHBvbmVudC54LFxyXG4gICAgICAgICAgYm9keVRvcCAtIDM2XHJcbiAgICAgICAgKTtcclxuXHJcbiAgICAgICAgLy8gUmVtb3RlIHJ1bm5pbmcgZHVzdCAoYXBwcm94aW1hdGU6IGlmIG1vdmVkIGhvcml6b250YWxseSBlbm91Z2gpXHJcbiAgICAgICAgaWYgKGRlbHRhWCA+IDMpIHtcclxuICAgICAgICAgIG9wcG9uZW50UGxheWVyLl9kdXN0VGltZXIgPSAob3Bwb25lbnRQbGF5ZXIuX2R1c3RUaW1lciB8fCAwKSArIDE2OyAvLyBhcHByb3hpbWF0ZSBmcmFtZSBkZWx0YVxyXG4gICAgICAgICAgaWYgKG9wcG9uZW50UGxheWVyLl9kdXN0VGltZXIgPj0gNzApIHtcclxuICAgICAgICAgICAgb3Bwb25lbnRQbGF5ZXIuX2R1c3RUaW1lciA9IDA7XHJcbiAgICAgICAgICAgIGNvbnN0IHNwciA9IG9wcG9uZW50UGxheWVyLm9wcG9uZW50O1xyXG4gICAgICAgICAgICBjb25zdCBib3R0b20gPSBzcHIuYm9keVxyXG4gICAgICAgICAgICAgID8gc3ByLmJvZHkueSArIHNwci5ib2R5LmhlaWdodFxyXG4gICAgICAgICAgICAgIDogc3ByLnkgKyBzcHIuaGVpZ2h0IC8gMjtcclxuICAgICAgICAgICAgc3Bhd25EdXN0KHRoaXMsIHNwci54LCBib3R0b20gLSAyKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIC8vIEF1dGhvcml0YXRpdmUgc2VydmVyIHNuYXBzaG90cyAodGhyb3R0bGVkIGZyb20gc2VydmVyKVxyXG4gICAgc29ja2V0Lm9uKFwic3RhdGVcIiwgKHBheWxvYWQpID0+IHtcclxuICAgICAgaWYgKHBheWxvYWQuZ2FtZUlkICE9PSBnYW1lSWQpIHJldHVybjtcclxuICAgICAgc3RhdGVBY3RpdmUgPSB0cnVlO1xyXG4gICAgICBzdGF0ZUJ1ZmZlci5wdXNoKHBheWxvYWQpO1xyXG4gICAgICAvLyBrZWVwIGJ1ZmZlciBib3VuZGVkXHJcbiAgICAgIGlmIChzdGF0ZUJ1ZmZlci5sZW5ndGggPiBNQVhfU1RBVEVfQlVGRkVSKSBzdGF0ZUJ1ZmZlci5zaGlmdCgpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gV2hlbiBhbm90aGVyIHBsYXllciBhdHRhY2tzLCBkZWxlZ2F0ZSB0byB0aGF0IHBsYXllcidzIGNoYXJhY3RlciBtb2R1bGVcclxuICAgIHNvY2tldC5vbihcImF0dGFja1wiLCAoZGF0YSkgPT4ge1xyXG4gICAgICBjZGJnKCk7XHJcbiAgICAgIGNvbnN0IG93bmVyV3JhcHBlciA9IG9wcG9uZW50UGxheWVyc1tkYXRhLm5hbWVdIHx8IHRlYW1QbGF5ZXJzW2RhdGEubmFtZV07XHJcbiAgICAgIGNvbnN0IG93bmVyQ2hhcmFjdGVyID0gb3duZXJXcmFwcGVyID8gb3duZXJXcmFwcGVyLmNoYXJhY3RlciA6IG51bGw7XHJcbiAgICAgIC8vIFRyeSBjaGFyYWN0ZXItc3BlY2lmaWMgaGFuZGxlciBmaXJzdFxyXG4gICAgICBjb25zdCBoYW5kbGVkID0gb3duZXJDaGFyYWN0ZXJcclxuICAgICAgICA/IGhhbmRsZVJlbW90ZUF0dGFjayh0aGlzLCBvd25lckNoYXJhY3RlciwgZGF0YSwgb3duZXJXcmFwcGVyKVxyXG4gICAgICAgIDogZmFsc2U7XHJcbiAgICAgIGlmIChoYW5kbGVkKSByZXR1cm47XHJcbiAgICAgIGNvbnNvbGUubG9nKFwibm90IGhhbmRsZWRcIik7XHJcbiAgICAgIC8vIEdlbmVyaWMgZmFsbGJhY2sgZm9yIHNpbXBsZSBwcm9qZWN0aWxlc1xyXG4gICAgICBjb25zdCBwcm9qID0gdGhpcy5waHlzaWNzLmFkZC5pbWFnZShkYXRhLngsIGRhdGEueSwgXCJmaXJlYmFsbFwiKTtcclxuICAgICAgcHJvai5zZXRTY2FsZSgwLjQpO1xyXG4gICAgICBwcm9qLnNldFZlbG9jaXR5KChkYXRhLmRpcmVjdGlvbiB8fCAxKSAqIDQwMCwgMCk7XHJcbiAgICAgIHByb2ouZmxpcFggPSBkYXRhPy5kaXJlY3Rpb24gPCAwO1xyXG4gICAgICBwcm9qLmJvZHkuYWxsb3dHcmF2aXR5ID0gZmFsc2U7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBSZW1vdmVkIHByb2plY3RpbGUtdXBkYXRlL2Rlc3Ryb3kgbGlzdGVuZXJzIChubyBuZXR3b3JrIHN5bmNpbmcpXHJcblxyXG4gICAgLy8gV2hlbiBhbm90aGVyIHBsYXllciBkaWVzXHJcbiAgICBzb2NrZXQub24oXCJkZWF0aFwiLCAoZGF0YSkgPT4ge1xyXG4gICAgICBjZGJnKCk7XHJcbiAgICAgIGlmIChkYXRhLnVzZXJuYW1lID09PSB1c2VybmFtZSkge1xyXG4gICAgICAgIC8vIFNlbGYgZGVhdGggYWxyZWFkeSBoYW5kbGVkIHZpYSBoZWFsdGgtdXBkYXRlIGxpc3RlbmVyIGluIHBsYXllci5qc1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG4gICAgICBjb25zdCBvcHBvbmVudFBsYXllciA9XHJcbiAgICAgICAgb3Bwb25lbnRQbGF5ZXJzW2RhdGEudXNlcm5hbWVdIHx8IHRlYW1QbGF5ZXJzW2RhdGEudXNlcm5hbWVdO1xyXG5cclxuICAgICAgaWYgKCFvcHBvbmVudFBsYXllcikgcmV0dXJuOyAvLyBTYWZldHkgZ3VhcmRcclxuXHJcbiAgICAgIC8vIFN0b3AgYW55IGFjdGl2ZSBtb3ZlbWVudCB0d2VlbiBmb3IgdGhlIGR5aW5nIHBsYXllclxyXG4gICAgICBpZiAob3Bwb25lbnRQbGF5ZXIubW92ZW1lbnRUd2Vlbikge1xyXG4gICAgICAgIG9wcG9uZW50UGxheWVyLm1vdmVtZW50VHdlZW4ucmVtb3ZlKCk7XHJcbiAgICAgICAgb3Bwb25lbnRQbGF5ZXIubW92ZW1lbnRUd2VlbiA9IG51bGw7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChkYXRhLnVzZXJuYW1lIGluIG9wcG9uZW50UGxheWVycykge1xyXG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwieW91ci10ZWFtXCIpLnRleHRDb250ZW50ID0gYFlvdXIgVGVhbTogJHtcclxuICAgICAgICAgIHBhcnR5TWVtYmVyc051bSAtIDFcclxuICAgICAgICB9LyR7cGFydHlNZW1iZXJzfSBwbGF5ZXJzYDtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcclxuICAgICAgICAgIFwib3Bwb3NpbmctdGVhbVwiXHJcbiAgICAgICAgKS50ZXh0Q29udGVudCA9IGBPcHBvc2luZyBUZWFtOiAke1xyXG4gICAgICAgICAgcGFydHlNZW1iZXJzTnVtIC0gMVxyXG4gICAgICAgIH0vJHtwYXJ0eU1lbWJlcnN9IHBsYXllcnNgO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBEeWluZyBhbmltYXRpb24gKGNoYXJhY3Rlci1hd2FyZSlcclxuICAgICAgb3Bwb25lbnRQbGF5ZXIub3Bwb25lbnQuYW5pbXMucGxheShcclxuICAgICAgICByZXNvbHZlQW5pbUtleSh0aGlzLCBvcHBvbmVudFBsYXllci5jaGFyYWN0ZXIsIFwiZHlpbmdcIiksXHJcbiAgICAgICAgdHJ1ZVxyXG4gICAgICApO1xyXG4gICAgICBvcHBvbmVudFBsYXllci5vcHBvbmVudC5hbHBoYSA9IDAuNTtcclxuICAgICAgLy8gVXNlIGxvY2FsIHNwcml0ZSBwb3NpdGlvbiAoc2VydmVyIG1heSBzZW5kIDAgaWYgbm90IHBlcnNpc3RlZCB5ZXQpXHJcbiAgICAgIG9wcG9uZW50UGxheWVyLm9wUGxheWVyTmFtZS5zZXRQb3NpdGlvbihcclxuICAgICAgICBvcHBvbmVudFBsYXllci5vcHBvbmVudC54LFxyXG4gICAgICAgIG9wcG9uZW50UGxheWVyLm9wUGxheWVyTmFtZS55ICsgMzBcclxuICAgICAgKTtcclxuICAgICAgb3Bwb25lbnRQbGF5ZXIub3BDdXJyZW50SGVhbHRoID0gMDsgLy8gZW5mb3JjZSB6ZXJvXHJcbiAgICAgIG9wcG9uZW50UGxheWVyLnVwZGF0ZUhlYWx0aEJhcih0cnVlKTsgLy8gaW50ZXJuYWxseSBjb21wdXRlcyBZXHJcblxyXG4gICAgICAvLyBEZWxldGVzIHRoZSBzcHJpdGUgZnJvbSB0aGUgZ2FtZVxyXG4gICAgICBpZiAob3Bwb25lbnRQbGF5ZXJzW2RhdGEudXNlcm5hbWVdKSB7XHJcbiAgICAgICAgZGVsZXRlIG9wcG9uZW50UGxheWVyc1tkYXRhLnVzZXJuYW1lXTtcclxuICAgICAgfSBlbHNlIGlmICh0ZWFtUGxheWVyc1tkYXRhLnVzZXJuYW1lXSkge1xyXG4gICAgICAgIGRlbGV0ZSB0ZWFtUGxheWVyc1tkYXRhLnVzZXJuYW1lXTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gV2hlbiBldmVyeW9uZSBpcyBkZWFkXHJcbiAgICBzb2NrZXQub24oXCJnYW1lLW92ZXJcIiwgKGRhdGEpID0+IHtcclxuICAgICAgY2RiZygpO1xyXG4gICAgICBpZiAoZ2FtZUlkID09PSBkYXRhLmdhbWVJZCkge1xyXG4gICAgICAgIGdhbWVFbmRlZCA9IHRydWU7IC8vIHN0b3AgZW1pdHRpbmcgZnVydGhlciBtb3Zlc1xyXG4gICAgICAgIC8vIFN0b3AgYmFja2dyb3VuZCBtdXNpYyBhbmQgcGxheSByZXN1bHQgbXVzaWNcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgaWYgKHRoaXMuYmdtTWFpbiAmJiB0aGlzLmJnbU1haW4uaXNQbGF5aW5nKSB0aGlzLmJnbU1haW4uc3RvcCgpO1xyXG4gICAgICAgICAgY29uc3QgaXNMb3NlciA9IGRhdGEubG9zZXJzLmluY2x1ZGVzKHVzZXJuYW1lKTtcclxuICAgICAgICAgIGNvbnN0IGtleSA9IGlzTG9zZXIgPyBcImxvc2VcIiA6IFwid2luXCI7XHJcbiAgICAgICAgICBjb25zdCB2b2wgPSBpc0xvc2VyID8gMC41IDogMC42O1xyXG4gICAgICAgICAgdGhpcy5iZ21SZXN1bHQgPSB0aGlzLnNvdW5kLmFkZChrZXksIHsgdm9sdW1lOiB2b2wsIGxvb3A6IGZhbHNlIH0pO1xyXG4gICAgICAgICAgdGhpcy5iZ21SZXN1bHQucGxheSgpO1xyXG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgIC8vIGlnbm9yZSBpZiBhc3NldCBtaXNzaW5nXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGdhbWVPdmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJnYW1lLW92ZXJcIik7XHJcbiAgICAgICAgaWYgKGRhdGEubG9zZXJzLmluY2x1ZGVzKHVzZXJuYW1lKSkge1xyXG4gICAgICAgICAgZ2FtZU92ZXIudGV4dENvbnRlbnQgPSBcIllvdSBMb3NlXCI7XHJcbiAgICAgICAgICBnYW1lT3Zlci5zdHlsZS5jb2xvciA9IFwiI2M4MTIxMlwiO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBnYW1lT3Zlci50ZXh0Q29udGVudCA9IFwiWW91IFdpblwiO1xyXG4gICAgICAgICAgZ2FtZU92ZXIuc3R5bGUuY29sb3IgPSBcIiMxOGMzMjFcIjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFNldHMgZW5kIHNjcmVlbiBuYW1lIHRvIHBsYXllciBuYW1lXHJcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ1c2VybmFtZS10ZXh0XCIpLnRleHRDb250ZW50ID0gdXNlcm5hbWU7XHJcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjaGFyYWN0ZXItdGV4dFwiKS50ZXh0Q29udGVudCA9IGAke1xyXG4gICAgICAgICAgY2hhcmFjdGVyWzBdLnRvVXBwZXJDYXNlKCkgKyBjaGFyYWN0ZXIuc2xpY2UoMSlcclxuICAgICAgICB9YDtcclxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcclxuICAgICAgICAgIFwiY2hhcmFjdGVyLWltYWdlXCJcclxuICAgICAgICApLnNyYyA9IGAvYXNzZXRzLyR7Y2hhcmFjdGVyfS9ib2R5LnBuZ2A7XHJcblxyXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgLy8gUnVucyBhZnRlciAxIHNlY29uZCBvZiBkZWF0aFxyXG4gICAgICAgICAgLy8gRGlzYWJsZXMgbW92ZW1lbnRcclxuICAgICAgICAgIHRoaXMuaW5wdXQuZW5hYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjb250YWluZXJcIikuc3R5bGUuZGlzcGxheSA9IFwiZmxleFwiO1xyXG4gICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJkYXJrLW92ZXJsYXlcIikuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcclxuICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZGFyay1vdmVybGF5XCIpLnN0eWxlLmJhY2tncm91bmRDb2xvciA9XHJcbiAgICAgICAgICAgIFwicmdiYSgwLCAwLCAwLCAwLjM2MylcIjtcclxuICAgICAgICB9LCAxMDAwKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICAvLyBVcGRhdGUgZnVuY3Rpb24gaXMgYSBidWlsdCBpbiBmdW5jdGlvbiB0aGF0IHJ1bnMgYXMgbXVjaCBhcyBwb3NzaWJsZS4gSXQgaXMgY29udHJvbGxlZCBieSB0aGUgcGhhc2VyIHNjZW5lXHJcbiAgdXBkYXRlKCkge1xyXG4gICAgaWYgKGdhbWVFbmRlZCkgcmV0dXJuOyAvLyBoYWx0IGxvb3Agd29yayBhZnRlciBnYW1lIG92ZXJcclxuICAgIGNkYmcoKTtcclxuICAgIGlmICghZGVhZCkge1xyXG4gICAgICBoYW5kbGVQbGF5ZXJNb3ZlbWVudCh0aGlzKTsgLy8gSGFuZGxlcyBtb3ZlbWVudFxyXG5cclxuICAgICAgLy8gVGhyb3R0bGUgbW92ZW1lbnQgdXBkYXRlcyB0byByZWR1Y2UgbmV0d29yayB0cmFmZmljIGFuZCBpbXByb3ZlIHNtb290aG5lc3NcclxuICAgICAgY29uc3Qgbm93ID0gRGF0ZS5ub3coKTtcclxuICAgICAgY29uc3QgY3VycmVudFN0YXRlID0ge1xyXG4gICAgICAgIHg6IE1hdGgucm91bmQocGxheWVyLngpLFxyXG4gICAgICAgIHk6IE1hdGgucm91bmQocGxheWVyLnkpLFxyXG4gICAgICAgIGZsaXA6IHBsYXllci5mbGlwWCxcclxuICAgICAgICBhbmltYXRpb246IHBsYXllci5hbmltcy5jdXJyZW50QW5pbT8ua2V5IHx8IFwiaWRsZVwiLFxyXG4gICAgICB9O1xyXG5cclxuICAgICAgLy8gT25seSBzZW5kIG1vdmVtZW50IHVwZGF0ZSBpZiBlbm91Z2ggdGltZSBoYXMgcGFzc2VkIEFORCBzb21ldGhpbmcgbWVhbmluZ2Z1bCBjaGFuZ2VkXHJcbiAgICAgIGNvbnN0IHBvc2l0aW9uQ2hhbmdlZCA9XHJcbiAgICAgICAgTWF0aC5hYnMoY3VycmVudFN0YXRlLnggLSBsYXN0UGxheWVyU3RhdGUueCkgPiAxIHx8XHJcbiAgICAgICAgTWF0aC5hYnMoY3VycmVudFN0YXRlLnkgLSBsYXN0UGxheWVyU3RhdGUueSkgPiAxO1xyXG4gICAgICBjb25zdCBzdGF0ZUNoYW5nZWQgPVxyXG4gICAgICAgIHBvc2l0aW9uQ2hhbmdlZCB8fFxyXG4gICAgICAgIGN1cnJlbnRTdGF0ZS5mbGlwICE9PSBsYXN0UGxheWVyU3RhdGUuZmxpcCB8fFxyXG4gICAgICAgIGN1cnJlbnRTdGF0ZS5hbmltYXRpb24gIT09IGxhc3RQbGF5ZXJTdGF0ZS5hbmltYXRpb247XHJcblxyXG4gICAgICBpZiAoc3RhdGVDaGFuZ2VkICYmIG5vdyAtIGxhc3RNb3ZlbWVudFNlbnQgPj0gbW92ZW1lbnRUaHJvdHRsZU1zKSB7XHJcbiAgICAgICAgc29ja2V0LmVtaXQoXCJtb3ZlXCIsIHtcclxuICAgICAgICAgIHg6IGN1cnJlbnRTdGF0ZS54LFxyXG4gICAgICAgICAgeTogY3VycmVudFN0YXRlLnksXHJcbiAgICAgICAgICBmbGlwOiBjdXJyZW50U3RhdGUuZmxpcCxcclxuICAgICAgICAgIGFuaW1hdGlvbjogY3VycmVudFN0YXRlLmFuaW1hdGlvbixcclxuICAgICAgICAgIHVzZXJuYW1lLFxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBsYXN0TW92ZW1lbnRTZW50ID0gbm93O1xyXG4gICAgICAgIGxhc3RQbGF5ZXJTdGF0ZSA9IHsgLi4uY3VycmVudFN0YXRlIH07XHJcbiAgICAgICAgY2RiZygpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gSW50ZXJwb2xhdGUgcmVtb3RlIGVudGl0aWVzIH4xMDBtcyBpbiB0aGUgcGFzdCBmb3Igc21vb3RobmVzc1xyXG4gICAgaWYgKHN0YXRlQWN0aXZlICYmIHN0YXRlQnVmZmVyLmxlbmd0aCA+PSAxKSB7XHJcbiAgICAgIGNvbnN0IG5ld2VzdCA9IHN0YXRlQnVmZmVyW3N0YXRlQnVmZmVyLmxlbmd0aCAtIDFdO1xyXG4gICAgICBjb25zdCB0YXJnZXRUID0gbmV3ZXN0LnQgLSBpbnRlcnBEZWxheU1zO1xyXG5cclxuICAgICAgLy8gRmluZCB0d28gc25hcHNob3RzIHN1cnJvdW5kaW5nIHRhcmdldFRcclxuICAgICAgbGV0IG9sZGVyID0gbnVsbDtcclxuICAgICAgbGV0IG5ld2VyID0gbnVsbDtcclxuICAgICAgZm9yIChsZXQgaSA9IHN0YXRlQnVmZmVyLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XHJcbiAgICAgICAgY29uc3QgcyA9IHN0YXRlQnVmZmVyW2ldO1xyXG4gICAgICAgIGlmIChzLnQgPD0gdGFyZ2V0VCkge1xyXG4gICAgICAgICAgb2xkZXIgPSBzO1xyXG4gICAgICAgICAgbmV3ZXIgPSBzdGF0ZUJ1ZmZlcltpICsgMV0gfHwgcztcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICBpZiAoIW9sZGVyKSB7XHJcbiAgICAgICAgb2xkZXIgPSBzdGF0ZUJ1ZmZlclswXTtcclxuICAgICAgICBuZXdlciA9IHN0YXRlQnVmZmVyWzFdIHx8IG9sZGVyO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBjb25zdCB0MCA9IG9sZGVyLnQ7XHJcbiAgICAgIGNvbnN0IHQxID0gTWF0aC5tYXgobmV3ZXIudCwgdDAgKyAxKTtcclxuICAgICAgY29uc3QgYWxwaGEgPSBQaGFzZXIuTWF0aC5DbGFtcCgodGFyZ2V0VCAtIHQwKSAvICh0MSAtIHQwKSwgMCwgMSk7XHJcbiAgICAgIGNvbnN0IGxlcnAgPSAoYSwgYiwgdCkgPT4gYSArIChiIC0gYSkgKiB0O1xyXG5cclxuICAgICAgY29uc3QgYXBwbHlJbnRlcnAgPSAod3JhcHBlciwgbmFtZSkgPT4ge1xyXG4gICAgICAgIGlmICghd3JhcHBlcikgcmV0dXJuO1xyXG4gICAgICAgIGNvbnN0IHNwciA9IHdyYXBwZXIub3Bwb25lbnQ7XHJcbiAgICAgICAgLy8gY2FuY2VsIGFueSBsZWdhY3kgdHdlZW4gdG8gYXZvaWQgZmlnaHRpbmcgaW50ZXJwb2xhdGlvblxyXG4gICAgICAgIGlmICh3cmFwcGVyLm1vdmVtZW50VHdlZW4pIHtcclxuICAgICAgICAgIHdyYXBwZXIubW92ZW1lbnRUd2Vlbi5yZW1vdmUoKTtcclxuICAgICAgICAgIHdyYXBwZXIubW92ZW1lbnRUd2VlbiA9IG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IHMwID0gb2xkZXIucGxheWVyc1tuYW1lXTtcclxuICAgICAgICBjb25zdCBzMSA9IG5ld2VyLnBsYXllcnNbbmFtZV0gfHwgczA7XHJcbiAgICAgICAgaWYgKCFzMCAmJiAhczEpIHJldHVybjtcclxuICAgICAgICBjb25zdCBhU3RhdGUgPSBzMCB8fCBzMTtcclxuICAgICAgICBjb25zdCBiU3RhdGUgPSBzMSB8fCBzMDtcclxuICAgICAgICBpZiAoIWFTdGF0ZSkgcmV0dXJuO1xyXG4gICAgICAgIC8vIElnbm9yZSBvYnZpb3VzbHkgYm9ndXMgc3RhdGVzXHJcbiAgICAgICAgaWYgKE51bWJlci5pc05hTihhU3RhdGUueCkgfHwgTnVtYmVyLmlzTmFOKGFTdGF0ZS55KSkgcmV0dXJuO1xyXG5cclxuICAgICAgICBjb25zdCBpeCA9IGxlcnAoYVN0YXRlLngsIGJTdGF0ZT8ueCA/PyBhU3RhdGUueCwgYWxwaGEpO1xyXG4gICAgICAgIGNvbnN0IGl5ID0gbGVycChhU3RhdGUueSwgYlN0YXRlPy55ID8/IGFTdGF0ZS55LCBhbHBoYSk7XHJcblxyXG4gICAgICAgIC8vIElmIGh1Z2UgdGVsZXBvcnQgYmV0d2VlbiBmcmFtZXMsIHNuYXAgdG8gZGVzdGluYXRpb25cclxuICAgICAgICBjb25zdCBkaXN0ID0gTWF0aC5oeXBvdChcclxuICAgICAgICAgIChiU3RhdGU/LnggPz8gYVN0YXRlLngpIC0gYVN0YXRlLngsXHJcbiAgICAgICAgICAoYlN0YXRlPy55ID8/IGFTdGF0ZS55KSAtIGFTdGF0ZS55XHJcbiAgICAgICAgKTtcclxuICAgICAgICBpZiAoZGlzdCA+IDI2MCkge1xyXG4gICAgICAgICAgc3ByLnggPSBiU3RhdGU/LnggPz8gYVN0YXRlLng7XHJcbiAgICAgICAgICBzcHIueSA9IGJTdGF0ZT8ueSA/PyBhU3RhdGUueTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgc3ByLnggPSBpeDtcclxuICAgICAgICAgIHNwci55ID0gaXk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBPcmllbnRhdGlvbi9hbmltYXRpb246IHRha2UgZnJvbSBuZXdlciBpZiBwcmVzZW50XHJcbiAgICAgICAgY29uc3QgYW5pbVNyYyA9IGJTdGF0ZSAmJiBiU3RhdGUuYW5pbWF0aW9uID8gYlN0YXRlIDogYVN0YXRlO1xyXG4gICAgICAgIGNvbnN0IHByZXZGbGlwID0gc3ByLmZsaXBYO1xyXG4gICAgICAgIHNwci5mbGlwWCA9ICEhYW5pbVNyYy5mbGlwO1xyXG4gICAgICAgIGlmIChcclxuICAgICAgICAgIHNwci5mbGlwWCAhPT0gcHJldkZsaXAgJiZcclxuICAgICAgICAgIHR5cGVvZiB3cmFwcGVyLmFwcGx5RmxpcE9mZnNldCA9PT0gXCJmdW5jdGlvblwiXHJcbiAgICAgICAgKSB7XHJcbiAgICAgICAgICB3cmFwcGVyLmFwcGx5RmxpcE9mZnNldCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoYW5pbVNyYy5hbmltYXRpb24pIHtcclxuICAgICAgICAgIHNwci5hbmltcy5wbGF5KFxyXG4gICAgICAgICAgICByZXNvbHZlQW5pbUtleSh0aGlzLCB3cmFwcGVyLmNoYXJhY3RlciwgYW5pbVNyYy5hbmltYXRpb24sIFwiaWRsZVwiKSxcclxuICAgICAgICAgICAgdHJ1ZVxyXG4gICAgICAgICAgKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIE5hbWUgdGFnXHJcbiAgICAgICAgY29uc3QgYm9keVRvcCA9IHNwci5ib2R5ID8gc3ByLmJvZHkueSA6IHNwci55IC0gc3ByLmhlaWdodCAvIDI7XHJcbiAgICAgICAgd3JhcHBlci5vcFBsYXllck5hbWUuc2V0UG9zaXRpb24oc3ByLngsIGJvZHlUb3AgLSAzNik7XHJcbiAgICAgIH07XHJcblxyXG4gICAgICBmb3IgKGNvbnN0IG5hbWUgaW4gb3Bwb25lbnRQbGF5ZXJzKVxyXG4gICAgICAgIGFwcGx5SW50ZXJwKG9wcG9uZW50UGxheWVyc1tuYW1lXSwgbmFtZSk7XHJcbiAgICAgIGZvciAoY29uc3QgbmFtZSBpbiB0ZWFtUGxheWVycykgYXBwbHlJbnRlcnAodGVhbVBsYXllcnNbbmFtZV0sIG5hbWUpO1xyXG4gICAgfVxyXG4gICAgLy8gVXBkYXRlcyBoZWFsdGggYmFyc1xyXG4gICAgZm9yIChjb25zdCBwbGF5ZXIgaW4gb3Bwb25lbnRQbGF5ZXJzKSB7XHJcbiAgICAgIGNvbnN0IG9wcG9uZW50UGxheWVyID0gb3Bwb25lbnRQbGF5ZXJzW3BsYXllcl07XHJcbiAgICAgIG9wcG9uZW50UGxheWVyLnVwZGF0ZUhlYWx0aEJhcigpO1xyXG4gICAgfVxyXG4gICAgZm9yIChjb25zdCBwbGF5ZXIgaW4gdGVhbVBsYXllcnMpIHtcclxuICAgICAgY29uc3Qgb3Bwb25lbnRQbGF5ZXIgPSB0ZWFtUGxheWVyc1twbGF5ZXJdO1xyXG4gICAgICBvcHBvbmVudFBsYXllci51cGRhdGVIZWFsdGhCYXIoKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBObyByZW1vdGUgcHJvamVjdGlsZSBpbnRlcnBvbGF0aW9uIHJlcXVpcmVkXHJcbiAgfVxyXG59XHJcblxyXG5jb25zdCBjb25maWcgPSB7XHJcbiAgdHlwZTogUGhhc2VyLkFVVE8sXHJcbiAgLy8gUGl4ZWwtYXJ0IGZyaWVuZGx5IHNldHRpbmdzXHJcbiAgcGl4ZWxBcnQ6IHRydWUsXHJcbiAgcm91bmRQaXhlbHM6IHRydWUsXHJcbiAgYW50aWFsaWFzOiBmYWxzZSxcclxuICByZXNvbHV0aW9uOiB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyxcclxuICBzY2FsZToge1xyXG4gICAgLy8gTWFrZXMgc3VyZSB0aGUgZ2FtZSBsb29rcyBnb29kIG9uIGFsbCBzY3JlZW5zXHJcbiAgICBtb2RlOiBQaGFzZXIuU2NhbGUuRklULFxyXG4gICAgYXV0b0NlbnRlcjogUGhhc2VyLlNjYWxlLkNFTlRFUl9CT1RILFxyXG4gICAgd2lkdGg6IDEzMDAsXHJcbiAgICBoZWlnaHQ6IDYwMCxcclxuICB9LFxyXG4gIHNjZW5lOiBHYW1lU2NlbmUsXHJcbiAgcGh5c2ljczoge1xyXG4gICAgZGVmYXVsdDogXCJhcmNhZGVcIixcclxuICAgIGFyY2FkZToge1xyXG4gICAgICBncmF2aXR5OiB7IHk6IDc1MCB9LFxyXG4gICAgICBkZWJ1ZzogdHJ1ZSxcclxuICAgIH0sXHJcbiAgfSxcclxufTtcclxuXHJcbmNvbnN0IGdhbWUgPSBuZXcgUGhhc2VyLkdhbWUoY29uZmlnKTtcclxuXHJcbmV4cG9ydCB7IG9wcG9uZW50UGxheWVycywgdGVhbVBsYXllcnMgfTtcclxuIiwiLy8gY29va2llcy5qc1xyXG5cclxuY29uc3QgREVGQVVMVF9QQVRIID0gXCIvXCI7XHJcbmNvbnN0IERFRkFVTFRfU0FNRVNJVEUgPSBcIkxheFwiO1xyXG5cclxuLyoqXHJcbiAqIFNldCBhIG5vbi1IdHRwT25seSBjb29raWUgZnJvbSB0aGUgYnJvd3Nlci5cclxuICogTk9URTogWW91IGNhbm5vdCBzZXQvY2xlYXIgdGhlIHNpZ25lZCBIdHRwT25seSBpZGVudGl0eSBjb29raWUgKGd1ZXN0X2lkL3VzZXJfaWQpIGZyb20gSlMuXHJcbiAqIFVzZSBhIHNlcnZlciBlbmRwb2ludCAoZS5nLiwgUE9TVCAvbG9nb3V0KSB0byBjbGVhciBpZGVudGl0eSBjb29raWVzLlxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIHNldENvb2tpZShcclxuICBuYW1lLFxyXG4gIHZhbHVlLFxyXG4gIHtcclxuICAgIGRheXMgPSAzMCwgICAgICAgICAgIC8vIGRlZmF1bHQgMzAgZGF5c1xyXG4gICAgcGF0aCA9IERFRkFVTFRfUEFUSCxcclxuICAgIHNhbWVTaXRlID0gREVGQVVMVF9TQU1FU0lURSwgLy8gXCJMYXhcIiBieSBkZWZhdWx0XHJcbiAgICBzZWN1cmUsICAgICAgICAgICAgICAvLyBhdXRvLXRydWUgb24gSFRUUFMgaWYgbm90IHByb3ZpZGVkXHJcbiAgfSA9IHt9XHJcbikge1xyXG4gIGNvbnN0IG1heEFnZSA9IE1hdGgubWF4KDAsIE1hdGguZmxvb3IoZGF5cyAqIDI0ICogNjAgKiA2MCkpOyAvLyBzZWNvbmRzXHJcbiAgY29uc3QgaXNIdHRwcyA9XHJcbiAgICB0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiICYmXHJcbiAgICB3aW5kb3cubG9jYXRpb24gJiZcclxuICAgIHdpbmRvdy5sb2NhdGlvbi5wcm90b2NvbCA9PT0gXCJodHRwczpcIjtcclxuICBjb25zdCB1c2VTZWN1cmUgPSBzZWN1cmUgPz8gaXNIdHRwcztcclxuXHJcbiAgbGV0IGNvb2tpZSA9XHJcbiAgICBgJHtlbmNvZGVVUklDb21wb25lbnQobmFtZSl9PSR7ZW5jb2RlVVJJQ29tcG9uZW50KHZhbHVlKX07IGAgK1xyXG4gICAgYE1heC1BZ2U9JHttYXhBZ2V9OyBQYXRoPSR7cGF0aH07IFNhbWVTaXRlPSR7c2FtZVNpdGV9YDtcclxuXHJcbiAgaWYgKHVzZVNlY3VyZSkgY29va2llICs9IFwiOyBTZWN1cmVcIjtcclxuXHJcbiAgZG9jdW1lbnQuY29va2llID0gY29va2llO1xyXG59XHJcblxyXG4vKiogQmFja3dhcmQgY29tcGF0aWJpbGl0eSBmb3IgZXhpc3RpbmcgaW1wb3J0cyAqL1xyXG5leHBvcnQgY29uc3QgY3JlYXRlQ29va2llID0gc2V0Q29va2llO1xyXG5cclxuLyoqXHJcbiAqIEdldCBhIGNvb2tpZSB2YWx1ZSBieSBuYW1lLiBSZXR1cm5zIFwiXCIgaWYgbm90IGZvdW5kIChiYWNrd2FyZCBjb21wYXRpYmxlKS5cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRDb29raWUobmFtZSkge1xyXG4gIGNvbnN0IG5lZWRsZSA9IGAke2VuY29kZVVSSUNvbXBvbmVudChuYW1lKX09YDtcclxuICBjb25zdCByYXcgPSBkb2N1bWVudC5jb29raWUgfHwgXCJcIjtcclxuICBpZiAoIXJhdykgcmV0dXJuIFwiXCI7XHJcbiAgY29uc3QgcGFydHMgPSByYXcuc3BsaXQoXCI7IFwiKTtcclxuICBmb3IgKGNvbnN0IHBhcnQgb2YgcGFydHMpIHtcclxuICAgIGlmIChwYXJ0LnN0YXJ0c1dpdGgobmVlZGxlKSkge1xyXG4gICAgICByZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KHBhcnQuc2xpY2UobmVlZGxlLmxlbmd0aCkpO1xyXG4gICAgfVxyXG4gIH1cclxuICByZXR1cm4gXCJcIjtcclxufVxyXG5cclxuLyoqXHJcbiAqIERlbGV0ZSBhIGNvb2tpZSBieSBuYW1lLlxyXG4gKiBOT1RFOiBUaGlzIGNhbm5vdCBkZWxldGUgSHR0cE9ubHkgY29va2llcyBzZXQgYnkgdGhlIHNlcnZlcjsgdXNlIGEgc2VydmVyIHJvdXRlIChlLmcuLCAvbG9nb3V0KS5cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBkZWxldGVDb29raWUoXHJcbiAgbmFtZSxcclxuICB7IHBhdGggPSBERUZBVUxUX1BBVEgsIHNhbWVTaXRlID0gREVGQVVMVF9TQU1FU0lURSwgc2VjdXJlIH0gPSB7fVxyXG4pIHtcclxuICBjb25zdCBpc0h0dHBzID1cclxuICAgIHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgJiZcclxuICAgIHdpbmRvdy5sb2NhdGlvbiAmJlxyXG4gICAgd2luZG93LmxvY2F0aW9uLnByb3RvY29sID09PSBcImh0dHBzOlwiO1xyXG4gIGNvbnN0IHVzZVNlY3VyZSA9IHNlY3VyZSA/PyBpc0h0dHBzO1xyXG5cclxuICBsZXQgY29va2llID1cclxuICAgIGAke2VuY29kZVVSSUNvbXBvbmVudChuYW1lKX09OyBNYXgtQWdlPTA7IFBhdGg9JHtwYXRofTsgU2FtZVNpdGU9JHtzYW1lU2l0ZX1gO1xyXG4gIGlmICh1c2VTZWN1cmUpIGNvb2tpZSArPSBcIjsgU2VjdXJlXCI7XHJcbiAgZG9jdW1lbnQuY29va2llID0gY29va2llO1xyXG59XHJcblxyXG4vKiogQ29udmVuaWVuY2UgaGVscGVyIGZvciB5b3VyIFVJIGJhbm5lciAqL1xyXG5leHBvcnQgZnVuY3Rpb24gZ2V0RGlzcGxheU5hbWUoKSB7XHJcbiAgcmV0dXJuIGdldENvb2tpZShcImRpc3BsYXlfbmFtZVwiKSB8fCBcIkd1ZXN0XCI7XHJcbn1cclxuIl0sIm5hbWVzIjpbImJhc2UiLCJwbGF0Zm9ybSIsImxlZnRQbGF0Zm9ybSIsInJpZ2h0UGxhdGZvcm0iLCJjaGFyYWN0ZXJTdGF0cyIsIm5pbmphIiwiYmFzZUhlYWx0aCIsImF0dGFja0Rlc2NyaXB0aW9uIiwiYmFzZURhbWFnZSIsImFtbW9Db29sZG93bk1zIiwiYW1tb1JlbG9hZE1zIiwiYW1tb0NhcGFjaXR5Iiwic3BlY2lhbERlc2NyaXB0aW9uIiwic3BlY2lhbEJhc2VEYW1hZ2UiLCJzcGVjaWFsQ2hhcmdlSGl0cyIsInNwcml0ZVNjYWxlIiwiYm9keSIsIndpZHRoU2hyaW5rIiwiaGVpZ2h0U2hyaW5rIiwib2Zmc2V0WEZyb21IYWxmIiwib2Zmc2V0WSIsImRlc2NyaXB0aW9uIiwiZnJlZSIsInRob3JnIiwiZHJhdmVuIiwiZmxpcE9mZnNldCIsInVubG9ja1ByaWNlIiwibW9kdWxlIiwiZXhwb3J0cyIsIkRFRkFVTFRfQ0hBUkFDVEVSIiwiTEVWRUxfQ0FQIiwiZGVmYXVsdENoYXJhY3Rlckxpc3QiLCJPYmplY3QiLCJmcm9tRW50cmllcyIsImtleXMiLCJtYXAiLCJjaGFyIiwidXBncmFkZVByaWNlIiwibGV2ZWwiLCJNYXRoIiwicG93IiwiY2hhcmFjdGVyIiwidW5kZWZpbmVkIiwiX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiY2FjaGVkTW9kdWxlIiwiaWQiLCJsb2FkZWQiLCJfX3dlYnBhY2tfbW9kdWxlc19fIiwiZCIsImRlZmluaXRpb24iLCJrZXkiLCJvIiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiaG1kIiwiY3JlYXRlIiwiY2hpbGRyZW4iLCJzZXQiLCJFcnJvciIsIm9iaiIsInByb3AiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJiYXNlTWlkZGxlIiwiYmFzZVRvcCIsImJhc2VMZWZ0IiwiYmFzZVJpZ2h0IiwidGlueVBsYXRmb3JtMSIsInRpbnlQbGF0Zm9ybTIiLCJ0aW55UGxhdGZvcm0zIiwidGlueVBsYXRmb3JtNCIsInRpbnlQbGF0Zm9ybTUiLCJ0aW55UGxhdGZvcm02IiwibHVzaHlQZWFrc09iamVjdHMiLCJtYW5ncm92ZU1lYWRvd09iamVjdHMiLCJ3aW5kb3ciLCJpbyIsIndpdGhDcmVkZW50aWFscyIsImF1dG9Db25uZWN0IiwiUmV0dXJuaW5nU2h1cmlrZW4iLCJzY2VuZSIsInN0YXJ0UG9zIiwib3duZXJTcHJpdGUiLCJjb25maWciLCJfdGhpcyIsIl9jbGFzc0NhbGxDaGVjayIsIl9jYWxsU3VwZXIiLCJ4IiwieSIsImNmZyIsImFzc2lnbiIsImRpcmVjdGlvbiIsImZvcndhcmREaXN0YW5jZSIsIm91dHdhcmREdXJhdGlvbiIsInJldHVyblNwZWVkIiwicm90YXRpb25TcGVlZCIsInNjYWxlIiwiZGFtYWdlIiwidXNlcm5hbWUiLCJnYW1lSWQiLCJpc093bmVyIiwibWF4TGlmZXRpbWUiLCJoaXRDb29sZG93biIsInBoYXNlIiwiZWxhcHNlZCIsInRvdGFsRWxhcHNlZCIsImhvdmVyRHVyYXRpb24iLCJyZXR1cm5BY2NlbGVyYXRpb24iLCJjdXJyZW50UmV0dXJuU3BlZWQiLCJoaXRUaW1lc3RhbXBzIiwidHJhaWxJbnRlcnZhbCIsInRyYWlsQWNjdW0iLCJ0cmFpbHMiLCJtYXhUcmFpbHMiLCJhZGQiLCJleGlzdGluZyIsIl9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQiLCJwaHlzaWNzIiwic2V0U2NhbGUiLCJhbGxvd0dyYXZpdHkiLCJzZXREZXB0aCIsInNldEFuZ3VsYXJWZWxvY2l0eSIsInN0YXJ0WCIsInN0YXJ0WSIsImVuZFgiLCJlbmRZIiwiY3RybDFYIiwiY3RybDFZIiwiY3RybDJYIiwiY3RybDJZIiwiZ2xvd0NvbG9yIiwiZ2xvdyIsImdyYXBoaWNzIiwiZGVwdGgiLCJzZXRCbGVuZE1vZGUiLCJQaGFzZXIiLCJCbGVuZE1vZGVzIiwiQUREIiwiX2RyYXdHbG93IiwidHdlZW5zIiwidGFyZ2V0cyIsImZyb20iLCJ0byIsImFscGhhIiwiZHVyYXRpb24iLCJyZXBlYXQiLCJ5b3lvIiwiZWFzZSIsImV2ZW50cyIsIm9uIiwidXBkYXRlU2h1cmlrZW4iLCJfaW5oZXJpdHMiLCJQaHlzaWNzIiwiQXJjYWRlIiwiSW1hZ2UiLCJ2YWx1ZSIsImNvbG9ySW50IiwiYmFzZVJhZGl1cyIsInRoaXMiLCJpbm5lclJhZGl1cyIsIm1pZFJhZGl1cyIsIm91dGVyUmFkaXVzIiwiYyIsIkRpc3BsYXkiLCJDb2xvciIsIkludGVnZXJUb0NvbG9yIiwiY2xlYXIiLCJmaWxsU3R5bGUiLCJjb2xvciIsImZpbGxDaXJjbGUiLCJ0IiwicDAiLCJwMSIsInAyIiwicDMiLCJpdCIsInRhcmdldFdyYXBwZXIiLCJ0YXJnZXRVc2VybmFtZSIsIl91c2VybmFtZSIsIm5hbWUiLCJub3ciLCJ0aW1lIiwic29ja2V0IiwiZW1pdCIsImF0dGFja2VyIiwidGFyZ2V0Iiwic291bmQiLCJwbGF5Iiwidm9sdW1lIiwicmF0ZSIsImUiLCJvYmplY3RzIiwiX3RoaXMyIiwiZm9yRWFjaCIsInNwcml0ZSIsIm9wcG9uZW50Iiwib3ZlcmxhcCIsInRyeURhbWFnZSIsInMiLCJpbWFnZSIsIm9uQ29tcGxldGUiLCJkZXN0cm95IiwicHVzaCIsImxlbmd0aCIsIm9sZCIsInNoaWZ0Iiwib2ZmIiwiXyIsImRlbHRhIiwiYWN0aXZlIiwic3Bhd25UcmFpbCIsImRlc3Ryb3lTaHVyaWtlbiIsInJhd1QiLCJDbGFtcCIsImNvcyIsIlBJIiwibngiLCJjdWJpYyIsIm55Iiwic2V0UG9zaXRpb24iLCJkeCIsImR5IiwiZGlzdCIsInNxcnQiLCJtaW4iLCJzcGQiLCJvblJldHVybiIsIk5BTUUiLCJOaW5qYSIsIl9yZWYiLCJwbGF5ZXIiLCJvcHBvbmVudFBsYXllcnNSZWYiLCJtYXBPYmplY3RzIiwiYW1tb0hvb2tzIiwiYW1tbyIsImlucHV0IiwiaGFuZGxlUG9pbnRlckRvd24iLCJwYXlsb2FkQnVpbGRlciIsIm9uQWZ0ZXJGaXJlIiwiX3RoaXMkYW1tbyIsImdldEFtbW9Db29sZG93bk1zIiwidHJ5Q29uc3VtZSIsInNldENhbkF0dGFjayIsInNldElzQXR0YWNraW5nIiwiZHJhd0FtbW9CYXIiLCJjb29sZG93biIsImRlbGF5ZWRDYWxsIiwic2V0VGltZW91dCIsInBheWxvYWQiLCJwIiwiZmxpcFgiLCJjb25zdHJ1Y3RvciIsImdldFN0YXRzIiwiZmlyZWQiLCJwZXJmb3JtRGVmYXVsdEF0dGFjayIsInNmeCIsInNldFZvbHVtZSIsInNldFJhdGUiLCJhbmltcyIsImV4aXN0cyIsImNvbmNhdCIsImFyY0hlaWdodCIsInJldHVybmluZyIsImVuZW15TGlzdCIsInZhbHVlcyIsImF0dGFjaEVuZW15T3ZlcmxhcCIsImF0dGFjaE1hcE92ZXJsYXAiLCJfdGhpczIkYW1tbyIsImdyYW50Q2hhcmdlIiwidGV4dHVyZUtleSIsInN0YXRpY1BhdGgiLCJhcmd1bWVudHMiLCJsb2FkIiwiYXRsYXMiLCJhdWRpbyIsImZyYW1lcyIsImdlbmVyYXRlRnJhbWVOYW1lcyIsInByZWZpeCIsImVuZCIsInplcm9QYWQiLCJmcmFtZVJhdGUiLCJhbmltYXRpb25zIiwiZGF0YSIsIm93bmVyV3JhcHBlciIsInByb2oiLCJ3ZWFwb24iLCJzZXRWZWxvY2l0eSIsInRleCIsInRleHR1cmVzIiwiYWxsTmFtZXMiLCJnZXRGcmFtZU5hbWVzIiwibWFrZSIsIk1hcCIsIm4iLCJ0b0xvd2VyQ2FzZSIsInByZWZpeGVzIiwiY2FuZGlkYXRlcyIsIl9zdGVwIiwibWF0Y2hlZCIsIl9pdGVyYXRvciIsIl9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyIiwiX2xvb3AiLCJsbiIsInNvbWUiLCJzdGFydHNXaXRoIiwiZG9uZSIsImVyciIsImYiLCJzb3J0IiwiYSIsImIiLCJyYSIsImV4ZWMiLCJyYiIsInBhcnNlSW50IiwibG9jYWxlQ29tcGFyZSIsImZpbmRGcmFtZXMiLCJmcmFtZSIsIlRob3JnIiwiX2NyZWF0ZUNsYXNzIiwiX3NwYXduU2xhc2hFZmZlY3QiLCJhbHJlYWR5SGl0IiwiU2V0IiwiZW5lbWllcyIsImNlbnRlck9mZnNldFkiLCJoZWlnaHQiLCJjeCIsInN0YXJ0UmFkIiwiRGVnVG9SYWQiLCJlbmRSYWQiLCJwcm94eSIsIm9uVXBkYXRlIiwiY3VyIiwiTGluZWFyIiwidGlwWCIsInRpcFkiLCJzaW4iLCJyb3VuZCIsInJhbmdlIiwiX2kiLCJfZW5lbWllcyIsIndyYXAiLCJzcHIiLCJoYXMiLCJoeXBvdCIsInNpZ24iLCJ0eXBlIiwiaGFzVGV4Iiwib3JpZ2luT2Zmc2V0WSIsImN5IiwicngiLCJyeSIsImVmZiIsInNldE9yaWdpbiIsInNldEZsaXBYIiwidGFuZ2VudCIsImF0YW4yIiwicm90YXRpb24iLCJnIiwidGhpY2tuZXNzIiwibWF4IiwicnhJbm5lciIsInJ5SW5uZXIiLCJlcHQiLCJ0aGV0YSIsInJ4MCIsInJ5MCIsInN0ZXBzIiwidDAiLCJiZWdpblBhdGgiLCJpIiwibW92ZVRvIiwibGluZVRvIiwiY2xvc2VQYXRoIiwiZmlsbFBhdGgiLCJsaW5lU3R5bGUiLCJmbG9vciIsInN0cm9rZVBhdGgiLCJfZGVmaW5lUHJvcGVydHkiLCJEcmF2ZW5FZmZlY3RzIiwiX3RpbWVyIiwiX2ludGVydmFsIiwiX3Bvb2wiLCJfcG9vbE1heCIsImZpbmQiLCJpZHgiLCJpbmRleE9mIiwic3BsaWNlIiwiX2FjcXVpcmUiLCJiYXNlU2l6ZSIsIkJldHdlZW4iLCJHZXRDb2xvciIsImRyaWZ0WCIsImRyaWZ0WSIsInNjYWxlVGFyZ2V0IiwiRmxvYXRCZXR3ZWVuIiwiX3JlbGVhc2UiLCJkZWx0YU1zIiwiaXNNb3ZpbmciLCJkZWFkIiwiYmFzZVgiLCJiYXNlWSIsImNvdW50IiwiX3NwYXduRmxhbWUiLCJwbnQiLCJhbHJlYWR5IiwidGlwIiwiX2kzIiwiRGlzdGFuY2UiLCJMb2FkZXIiLCJFdmVudHMiLCJDT01QTEVURSIsInNvdXJjZSIsImdsVGV4dHVyZSIsInNldEZpbHRlciIsIlRleHR1cmVzIiwiRmlsdGVyTW9kZSIsIk5FQVJFU1QiLCJnYW1lIiwicGl4ZWxBcnQiLCJhbnRpYWxpYXMiLCJyZWdpc3RyeSIsImdldFRleHR1cmVLZXkiLCJDbHMiLCJyZXNvbHZlQW5pbUtleSIsImdlbmVyaWNLZXkiLCJmYWxsYmFjayIsImluY2x1ZGVzIiwic3VmZml4Iiwic3BsaXQiLCJzbGljZSIsImpvaW4iLCJyZW1hcHBlZCIsInByZWZlcnJlZCIsImZiUHJlZmVycmVkIiwiZ2V0RWZmZWN0c0NsYXNzIiwiRWZmZWN0cyIsImdldEVmZmVjdHMiLCJjdXJzb3JzIiwiZHVzdFBvb2wiLCJzcGF3bkR1c3QiLCJ0aW50IiwiYWxwaGFTdGFydCIsInB1ZmZDb2xvciIsInJpc2UiLCJoZWFsdGhCYXIiLCJoZWFsdGhUZXh0IiwiYW1tb0JhciIsImFtbW9CYXJCYWNrIiwicGxheWVyTmFtZSIsImluZGljYXRvclRyaWFuZ2xlIiwiY3VycmVudENoYXJhY3RlciIsInNwYXduIiwicGxheWVyc0luVGVhbSIsInNwYXduUGxhdGZvcm0iLCJjYW5XYWxsSnVtcCIsImlzSnVtcGluZyIsImlzQXR0YWNraW5nIiwiY2FuQXR0YWNrIiwic2Z4V2Fsa0Nvb2xkb3duIiwid2FzT25Hcm91bmQiLCJtYXhIZWFsdGgiLCJjdXJyZW50SGVhbHRoIiwiYW1tb0NoYXJnZXMiLCJuZXh0RmlyZVRpbWUiLCJyZWxvYWRUaW1lck1zIiwibG9jYXRpb24iLCJwYXRobmFtZSIsImZpbHRlciIsIkJvb2xlYW4iLCJwb3AiLCJkdXN0VGltZXIiLCJib2R5Q29uZmlnIiwiYXBwbHlGbGlwT2Zmc2V0TG9jYWwiLCJjaGFyRWZmZWN0cyIsInVwZGF0ZUhlYWx0aEJhciIsImRpc3BsYXllZFdpZHRoIiwiaGVhbHRoQmFyWCIsImhlYWx0aEJhcldpZHRoIiwic2V0VGV4dCIsImZpbGxSZWN0Iiwic3Ryb2tlUm91bmRlZFJlY3QiLCJmaWxsUm91bmRlZFJlY3QiLCJ3aWR0aCIsImZvcmNlZFgiLCJmb3JjZWRZIiwiYW1tb0JhcldpZHRoIiwiYm9keVRvcCIsInNlZ21lbnRXaWR0aCIsInBlcmNlbnQiLCJzZWdYIiwiZmlsbENvbG9yIiwiY2FsY3VsYXRlU3Bhd24iLCJhdmFpbGFibGVTcGFjZSIsImxlZnRNb3N0IiwiZ2V0Qm91bmRzIiwibGVmdCIsInNwYXduWSIsImdldFRvcENlbnRlciIsInNwYXduWCIsImNhbGN1bGF0ZU1hbmdyb3ZlU3Bhd24iLCJwb3NpdGlvbiIsInNwYXduUGFyYW0iLCJTdHJpbmciLCJwcmV2IiwiaGVhbHRoIiwiZW5hYmxlZCIsIk9wUGxheWVyIiwidGVhbSIsIm9wTWF4SGVhbHRoIiwib3BDdXJyZW50SGVhbHRoIiwib3BIZWFsdGhCYXJXaWR0aCIsIm1vdmVtZW50VHdlZW4iLCJlZmZlY3RzIiwiY3JlYXRlT3BQbGF5ZXIiLCJfYnMkd2lkdGhTaHJpbmsiLCJfYnMkaGVpZ2h0U2hyaW5rIiwic2V0VmlzaWJsZSIsInN0YXRzIiwib3BGcmFtZSIsImJzIiwic2V0U2l6ZSIsImFwcGx5RmxpcE9mZnNldCIsIkVmZmVjdHNDbHMiLCJfb25TY2VuZVVwZGF0ZSIsIm9wUGxheWVyTmFtZSIsInRleHQiLCJzZXRTdHlsZSIsImZvbnQiLCJmaWxsIiwib3BIZWFsdGhUZXh0IiwiZm9udEZhbWlseSIsImZvbnRTaXplIiwic3Ryb2tlIiwic3Ryb2tlVGhpY2tuZXNzIiwib3BIZWFsdGhCYXIiLCJ1cGRhdGVVSVBvc2l0aW9uIiwibW92aW5nIiwiYWJzIiwidmVsb2NpdHkiLCJpc0RlYWQiLCJ1cGRhdGUiLCJsb29wIiwiX2JzJG9mZnNldFhGcm9tSGFsZiIsIl9icyRvZmZzZXRZIiwiZXh0cmEiLCJzZXRPZmZzZXQiLCJoZWFsdGhCYXJZIiwiaGVhbHRoUGVyY2VudGFnZSIsIk51bWJlciIsImlzTmFOIiwicmVtb3ZlIiwiY2RiZyIsInNlc3Npb25TdG9yYWdlIiwiZ2V0SXRlbSIsIm5lZWRsZSIsImVuY29kZVVSSUNvbXBvbmVudCIsInJhdyIsImRvY3VtZW50IiwiY29va2llIiwicGFydCIsImRlY29kZVVSSUNvbXBvbmVudCIsImdldENvb2tpZSIsInBhcnR5TWVtYmVycyIsInBhcnR5TWVtYmVyc051bSIsIm9wcG9uZW50UGxheWVycyIsInRlYW1QbGF5ZXJzIiwiZ2FtZUVuZGVkIiwibGFzdE1vdmVtZW50U2VudCIsImxhc3RQbGF5ZXJTdGF0ZSIsImZsaXAiLCJhbmltYXRpb24iLCJzdGF0ZUFjdGl2ZSIsInN0YXRlQnVmZmVyIiwiR2FtZVNjZW5lIiwiU2NlbmUiLCJfT2JqZWN0JGtleXMiLCJwcmVsb2FkIiwicHJlbG9hZEFsbCIsInRpbGVtYXBUaWxlZEpTT04iLCJfdGhpcyRjYW1lcmFzIiwiX3RoaXMkaW5wdXQka2V5Ym9hcmQiLCJjYW1lcmFzIiwibWFpbiIsInJvdW5kUGl4ZWxzIiwiY2VudGVyWCIsImJhY2tncm91bmQiLCJkaXNwbGF5V2lkdGgiLCJzeXMiLCJjYW52YXMiLCJkaXNwbGF5SGVpZ2h0Iiwic2V0SW1tb3ZhYmxlIiwibHVzaHlQZWFrcyIsIm1hbmdyb3ZlTWVhZG93IiwiX2kyIiwiX09iamVjdCRrZXlzMiIsInNldHVwQW5pbWF0aW9ucyIsInNldHVwQWxsIiwiX2JnbVN0YXJ0ZWQiLCJzdGFydEJnbSIsImJnbU1haW4iLCJsb2NrZWQiLCJvbmNlIiwia2V5Ym9hcmQiLCJzY2VuZVBhcmFtIiwic3Bhd25QbGF0Zm9ybVBhcmFtIiwicGxheWVyc0luVGVhbVBhcmFtIiwibWFwUGFyYW0iLCJvcHBvbmVudFBsYXllcnNQYXJhbSIsIl9zdGF0cyRtYXhIZWFsdGgiLCJfc3RhdHMkYW1tb0Nvb2xkb3duTXMiLCJfc3RhdHMkYW1tb1JlbG9hZE1zIiwiX3N0YXRzJGFtbW9DYXBhY2l0eSIsImNyZWF0ZUN1cnNvcktleXMiLCJfY2ZnJG9mZnNldFhGcm9tSGFsZiIsIl9jZmckb2Zmc2V0WSIsIndvcmxkIiwiYm91bmRzIiwiYm90dG9tIiwidHJpYW5nbGUiLCJHZW9tIiwiVHJpYW5nbGUiLCJmaWxsVHJpYW5nbGVTaGFwZSIsImdldEFtbW9DYXBhY2l0eSIsImdldEFtbW9SZWxvYWRNcyIsImdldENoYXJnZXMiLCJnZXROZXh0RmlyZVRpbWUiLCJEYXRlIiwidiIsImN0cmwiLCJkZXBzIiwiY3JlYXRlQ2hhcmFjdGVyRm9yIiwiYXR0YWNoSW5wdXQiLCJjcmVhdGVQbGF5ZXIiLCJfdGhpcyRwaHlzaWNzIiwiX3RoaXMkc3lzIiwiY3RybEtleSIsImRyYXdEZWJ1ZyIsImRlYnVnR3JhcGhpYyIsImFyY2FkZSIsImRlYnVnIiwibWFwT2JqZWN0IiwiY29sbGlkZXIiLCJnZXRFbGVtZW50QnlJZCIsInN0eWxlIiwidGV4dENvbnRlbnQiLCJmZXRjaCIsIm1ldGhvZCIsImhlYWRlcnMiLCJKU09OIiwic3RyaW5naWZ5IiwidGhlbiIsInJlc3BvbnNlIiwianNvbiIsInVzZXJUZWFtIiwidXNlclBsYXllciIsIm9wVGVhbSIsIm9wcG9uZW50UGxheWVyIiwiZXJyb3IiLCJjb25zb2xlIiwiZmlnaHQiLCJvcGFjaXR5IiwiYWRkRXZlbnRMaXN0ZW5lciIsImV2ZW50IiwicHJld2FybUR1c3QiLCJwcmV2WCIsInByZXZZIiwiZGVsdGFYIiwiZGVsdGFZIiwiZGlzdGFuY2UiLCJ0d2VlbkR1cmF0aW9uIiwiX2R1c3RUaW1lciIsIm93bmVyQ2hhcmFjdGVyIiwiaGFuZGxlZCIsImhhbmRsZVJlbW90ZUF0dGFjayIsImxvZyIsImlzUGxheWluZyIsInN0b3AiLCJpc0xvc2VyIiwibG9zZXJzIiwidm9sIiwiYmdtUmVzdWx0IiwiZ2FtZU92ZXIiLCJ0b1VwcGVyQ2FzZSIsInNyYyIsImRpc3BsYXkiLCJiYWNrZ3JvdW5kQ29sb3IiLCJfcGxheWVyJGFuaW1zJGN1cnJlbnQiLCJsZWZ0S2V5IiwiaXNEb3duIiwiYWRkS2V5IiwicmlnaHRLZXkiLCJyaWdodCIsInVwS2V5IiwidXAiLCJzZXRWZWxvY2l0eVgiLCJ3YXNGbGlwIiwidG91Y2hpbmciLCJkb3duIiwic2V0VmVsb2NpdHlZIiwidWlUb3AiLCJvbkdyb3VuZCIsImR1c3RZIiwiZHVzdFgiLCJyYW5kb20iLCJoYW5kbGVQbGF5ZXJNb3ZlbWVudCIsImN1cnJlbnRTdGF0ZSIsImN1cnJlbnRBbmltIiwiX29iamVjdFNwcmVhZCIsInRhcmdldFQiLCJvbGRlciIsIm5ld2VyIiwidDEiLCJsZXJwIiwiYXBwbHlJbnRlcnAiLCJ3cmFwcGVyIiwiX2JTdGF0ZSR4IiwiX2JTdGF0ZSR5IiwiX2JTdGF0ZSR4MiIsIl9iU3RhdGUkeTIiLCJzMCIsInBsYXllcnMiLCJzMSIsImFTdGF0ZSIsImJTdGF0ZSIsIl9iU3RhdGUkeDMiLCJfYlN0YXRlJHkzIiwiaXgiLCJpeSIsImFuaW1TcmMiLCJwcmV2RmxpcCIsIkFVVE8iLCJyZXNvbHV0aW9uIiwiZGV2aWNlUGl4ZWxSYXRpbyIsIm1vZGUiLCJTY2FsZSIsIkZJVCIsImF1dG9DZW50ZXIiLCJDRU5URVJfQk9USCIsImRlZmF1bHQiLCJncmF2aXR5IiwiR2FtZSJdLCJzb3VyY2VSb290IjoiIn0=
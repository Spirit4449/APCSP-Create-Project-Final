(()=>{"use strict";function t(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=Array(e);n<e;n++)o[n]=t[n];return o}function e(e){var n="".concat(encodeURIComponent(e),"="),o=document.cookie||"";if(!o)return"";var a,r=function(e,n){var o="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!o){if(Array.isArray(e)||(o=function(e,n){if(e){if("string"==typeof e)return t(e,n);var o={}.toString.call(e).slice(8,-1);return"Object"===o&&e.constructor&&(o=e.constructor.name),"Map"===o||"Set"===o?Array.from(e):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?t(e,n):void 0}}(e))||n&&e&&"number"==typeof e.length){o&&(e=o);var a=0,r=function(){};return{s:r,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,i=!0,s=!1;return{s:function(){o=o.call(e)},n:function(){var t=o.next();return i=t.done,t},e:function(t){s=!0,c=t},f:function(){try{i||null==o.return||o.return()}finally{if(s)throw c}}}}(o.split("; "));try{for(r.s();!(a=r.n()).done;){var c=a.value;if(c.startsWith(n))return decodeURIComponent(c.slice(n.length))}}catch(t){r.e(t)}finally{r.f()}return""}var n=io("/");function o(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{console.log("[MM][".concat((new Date).toISOString(),"] ").concat(t),e)}catch(e){console.log("[MM] ".concat(t))}}o("matchmaking page load",{partyId:window.location.pathname});var a=window.location.pathname.split("/").filter(Boolean).pop();function r(){var t=document.querySelector(".background"),e=function(){for(var t="#",e=0;e<6;e++)t+="0123456789ABCDEF"[Math.floor(16*Math.random())];return t}();t.style.backgroundColor=e}n.on("game-started",function(t){if(o("recv game-started",{partyId:t.partyId,foundId:t.foundId,gameId:t.gameId}),a===t.foundId||a===t.partyId){for(var n in t.gameData)for(var r in t.gameData[n]){var c=t.gameData[n][r];c.name===e("name")&&(sessionStorage.setItem("character",c.character),sessionStorage.setItem("spawnPlatform",c.spawnPlatform),sessionStorage.setItem("spawn",c.spawn),sessionStorage.setItem("party",t.foundId),sessionStorage.setItem("partyMembers",t.partyMembers),sessionStorage.setItem("map",t.map))}var i=sessionStorage.getItem("membersToFind");document.getElementById("players-found").textContent="Players Found: ".concat(i,"/").concat(i),setTimeout(function(){window.location="/game/".concat(t.gameId),o("navigate game",{gameId:t.gameId})},500)}}),n.on("matchmaking-disconnect",function(t){console.log("Got the disconnect message"),o("recv matchmaking-disconnect",t),a===t.partyId&&(window.location.href="/party/".concat(a))}),document.addEventListener("DOMContentLoaded",function(){setInterval(r,5e3),r(),document.getElementById("leave").addEventListener("click",function(t){window.history.back()});var t=document.getElementById("finding-players");setInterval(function(){t.textContent=function(){dots=[".","..","..."];var t=Math.floor(Math.random()*dots.length),e=dots[t];return"Finding Players ".concat(e)}()},1e3);var e=document.getElementById("players-found"),n=sessionStorage.getItem("matchmakingMembers"),o=sessionStorage.getItem("membersToFind");e.textContent="Players Found: ".concat(n,"/").concat(o)})})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYnVuZGxlcy9tYXRjaG1ha2luZy5idW5kbGUuanMiLCJtYXBwaW5ncyI6InlIQTBDTyxTQUFTQSxFQUFVQyxHQUN4QixJQUFNQyxFQUFTLEdBQUhDLE9BQU1DLG1CQUFtQkgsR0FBSyxLQUNwQ0ksRUFBTUMsU0FBU0MsUUFBVSxHQUMvQixJQUFLRixFQUFLLE1BQU8sR0FDakIsSUFDd0JHLEVBRE1DLEUsNjRCQUFBQyxDQUFoQkwsRUFBSU0sTUFBTSxPQUNBLElBQXhCLElBQUFGLEVBQUFHLE1BQUFKLEVBQUFDLEVBQUFJLEtBQUFDLE1BQTBCLEtBQWZDLEVBQUlQLEVBQUFRLE1BQ2IsR0FBSUQsRUFBS0UsV0FBV2YsR0FDbEIsT0FBT2dCLG1CQUFtQkgsRUFBS0ksTUFBTWpCLEVBQU9rQixRQUVoRCxDQUFDLE9BQUFDLEdBQUFaLEVBQUFhLEVBQUFELEVBQUEsU0FBQVosRUFBQWMsR0FBQSxDQUNELE1BQU8sRUFDVCxDQ2xEQSxJQUFNQyxFQUFTQyxHQUFHLEtBQ2xCLFNBQVNDLEVBQU1DLEdBQWtCLElBQVhDLEVBQUlDLFVBQUFULE9BQUEsUUFBQVUsSUFBQUQsVUFBQSxHQUFBQSxVQUFBLEdBQUcsQ0FBQyxFQUM1QixJQUNFRSxRQUFRQyxJQUFJLFFBQUQ3QixRQUFTLElBQUk4QixNQUFPQyxjQUFhLE1BQUEvQixPQUFLd0IsR0FBU0MsRUFDNUQsQ0FBRSxNQUFPTixHQUNQUyxRQUFRQyxJQUFJLFFBQUQ3QixPQUFTd0IsR0FDdEIsQ0FDRixDQUNBRCxFQUFNLHdCQUF5QixDQUFFUyxRQUFTQyxPQUFPQyxTQUFTQyxXQUUxRCxJQUFJSCxFQUFVQyxPQUFPQyxTQUFTQyxTQUFTM0IsTUFBTSxLQUFLNEIsT0FBT0MsU0FBU0MsTUE0RGxFLFNBQVNDLElBQ1AsSUFBTUMsRUFBYXJDLFNBQVNzQyxjQUFjLGVBQ3BDQyxFQWJSLFdBR0UsSUFGQSxJQUNJQSxFQUFRLElBQ0hDLEVBQUksRUFBR0EsRUFBSSxFQUFHQSxJQUVyQkQsR0FKYyxtQkFJR0UsS0FBS0MsTUFBc0IsR0FBaEJELEtBQUtFLFdBRW5DLE9BQU9KLENBQ1QsQ0FLZ0JLLEdBQ2RQLEVBQVdRLE1BQU1DLGdCQUFrQlAsQ0FDckMsQ0E5REFyQixFQUFPNkIsR0FBRyxlQUFnQixTQUFDekIsR0FPekIsR0FOQUYsRUFBTSxvQkFBcUIsQ0FDekJTLFFBQVNQLEVBQUtPLFFBQ2RtQixRQUFTMUIsRUFBSzBCLFFBQ2RDLE9BQVEzQixFQUFLMkIsU0FHWHBCLElBQVlQLEVBQUswQixTQUFXbkIsSUFBWVAsRUFBS08sUUFBUyxDQUN4RCxJQUFLLElBQU1xQixLQUFRNUIsRUFBSzZCLFNBRXRCLElBQUssSUFBTUMsS0FBYTlCLEVBQUs2QixTQUFTRCxHQUFPLENBRTNDLElBQU1HLEVBQVMvQixFQUFLNkIsU0FBU0QsR0FBTUUsR0FDL0JDLEVBQWEsT0FBTTNELEVBQVUsVUFHL0I0RCxlQUFlQyxRQUFRLFlBQWFGLEVBQWtCLFdBQ3REQyxlQUFlQyxRQUFRLGdCQUFpQkYsRUFBc0IsZUFDOURDLGVBQWVDLFFBQVEsUUFBU0YsRUFBYyxPQUM5Q0MsZUFBZUMsUUFBUSxRQUFTakMsRUFBSzBCLFNBQ3JDTSxlQUFlQyxRQUFRLGVBQWdCakMsRUFBS2tDLGNBQzVDRixlQUFlQyxRQUFRLE1BQU9qQyxFQUFLbUMsS0FFdkMsQ0FFRixJQUFNQyxFQUFnQkosZUFBZUssUUFBUSxpQkFDeEIzRCxTQUFTNEQsZUFBZSxpQkFFaENDLFlBQWMsa0JBQUhoRSxPQUFxQjZELEVBQWEsS0FBQTdELE9BQUk2RCxHQUM5REksV0FBVyxXQUNUaEMsT0FBT0MsU0FBVyxTQUFIbEMsT0FBWXlCLEVBQUsyQixRQUNoQzdCLEVBQU0sZ0JBQWlCLENBQUU2QixPQUFRM0IsRUFBSzJCLFFBQ3hDLEVBQUcsSUFDTCxDQUNGLEdBR0EvQixFQUFPNkIsR0FBRyx5QkFBMEIsU0FBQ3pCLEdBQ25DRyxRQUFRQyxJQUFJLDhCQUNaTixFQUFNLDhCQUErQkUsR0FDakNPLElBQVlQLEVBQUtPLFVBQ25CQyxPQUFPQyxTQUFTZ0MsS0FBTyxVQUFIbEUsT0FBYWdDLEdBRXJDLEdBcUJBN0IsU0FBU2dFLGlCQUFpQixtQkFBb0IsV0FDNUNDLFlBQVk3QixFQUF1QixLQUNuQ0EsSUFFY3BDLFNBQVM0RCxlQUFlLFNBQ2hDSSxpQkFBaUIsUUFBUyxTQUFDRSxHQUMvQnBDLE9BQU9xQyxRQUFRQyxNQUNqQixHQUdBLElBQU1DLEVBQWlCckUsU0FBUzRELGVBQWUsbUJBQy9DSyxZQUFZLFdBQ1ZJLEVBQWVSLFlBR2pCLFdBQ0VTLEtBQU8sQ0FBQyxJQUFLLEtBQU0sT0FDbkIsSUFBTUMsRUFBYzlCLEtBQUtDLE1BQU1ELEtBQUtFLFNBQVcyQixLQUFLeEQsUUFDOUMwRCxFQUFPRixLQUFLQyxHQUVsQixNQURhLG1CQUFIMUUsT0FBc0IyRSxFQUVsQyxDQVQrQkMsRUFDL0IsRUFBRyxLQVVILElBQU1DLEVBQWUxRSxTQUFTNEQsZUFBZSxpQkFDdkNlLEVBQVVyQixlQUFlSyxRQUFRLHNCQUNqQ0QsRUFBZ0JKLGVBQWVLLFFBQVEsaUJBQzdDZSxFQUFhYixZQUFjLGtCQUFIaEUsT0FBcUI4RSxFQUFPLEtBQUE5RSxPQUFJNkQsRUFDMUQsRSIsInNvdXJjZXMiOlsid2VicGFjazovL2FwY3NwLWNyZWF0ZS1wcm9qZWN0LS0tZmluYWwvLi9zcmMvbGliL2Nvb2tpZXMuanMiLCJ3ZWJwYWNrOi8vYXBjc3AtY3JlYXRlLXByb2plY3QtLS1maW5hbC8uL3NyYy9tYXRjaG1ha2luZy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBjb29raWVzLmpzXHJcblxyXG5jb25zdCBERUZBVUxUX1BBVEggPSBcIi9cIjtcclxuY29uc3QgREVGQVVMVF9TQU1FU0lURSA9IFwiTGF4XCI7XHJcblxyXG4vKipcclxuICogU2V0IGEgbm9uLUh0dHBPbmx5IGNvb2tpZSBmcm9tIHRoZSBicm93c2VyLlxyXG4gKiBOT1RFOiBZb3UgY2Fubm90IHNldC9jbGVhciB0aGUgc2lnbmVkIEh0dHBPbmx5IGlkZW50aXR5IGNvb2tpZSAoZ3Vlc3RfaWQvdXNlcl9pZCkgZnJvbSBKUy5cclxuICogVXNlIGEgc2VydmVyIGVuZHBvaW50IChlLmcuLCBQT1NUIC9sb2dvdXQpIHRvIGNsZWFyIGlkZW50aXR5IGNvb2tpZXMuXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gc2V0Q29va2llKFxyXG4gIG5hbWUsXHJcbiAgdmFsdWUsXHJcbiAge1xyXG4gICAgZGF5cyA9IDMwLCAgICAgICAgICAgLy8gZGVmYXVsdCAzMCBkYXlzXHJcbiAgICBwYXRoID0gREVGQVVMVF9QQVRILFxyXG4gICAgc2FtZVNpdGUgPSBERUZBVUxUX1NBTUVTSVRFLCAvLyBcIkxheFwiIGJ5IGRlZmF1bHRcclxuICAgIHNlY3VyZSwgICAgICAgICAgICAgIC8vIGF1dG8tdHJ1ZSBvbiBIVFRQUyBpZiBub3QgcHJvdmlkZWRcclxuICB9ID0ge31cclxuKSB7XHJcbiAgY29uc3QgbWF4QWdlID0gTWF0aC5tYXgoMCwgTWF0aC5mbG9vcihkYXlzICogMjQgKiA2MCAqIDYwKSk7IC8vIHNlY29uZHNcclxuICBjb25zdCBpc0h0dHBzID1cclxuICAgIHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgJiZcclxuICAgIHdpbmRvdy5sb2NhdGlvbiAmJlxyXG4gICAgd2luZG93LmxvY2F0aW9uLnByb3RvY29sID09PSBcImh0dHBzOlwiO1xyXG4gIGNvbnN0IHVzZVNlY3VyZSA9IHNlY3VyZSA/PyBpc0h0dHBzO1xyXG5cclxuICBsZXQgY29va2llID1cclxuICAgIGAke2VuY29kZVVSSUNvbXBvbmVudChuYW1lKX09JHtlbmNvZGVVUklDb21wb25lbnQodmFsdWUpfTsgYCArXHJcbiAgICBgTWF4LUFnZT0ke21heEFnZX07IFBhdGg9JHtwYXRofTsgU2FtZVNpdGU9JHtzYW1lU2l0ZX1gO1xyXG5cclxuICBpZiAodXNlU2VjdXJlKSBjb29raWUgKz0gXCI7IFNlY3VyZVwiO1xyXG5cclxuICBkb2N1bWVudC5jb29raWUgPSBjb29raWU7XHJcbn1cclxuXHJcbi8qKiBCYWNrd2FyZCBjb21wYXRpYmlsaXR5IGZvciBleGlzdGluZyBpbXBvcnRzICovXHJcbmV4cG9ydCBjb25zdCBjcmVhdGVDb29raWUgPSBzZXRDb29raWU7XHJcblxyXG4vKipcclxuICogR2V0IGEgY29va2llIHZhbHVlIGJ5IG5hbWUuIFJldHVybnMgXCJcIiBpZiBub3QgZm91bmQgKGJhY2t3YXJkIGNvbXBhdGlibGUpLlxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGdldENvb2tpZShuYW1lKSB7XHJcbiAgY29uc3QgbmVlZGxlID0gYCR7ZW5jb2RlVVJJQ29tcG9uZW50KG5hbWUpfT1gO1xyXG4gIGNvbnN0IHJhdyA9IGRvY3VtZW50LmNvb2tpZSB8fCBcIlwiO1xyXG4gIGlmICghcmF3KSByZXR1cm4gXCJcIjtcclxuICBjb25zdCBwYXJ0cyA9IHJhdy5zcGxpdChcIjsgXCIpO1xyXG4gIGZvciAoY29uc3QgcGFydCBvZiBwYXJ0cykge1xyXG4gICAgaWYgKHBhcnQuc3RhcnRzV2l0aChuZWVkbGUpKSB7XHJcbiAgICAgIHJldHVybiBkZWNvZGVVUklDb21wb25lbnQocGFydC5zbGljZShuZWVkbGUubGVuZ3RoKSk7XHJcbiAgICB9XHJcbiAgfVxyXG4gIHJldHVybiBcIlwiO1xyXG59XHJcblxyXG4vKipcclxuICogRGVsZXRlIGEgY29va2llIGJ5IG5hbWUuXHJcbiAqIE5PVEU6IFRoaXMgY2Fubm90IGRlbGV0ZSBIdHRwT25seSBjb29raWVzIHNldCBieSB0aGUgc2VydmVyOyB1c2UgYSBzZXJ2ZXIgcm91dGUgKGUuZy4sIC9sb2dvdXQpLlxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGRlbGV0ZUNvb2tpZShcclxuICBuYW1lLFxyXG4gIHsgcGF0aCA9IERFRkFVTFRfUEFUSCwgc2FtZVNpdGUgPSBERUZBVUxUX1NBTUVTSVRFLCBzZWN1cmUgfSA9IHt9XHJcbikge1xyXG4gIGNvbnN0IGlzSHR0cHMgPVxyXG4gICAgdHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiAmJlxyXG4gICAgd2luZG93LmxvY2F0aW9uICYmXHJcbiAgICB3aW5kb3cubG9jYXRpb24ucHJvdG9jb2wgPT09IFwiaHR0cHM6XCI7XHJcbiAgY29uc3QgdXNlU2VjdXJlID0gc2VjdXJlID8/IGlzSHR0cHM7XHJcblxyXG4gIGxldCBjb29raWUgPVxyXG4gICAgYCR7ZW5jb2RlVVJJQ29tcG9uZW50KG5hbWUpfT07IE1heC1BZ2U9MDsgUGF0aD0ke3BhdGh9OyBTYW1lU2l0ZT0ke3NhbWVTaXRlfWA7XHJcbiAgaWYgKHVzZVNlY3VyZSkgY29va2llICs9IFwiOyBTZWN1cmVcIjtcclxuICBkb2N1bWVudC5jb29raWUgPSBjb29raWU7XHJcbn1cclxuXHJcbi8qKiBDb252ZW5pZW5jZSBoZWxwZXIgZm9yIHlvdXIgVUkgYmFubmVyICovXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXREaXNwbGF5TmFtZSgpIHtcclxuICByZXR1cm4gZ2V0Q29va2llKFwiZGlzcGxheV9uYW1lXCIpIHx8IFwiR3Vlc3RcIjtcclxufVxyXG4iLCIvLyBtYXRjaG1ha2luZy5qc1xyXG5cclxuaW1wb3J0IHsgZ2V0Q29va2llIH0gZnJvbSBcIi4vbGliL2Nvb2tpZXNcIjtcclxuY29uc3Qgc29ja2V0ID0gaW8oXCIvXCIpO1xyXG5mdW5jdGlvbiBtbWRiZyhsYWJlbCwgZGF0YSA9IHt9KSB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnNvbGUubG9nKGBbTU1dWyR7bmV3IERhdGUoKS50b0lTT1N0cmluZygpfV0gJHtsYWJlbH1gLCBkYXRhKTtcclxuICB9IGNhdGNoIChlKSB7XHJcbiAgICBjb25zb2xlLmxvZyhgW01NXSAke2xhYmVsfWApO1xyXG4gIH1cclxufVxyXG5tbWRiZyhcIm1hdGNobWFraW5nIHBhZ2UgbG9hZFwiLCB7IHBhcnR5SWQ6IHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZSB9KTtcclxuXHJcbmxldCBwYXJ0eUlkID0gd2luZG93LmxvY2F0aW9uLnBhdGhuYW1lLnNwbGl0KFwiL1wiKS5maWx0ZXIoQm9vbGVhbikucG9wKCk7XHJcblxyXG5zb2NrZXQub24oXCJnYW1lLXN0YXJ0ZWRcIiwgKGRhdGEpID0+IHtcclxuICBtbWRiZyhcInJlY3YgZ2FtZS1zdGFydGVkXCIsIHtcclxuICAgIHBhcnR5SWQ6IGRhdGEucGFydHlJZCxcclxuICAgIGZvdW5kSWQ6IGRhdGEuZm91bmRJZCxcclxuICAgIGdhbWVJZDogZGF0YS5nYW1lSWQsXHJcbiAgfSk7XHJcbiAgLy8gSWYgZWl0aGVyIHRoZSBmb3VuZCB0ZWFtIG9yIG93bmVyIHRlYW1cclxuICBpZiAocGFydHlJZCA9PT0gZGF0YS5mb3VuZElkIHx8IHBhcnR5SWQgPT09IGRhdGEucGFydHlJZCkge1xyXG4gICAgZm9yIChjb25zdCB0ZWFtIGluIGRhdGEuZ2FtZURhdGEpIHtcclxuICAgICAgLy8gRm9yIGVhY2ggdGVhbVxyXG4gICAgICBmb3IgKGNvbnN0IHBsYXllcktleSBpbiBkYXRhLmdhbWVEYXRhW3RlYW1dKSB7XHJcbiAgICAgICAgLy8gRm9yIGVhY2ggcGxheWVyXHJcbiAgICAgICAgY29uc3QgcGxheWVyID0gZGF0YS5nYW1lRGF0YVt0ZWFtXVtwbGF5ZXJLZXldO1xyXG4gICAgICAgIGlmIChwbGF5ZXJbXCJuYW1lXCJdID09PSBnZXRDb29raWUoXCJuYW1lXCIpKSB7XHJcbiAgICAgICAgICAvLyBJZiBuYW1lXHJcbiAgICAgICAgICAvLyBTZXQgc2Vzc2lvbiB2YXJpYWJsZXNcclxuICAgICAgICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oXCJjaGFyYWN0ZXJcIiwgcGxheWVyW1wiY2hhcmFjdGVyXCJdKTtcclxuICAgICAgICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oXCJzcGF3blBsYXRmb3JtXCIsIHBsYXllcltcInNwYXduUGxhdGZvcm1cIl0pO1xyXG4gICAgICAgICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbShcInNwYXduXCIsIHBsYXllcltcInNwYXduXCJdKTtcclxuICAgICAgICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oXCJwYXJ0eVwiLCBkYXRhLmZvdW5kSWQpO1xyXG4gICAgICAgICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbShcInBhcnR5TWVtYmVyc1wiLCBkYXRhLnBhcnR5TWVtYmVycyk7XHJcbiAgICAgICAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKFwibWFwXCIsIGRhdGEubWFwKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIGNvbnN0IG1lbWJlcnNUb0ZpbmQgPSBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKFwibWVtYmVyc1RvRmluZFwiKTtcclxuICAgIGNvbnN0IHBsYXllcnNGb3VuZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicGxheWVycy1mb3VuZFwiKTtcclxuICAgIC8vIFNldCB0ZXh0Y29udGVudCBvZiBtYXRjaG1ha2luZyBwbGF5ZXJzXHJcbiAgICBwbGF5ZXJzRm91bmQudGV4dENvbnRlbnQgPSBgUGxheWVycyBGb3VuZDogJHttZW1iZXJzVG9GaW5kfS8ke21lbWJlcnNUb0ZpbmR9YDtcclxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICB3aW5kb3cubG9jYXRpb24gPSBgL2dhbWUvJHtkYXRhLmdhbWVJZH1gO1xyXG4gICAgICBtbWRiZyhcIm5hdmlnYXRlIGdhbWVcIiwgeyBnYW1lSWQ6IGRhdGEuZ2FtZUlkIH0pO1xyXG4gICAgfSwgNTAwKTtcclxuICB9XHJcbn0pO1xyXG5cclxuLy8gSWYgYSBwbGF5ZXIgbGVhdmVzLCByZWRpcmVjdHMgYmFjayB0byBwYXJ0eVxyXG5zb2NrZXQub24oXCJtYXRjaG1ha2luZy1kaXNjb25uZWN0XCIsIChkYXRhKSA9PiB7XHJcbiAgY29uc29sZS5sb2coXCJHb3QgdGhlIGRpc2Nvbm5lY3QgbWVzc2FnZVwiKTtcclxuICBtbWRiZyhcInJlY3YgbWF0Y2htYWtpbmctZGlzY29ubmVjdFwiLCBkYXRhKTtcclxuICBpZiAocGFydHlJZCA9PT0gZGF0YS5wYXJ0eUlkKSB7XHJcbiAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IGAvcGFydHkvJHtwYXJ0eUlkfWA7XHJcbiAgfVxyXG59KTtcclxuXHJcblxyXG4vLyBSYW5kb20gY29sb3IgZnVuY3Rpb24gdG8gY2hhbmdlIGNvbG9yIG9mIGJhY2tncm91bmQgcGVyaW9kaWNhbHlcclxuZnVuY3Rpb24gZ2V0UmFuZG9tQ29sb3IoKSB7XHJcbiAgY29uc3QgbGV0dGVycyA9IFwiMDEyMzQ1Njc4OUFCQ0RFRlwiO1xyXG4gIGxldCBjb2xvciA9IFwiI1wiO1xyXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgNjsgaSsrKSB7XHJcbiAgICAvLyBDaG9vc2VzIGEgcmFuZG9tIDYgZGlnaXQgc3RyaW5nXHJcbiAgICBjb2xvciArPSBsZXR0ZXJzW01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDE2KV07XHJcbiAgfVxyXG4gIHJldHVybiBjb2xvcjtcclxufVxyXG5cclxuLy8gRnVuY3Rpb24gdG8gc2V0IGEgcmFuZG9tIGNvbG9yIGFzIGJhY2tncm91bmRcclxuZnVuY3Rpb24gY2hhbmdlQmFja2dyb3VuZENvbG9yKCkge1xyXG4gIGNvbnN0IGJhY2tncm91bmQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmJhY2tncm91bmRcIik7IC8vIEdldHMgYmFja2dyb3VuZCBvYmplY3RcclxuICBjb25zdCBjb2xvciA9IGdldFJhbmRvbUNvbG9yKCk7IC8vIENhbGxzIHJhbmRvbSBjb2xvciBmdW5jaXRvblxyXG4gIGJhY2tncm91bmQuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gY29sb3I7IC8vIFNldHMgYmFja2dyb3VuZCBjb2xvclxyXG59XHJcblxyXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiRE9NQ29udGVudExvYWRlZFwiLCAoKSA9PiB7XHJcbiAgc2V0SW50ZXJ2YWwoY2hhbmdlQmFja2dyb3VuZENvbG9yLCA1MDAwKTsgLy8gRXZlcnkgNSBzZWNvbmRzIGJhY2tncm91bmQgY29sb3IgaXMgY2hhbmdlZFxyXG4gIGNoYW5nZUJhY2tncm91bmRDb2xvcigpO1xyXG5cclxuICBjb25zdCBsZWF2ZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibGVhdmVcIik7XHJcbiAgbGVhdmUuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChldmVudCkgPT4ge1xyXG4gICAgd2luZG93Lmhpc3RvcnkuYmFjaygpO1xyXG4gIH0pO1xyXG5cclxuICAvLyBDaGFuZ2VzIHRleHQgb2YgZmluZGluZyBwbGF5ZXJzIGhlYWRlclxyXG4gIGNvbnN0IGZpbmRpbmdQbGF5ZXJzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJmaW5kaW5nLXBsYXllcnNcIik7XHJcbiAgc2V0SW50ZXJ2YWwoKCkgPT4ge1xyXG4gICAgZmluZGluZ1BsYXllcnMudGV4dENvbnRlbnQgPSBjaGFuZ2VUZXh0KCk7XHJcbiAgfSwgMTAwMCk7XHJcblxyXG4gIGZ1bmN0aW9uIGNoYW5nZVRleHQoKSB7XHJcbiAgICBkb3RzID0gW1wiLlwiLCBcIi4uXCIsIFwiLi4uXCJdO1xyXG4gICAgY29uc3QgcmFuZG9tSW5kZXggPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBkb3RzLmxlbmd0aCk7IC8vIFJhbmRvbWx5IHNlbGVjdHMgYSBkb3QgYW1vdW50IGZyb20gdGhlIGxpc3RcclxuICAgIGNvbnN0IGl0ZW0gPSBkb3RzW3JhbmRvbUluZGV4XTtcclxuICAgIGNvbnN0IHRleHQgPSBgRmluZGluZyBQbGF5ZXJzICR7aXRlbX1gO1xyXG4gICAgcmV0dXJuIHRleHQ7XHJcbiAgfVxyXG5cclxuICBjb25zdCBwbGF5ZXJzRm91bmQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInBsYXllcnMtZm91bmRcIik7XHJcbiAgY29uc3QgbWVtYmVycyA9IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oXCJtYXRjaG1ha2luZ01lbWJlcnNcIik7XHJcbiAgY29uc3QgbWVtYmVyc1RvRmluZCA9IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oXCJtZW1iZXJzVG9GaW5kXCIpO1xyXG4gIHBsYXllcnNGb3VuZC50ZXh0Q29udGVudCA9IGBQbGF5ZXJzIEZvdW5kOiAke21lbWJlcnN9LyR7bWVtYmVyc1RvRmluZH1gO1xyXG59KTtcclxuIl0sIm5hbWVzIjpbImdldENvb2tpZSIsIm5hbWUiLCJuZWVkbGUiLCJjb25jYXQiLCJlbmNvZGVVUklDb21wb25lbnQiLCJyYXciLCJkb2N1bWVudCIsImNvb2tpZSIsIl9zdGVwIiwiX2l0ZXJhdG9yIiwiX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIiLCJzcGxpdCIsInMiLCJuIiwiZG9uZSIsInBhcnQiLCJ2YWx1ZSIsInN0YXJ0c1dpdGgiLCJkZWNvZGVVUklDb21wb25lbnQiLCJzbGljZSIsImxlbmd0aCIsImVyciIsImUiLCJmIiwic29ja2V0IiwiaW8iLCJtbWRiZyIsImxhYmVsIiwiZGF0YSIsImFyZ3VtZW50cyIsInVuZGVmaW5lZCIsImNvbnNvbGUiLCJsb2ciLCJEYXRlIiwidG9JU09TdHJpbmciLCJwYXJ0eUlkIiwid2luZG93IiwibG9jYXRpb24iLCJwYXRobmFtZSIsImZpbHRlciIsIkJvb2xlYW4iLCJwb3AiLCJjaGFuZ2VCYWNrZ3JvdW5kQ29sb3IiLCJiYWNrZ3JvdW5kIiwicXVlcnlTZWxlY3RvciIsImNvbG9yIiwiaSIsIk1hdGgiLCJmbG9vciIsInJhbmRvbSIsImdldFJhbmRvbUNvbG9yIiwic3R5bGUiLCJiYWNrZ3JvdW5kQ29sb3IiLCJvbiIsImZvdW5kSWQiLCJnYW1lSWQiLCJ0ZWFtIiwiZ2FtZURhdGEiLCJwbGF5ZXJLZXkiLCJwbGF5ZXIiLCJzZXNzaW9uU3RvcmFnZSIsInNldEl0ZW0iLCJwYXJ0eU1lbWJlcnMiLCJtYXAiLCJtZW1iZXJzVG9GaW5kIiwiZ2V0SXRlbSIsImdldEVsZW1lbnRCeUlkIiwidGV4dENvbnRlbnQiLCJzZXRUaW1lb3V0IiwiaHJlZiIsImFkZEV2ZW50TGlzdGVuZXIiLCJzZXRJbnRlcnZhbCIsImV2ZW50IiwiaGlzdG9yeSIsImJhY2siLCJmaW5kaW5nUGxheWVycyIsImRvdHMiLCJyYW5kb21JbmRleCIsIml0ZW0iLCJjaGFuZ2VUZXh0IiwicGxheWVyc0ZvdW5kIiwibWVtYmVycyJdLCJzb3VyY2VSb290IjoiIn0=